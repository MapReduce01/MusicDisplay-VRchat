(function () {
var requirejs,require,define;!function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var i;if(e)for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}function eachReverse(e,t){var i;if(e)for(i=e.length-1;-1<i&&(!e[i]||!t(e[i],i,e));i-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(i,e,r,n){return e&&eachProp(e,function(e,t){!r&&hasProp(i,t)||(!n||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?i[t]=e:(i[t]||(i[t]={}),mixin(i[t],e,r,n)))}),i}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=i,i=r):e=[]),o&&o.context&&(a=o.context),(n=getOwn(contexts,a))||(n=contexts[a]=req.s.newContext(a)),o&&n.configure(o),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,i,r){var e,n=t&&t.config||{};if(isBrowser)return(e=req.createNode(n,i,r)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",i),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=r,n.onNodeCreated&&n.onNodeCreated(e,n,i,r),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),t.completeLoad(i)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+i+" at "+r,e,[i]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,i,t){var r,n;"string"!=typeof e&&(t=i,i=e,e=null),isArray(i)||(t=i,i=null),!i&&isFunction(t)&&(i=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){i.push(t)}),i=(1===t.length?["require"]:["require","exports","module"]).concat(i))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")]),n?(n.defQueue.push([e,i,t]),n.defQueueMap[e]=!0):globalDefQueue.push([e,i,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(u){var i,e,l,c,d,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},p={},f={},r={},h=[],m={},n={},v={},x=1,b=1;function q(e,t,i){var r,n,o,a,s,u,c,d,p,f,l=t&&t.split("/"),h=g.map,m=h&&h["*"];if(e&&(u=(e=e.split("/")).length-1,g.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&l&&(e=l.slice(0,l.length-1).concat(e)),function(e){var t,i;for(t=0;t<e.length;t++)if("."===(i=e[t]))e.splice(t,1),t-=1;else if(".."===i){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;0<t&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),i&&h&&(l||m)){e:for(o=(n=e.split("/")).length;0<o;o-=1){if(s=n.slice(0,o).join("/"),l)for(a=l.length;0<a;a-=1)if((r=getOwn(h,l.slice(0,a).join("/")))&&(r=getOwn(r,s))){c=r,d=o;break e}!p&&m&&getOwn(m,s)&&(p=getOwn(m,s),f=o)}!c&&p&&(c=p,d=f),c&&(n.splice(0,d,c),e=n.join("/"))}return getOwn(g.pkgs,e)||e}function E(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===l.contextName)return e.parentNode.removeChild(e),!0})}function w(e){var t=getOwn(g.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),l.require.undef(e),l.makeRequire(null,{skipMap:!0})([e]),!0}function y(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function S(e,t,i,r){var n,o,a,s,u=null,c=t?t.name:null,d=e,p=!0,f="";return e||(p=!1,e="_@r"+(x+=1)),u=(s=y(e))[0],e=s[1],u&&(u=q(u,c,r),o=getOwn(m,u)),e&&(u?f=i?e:o&&o.normalize?o.normalize(e,function(e){return q(e,c,r)}):-1===e.indexOf("!")?q(e,c,r):e:(u=(s=y(f=q(e,c,r)))[0],f=s[1],i=!0,n=l.nameToUrl(f))),{prefix:u,name:f,parentMap:t,unnormalized:!!(a=!u||o||i?"":"_unnormalized"+(b+=1)),url:n,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+a}}function k(e){var t=e.id,i=getOwn(p,t);return i||(i=p[t]=new l.Module(e)),i}function M(e,t,i){var r=e.id,n=getOwn(p,r);!hasProp(m,r)||n&&!n.defineEmitComplete?(n=k(e)).error&&"error"===t?i(n.error):n.on(t,i):"defined"===t&&i(m[r])}function O(i,e){var t=i.requireModules,r=!1;e?e(i):(each(t,function(e){var t=getOwn(p,e);t&&(t.error=i,t.events.error&&(r=!0,t.emit("error",i)))}),r||req.onError(i))}function j(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(l.defQueueMap[t]=!0),h.push(e)}),globalDefQueue=[])}function P(e){delete p[e],delete f[e]}function R(){var e,r,t=1e3*g.waitSeconds,n=t&&l.startTime+t<(new Date).getTime(),o=[],a=[],s=!1,u=!0;if(!i){if(i=!0,eachProp(f,function(e){var t=e.map,i=t.id;if(e.enabled&&(t.isDefine||a.push(e),!e.error))if(!e.inited&&n)w(i)?s=r=!0:(o.push(i),E(i));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return u=!1}),n&&o.length)return(e=makeError("timeout","Load timeout for modules: "+o,null,o)).contextName=l.contextName,O(e);u&&each(a,function(e){!function n(o,a,s){var e=o.map.id;o.error?o.emit("error",o.error):(a[e]=!0,each(o.depMaps,function(e,t){var i=e.id,r=getOwn(p,i);!r||o.depMatched[t]||s[i]||(getOwn(a,i)?(o.defineDep(t,m[i]),o.check()):n(r,a,s))}),s[e]=!0)}(e,{},{})}),n&&!r||!s||!isBrowser&&!isWebWorker||d||(d=setTimeout(function(){d=0,R()},50)),i=!1}}function a(e){hasProp(m,e[0])||k(S(e[0],null,!0)).init(e[1],e[2])}function o(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function s(e){var t=e.currentTarget||e.srcElement;return o(t,l.onScriptLoad,"load","onreadystatechange"),o(t,l.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function T(){var e;for(j();h.length;){if(null===(e=h.shift())[0])return O(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));a(e)}l.defQueueMap={}}return c={require:function(e){return e.require?e.require:e.require=l.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(e=function(e){this.events=getOwn(r,e.id)||{},this.map=e,this.shim=getOwn(g.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,l.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();l.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;n[e]||(n[e]=!0,l.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,i=this.map.id,r=this.depExports,n=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=l.execCb(i,o,r,n)}catch(e){t=e}else n=l.execCb(i,o,r,n);if(this.map.isDefine&&void 0===n&&((e=this.module)?n=e.exports:this.usingExports&&(n=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",O(this.error=t)}else n=o;if(this.exports=n,this.map.isDefine&&!this.ignore&&(m[i]=n,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(l,this.map,a)}P(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(l.defQueueMap,i)||this.fetch()}},callPlugin:function(){var u=this.map,c=u.id,e=S(u.prefix);this.depMaps.push(e),M(e,"defined",bind(this,function(e){var o,t,i,r=getOwn(v,this.map.id),n=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,s=l.makeRequire(u.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(n=e.normalize(n,function(e){return q(e,a,!0)})||""),M(t=S(u.prefix+"!"+n,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((i=getOwn(p,t.id))&&(this.depMaps.push(t),this.events.error&&i.on("error",bind(this,function(e){this.emit("error",e)})),i.enable()))):r?(this.map.url=l.nameToUrl(r),void this.load()):((o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[c],eachProp(p,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&P(e.map.id)}),O(e)}),o.fromText=bind(this,function(e,t){var i=u.name,r=S(i),n=useInteractive;t&&(e=t),n&&(useInteractive=!1),k(r),hasProp(g.config,c)&&(g.config[i]=g.config[c]);try{req.exec(e)}catch(e){return O(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}n&&(useInteractive=!0),this.depMaps.push(r),l.completeLoad(i),s([i],o)}),void e.load(u.name,s,o,g))})),l.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(f[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,r,n;if("string"==typeof e){if(e=S(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(c,e.id))return void(this.depExports[t]=n(this));this.depCount+=1,M(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?M(e,"error",bind(this,this.errback)):this.events.error&&M(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,r=p[i],hasProp(c,i)||!r||r.enabled||l.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(p,e.id);t&&!t.enabled&&l.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(l={config:g,contextName:u,registry:p,defined:m,urlFetched:n,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:S,nextTick:req.nextTick,onError:O,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var i=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+i}}var r=g.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(g[t]||(g[t]={}),mixin(g[t],e,!0,!0)):g[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(v[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=l.makeShimExports(e)),r[t]=e}),g.shim=r),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(g.paths[t]=e.location),g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(p,function(e,t){e.inited||e.map.unnormalized||(e.map=S(t,null,!0))}),(e.deps||e.callback)&&l.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(o,a){function s(e,t,i){var r,n;return a.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?O(makeError("requireargs","Invalid require call"),i):o&&hasProp(c,e)?c[e](p[o.id]):req.get?req.get(l,e,o,s):(r=S(e,o,!1,!0).id,hasProp(m,r)?m[r]:O(makeError("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+u+(o?"":". Use require([])")))):(T(),l.nextTick(function(){T(),(n=k(S(null,o))).skipMap=a.skipMap,n.init(e,t,i,{enabled:!0}),R()}),s)}return a=a||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,i=e.lastIndexOf("."),r=e.split("/")[0];return-1!==i&&(!("."===r||".."===r)||1<i)&&(t=e.substring(i,e.length),e=e.substring(0,i)),l.nameToUrl(q(e,o&&o.id,!0),t,!0)},defined:function(e){return hasProp(m,S(e,o,!1,!0).id)},specified:function(e){return e=S(e,o,!1,!0).id,hasProp(m,e)||hasProp(p,e)}}),o||(s.undef=function(i){j();var e=S(i,o,!0),t=getOwn(p,i);t.undefed=!0,E(i),delete m[i],delete n[e.url],delete r[i],eachReverse(h,function(e,t){e[0]===i&&h.splice(t,1)}),delete l.defQueueMap[i],t&&(t.events.defined&&(r[i]=t.events),P(i))}),s},enable:function(e){getOwn(p,e.id)&&k(e).enable()},completeLoad:function(e){var t,i,r,n=getOwn(g.shim,e)||{},o=n.exports;for(j();h.length;){if(null===(i=h.shift())[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);a(i)}if(l.defQueueMap={},r=getOwn(p,e),!t&&!hasProp(m,e)&&r&&!r.inited){if(!(!g.enforceDefine||o&&getGlobal(o)))return w(e)?void 0:O(makeError("nodefine","No define call for "+e,null,[e]));a([e,n.deps||[],n.exportsFn])}R()},nameToUrl:function(e,t,i){var r,n,o,a,s,u,c=getOwn(g.pkgs,e);if(c&&(e=c),u=getOwn(v,e))return l.nameToUrl(u,t,i);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(r=g.paths,o=(n=e.split("/")).length;0<o;o-=1)if(s=getOwn(r,n.slice(0,o).join("/"))){isArray(s)&&(s=s[0]),n.splice(0,o,s);break}a=n.join("/"),a=("/"===(a+=t||(/^data\:|^blob\:|\?/.test(a)||i?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+a}return g.urlArgs&&!/^blob\:/.test(a)?a+g.urlArgs(e,a):a},load:function(e,t){req.load(l,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=s(e);l.completeLoad(t.id)}},onScriptError:function(e){var i=s(e);if(!w(i.id)){var r=[];return eachProp(p,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===i.id)return r.push(t),!0})}),O(makeError("scripterror",'Script error for "'+i.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[i.id]))}}}).require=l.makeRequire(),l}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}({},"undefined"==typeof setTimeout?void 0:setTimeout);
var TRUE_CODE = 1;var FALSE_CODE = 0;var SyncPluginsMap = {};var DevMode = false;var browserType = "IE";
window.clickniumConfig = {
  logLevel: DevMode ? 'debug' : 'info'
};
function commonPluginSyncCall(name,func){
  SyncPluginsMap[name.split('.')[0].toUpperCase()] = func;
};
(function(){var I,n,t,T=1,C=2,S=4,$=8,r=16,U=32,W=64,L=128,w=256,p=30,h="...",x=200,b=1,A=2,m="Expected a function",j="__lodash_placeholder__",d="[object Arguments]",O="[object Array]",E="[object Boolean]",k="[object Date]",R="[object Error]",v="[object Function]",e="[object Map]",N="[object Number]",F="[object Object]",P="[object RegExp]",u="[object Set]",z="[object String]",o="[object WeakMap]",_="[object ArrayBuffer]",g="[object Float32Array]",y="[object Float64Array]",B="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",q="[object Uint8Array]",K="[object Uint8ClampedArray]",V="[object Uint16Array]",Y="[object Uint32Array]",G=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,i=/&(?:amp|lt|gt|quot|#39|#96);/g,a=/[&<>"'`]/g,f=RegExp(i.source),c=RegExp(a.source),Z=/<%=([\s\S]+?)%>/g,l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Q=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,nn=RegExp(Q.source),tn=/[\u0300-\u036f\ufe20-\ufe23]/g,rn=/\\(\\)?/g,en=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,un=/\w*$/,on=/^0[xX]/,an=/^\[object .+?Constructor\]$/,fn=/^\d+$/,cn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ln=/($^)/,sn=/['\n\r\u2028\u2029\\]/g,pn=(n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")),hn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vn=-1,_n={};_n[g]=_n[y]=_n[B]=_n[D]=_n[M]=_n[q]=_n[K]=_n[V]=_n[Y]=!0,_n[d]=_n[O]=_n[_]=_n[E]=_n[k]=_n[R]=_n[v]=_n[e]=_n[N]=_n[F]=_n[P]=_n[u]=_n[z]=_n[o]=!1;var gn={};gn[d]=gn[O]=gn[_]=gn[E]=gn[k]=gn[g]=gn[y]=gn[B]=gn[D]=gn[M]=gn[N]=gn[F]=gn[P]=gn[z]=gn[q]=gn[K]=gn[V]=gn[Y]=!0,gn[R]=gn[v]=gn[e]=gn[u]=gn[o]=!1;var yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},wn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},mn={"function":!0,object:!0},xn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},bn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=mn[typeof exports]&&exports&&!exports.nodeType&&exports,jn=mn[typeof module]&&module&&!module.nodeType&&module,On=An&&jn&&"object"==typeof global&&global&&global.Object&&global,En=mn[typeof self]&&self&&self.Object&&self,kn=mn[typeof window]&&window&&window.Object&&window,Rn=On||kn!==(this&&this.window)&&kn||En||this;function In(n,t){if(n!==t){var r=null===n,e=n===I,u=n==n,o=null===t,i=t===I,a=t==t;if(t<n&&!o||!u||r&&!i&&a||e&&a)return 1;if(n<t&&!r||!a||o&&!e&&u||i&&u)return-1}return 0}function Tn(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function Cn(n,t,r){if(t!=t)return Bn(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function Sn(n){return"function"==typeof n||!1}function $n(n){return null==n?"":n+""}function Un(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););return r}function Wn(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function Ln(n,t){return In(n.criteria,t.criteria)||n.index-t.index}function Nn(n){return yn[n]}function Fn(n){return dn[n]}function Pn(n,t,r){return t?n=xn[n]:r&&(n=bn[n]),"\\"+n}function zn(n){return"\\"+bn[n]}function Bn(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var o=n[u];if(o!=o)return u}return-1}var Dn=function(){try{Object({toString:0}+"")}catch(n){return function(){return!1}}return function(n){return"function"!=typeof n.toString&&"string"==typeof(n+"")}}();function Mn(n){return!!n&&"object"==typeof n}function qn(n){return n<=160&&9<=n&&n<=13||32==n||160==n||5760==n||6158==n||8192<=n&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function Kn(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;)n[r]===t&&(n[r]=j,o[++u]=r);return o}function Vn(n){for(var t=-1,r=n.length;++t<r&&qn(n.charCodeAt(t)););return t}function Yn(n){for(var t=n.length;t--&&qn(n.charCodeAt(t)););return t}function Gn(n){return wn[n]}var Jn=Array.prototype,Xn=Error.prototype,Zn=Object.prototype,Hn=String.prototype,Qn=Function.prototype.toString,nt=Zn.hasOwnProperty,tt=Zn.toString,rt=RegExp("^"+Qn.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Rn.ArrayBuffer,ut=Zn.propertyIsEnumerable,ot=ge(Rn,"Set"),it=Jn.splice,at=Rn.Uint8Array,ft=ge(Rn,"WeakMap"),ct=Math.ceil,lt=ge(Object,"create"),st=Math.floor,pt=ge(Array,"isArray"),ht=Rn.isFinite,vt=ge(Object,"keys"),_t=Math.max,gt=Math.min,yt=ge(Date,"now"),dt=Rn.parseInt,wt=Math.random,mt=Number.NEGATIVE_INFINITY,xt=Number.POSITIVE_INFINITY,bt=4294967295,At=bt-1,jt=bt>>>1,Ot=9007199254740991,Et=ft&&new ft,kt={},Rt={};Rt[g]=Rn.Float32Array,Rt[y]=Rn.Float64Array,Rt[B]=Rn.Int8Array,Rt[D]=Rn.Int16Array,Rt[M]=Rn.Int32Array,Rt[q]=at,Rt[K]=Rn.Uint8ClampedArray,Rt[V]=Rn.Uint16Array,Rt[Y]=Rn.Uint32Array;var It={};function Tt(n){if(Mn(n)&&!Mu(n)&&!(n instanceof Ut)){if(n instanceof St)return n;if(nt.call(n,"__chain__")&&nt.call(n,"__wrapped__"))return $e(n)}return new St(n)}function Ct(){}function St(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}It[O]=It[k]=It[N]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},It[E]=It[z]={constructor:!0,toString:!0,valueOf:!0},It[R]=It[v]=It[P]={constructor:!0,toString:!0},It[F]={constructor:!0},Pt(hn,function(n){for(var t in It){var r;nt.call(It,t)&&((r=It[t])[n]=nt.call(r,n))}});var $t=Tt.support={};function Ut(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xt,this.__views__=[]}function Wt(){this.__data__={}}function Lt(n){var t=n?n.length:0;for(this.data={hash:lt(null),set:new ot};t--;)this.push(n[t])}function Nt(n,t){var r=n.data;return("string"==typeof t||Yu(t)?r.set.has(t):r.hash[t])?0:-1}function Ft(n,t){var r=-1,e=n.length;for(t=t||Array(e);++r<e;)t[r]=n[r];return t}function Pt(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function zt(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function Bt(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;){var i=n[r];t(i,r,n)&&(o[++u]=i)}return o}function Dt(n,t){for(var r=-1,e=n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function Mt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function qt(n,t,r,e){var u=-1,o=n.length;for(e&&o&&(r=n[++u]);++u<o;)r=t(r,n[u],u,n);return r}function Kt(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function Vt(n,t,r,e){return n!==I&&nt.call(e,r)?n:t}function Yt(n,t,r){for(var e=-1,u=vo(t),o=u.length;++e<o;){var i=u[e],a=n[i],f=r(a,t[i],i,n,t);(f==f?f===a:a!=a)&&(a!==I||i in n)||(n[i]=f)}return n}function Gt(n,t){return null==t?n:Xt(t,vo(t),n)}function Jt(n,t){for(var r=-1,e=null==n,u=!e&&ye(n),o=u?n.length:0,i=t.length,a=Array(i);++r<i;){var f=t[r];a[r]=u?de(f,o)?n[f]:I:e?I:n[f]}return a}function Xt(n,t,r){r=r||{};for(var e=-1,u=t.length;++e<u;){var o=t[e];r[o]=n[o]}return r}function Zt(n,t,r){var e,u,o,i,a,f=typeof n;return"function"==f?t===I?n:Ur(n,t,r):null==n?Wo:"object"==f?wr(n):t===I?Po(n):(u=t,o=Mu(e=n),i=me(e)&&Ae(u),a=e+"",e=Se(e),function(n){if(null==n)return!1;var t=a;if(n=Ce(n),(o||!i)&&!(t in n)){if(null==(n=1==e.length?n:_r(n,jr(e,0,-1))))return!1;t=De(e),n=Ce(n)}return n[t]===u?u!==I||t in n:gr(u,n[t],I,!0)})}function Ht(r,e,u,n,t,o,i){var a;if(u&&(a=t?u(r,n,t):u(r)),a!==I)return a;if(!Yu(r))return r;var f=Mu(r);if(f){if(a=function(n){var t=n.length,r=new n.constructor(t);t&&"string"==typeof n[0]&&nt.call(n,"index")&&(r.index=n.index,r.input=n.input);return r}(r),!e)return Ft(r,a)}else{var c=tt.call(r),l=c==v;if(c!=F&&c!=d&&(!l||t))return gn[c]?function(n,t,r){var e=n.constructor;switch(t){case _:return Wr(n);case E:case k:return new e(+n);case g:case y:case B:case D:case M:case q:case K:case V:case Y:e instanceof e&&(e=Rt[t]);var u=n.buffer;return new e(r?Wr(u):u,n.byteOffset,n.length);case N:case z:return new e(n);case P:var o=new e(n.source,un.exec(n));o.lastIndex=n.lastIndex}return o}(r,c,e):t?r:{};if(Dn(r))return t?r:{};if(a=function(n){var t=n.constructor;"function"==typeof t&&t instanceof t||(t=Object);return new t}(l?{}:r),!e)return Gt(a,r)}i=i||[];for(var s=(o=o||[]).length;s--;)if(o[s]==r)return i[s];return o.push(r),i.push(a),(f?Pt:pr)(r,function(n,t){a[t]=Ht(n,e,u,t,r,o,i)}),a}!function(){var n=function(){this.x=1},t={0:1,length:1},r=[];for(var e in n.prototype={valueOf:1,y:1},new n)r.push(e);$t.enumErrorProps=ut.call(Xn,"message")||ut.call(Xn,"name"),$t.enumPrototypes=ut.call(n,"prototype"),$t.nonEnumShadows=!/valueOf/.test(r),$t.ownLast="x"!=r[0],$t.spliceObjects=(it.call(t,0,1),!t[0]),$t.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),Tt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Z,variable:"",imports:{_:Tt}};var Qt=function(n){var t;return Yu(n)&&(nr.prototype=n,t=new nr,nr.prototype=I),t||{}};function nr(){}function tr(n,t,r){if("function"!=typeof n)throw new TypeError(m);return setTimeout(function(){n.apply(I,r)},t)}function rr(n,t){var r=n?n.length:0,e=[];if(!r)return e;var u=-1,o=he(),i=o===Cn,a=i&&t.length>=x?Dr(t):null,f=t.length;a&&(o=Nt,i=!1,t=a);n:for(;++u<r;){var c=n[u];if(i&&c==c){for(var l=f;l--;)if(t[l]===c)continue n;e.push(c)}else o(t,c,0)<0&&e.push(c)}return e}var er=zr(pr),ur=zr(hr,!0);function or(n,e){var u=!0;return er(n,function(n,t,r){return u=!!e(n,t,r)}),u}function ir(n,e){var u=[];return er(n,function(n,t,r){e(n,t,r)&&u.push(n)}),u}function ar(n,e,t,u){var o;return t(n,function(n,t,r){if(e(n,t,r))return o=u?t:n,!1}),o}function fr(n,t,r,e){e=e||[];for(var u=-1,o=n.length;++u<o;){var i=n[u];Mn(i)&&ye(i)&&(r||Mu(i)||Du(i))?t?fr(i,t,r,e):Mt(e,i):r||(e[e.length]=i)}return e}var cr=Br(),lr=Br(!0);function sr(n,t){return cr(n,t,_o)}function pr(n,t){return cr(n,t,vo)}function hr(n,t){return lr(n,t,vo)}function vr(n,t){for(var r=-1,e=t.length,u=-1,o=[];++r<e;){var i=t[r];Vu(n[i])&&(o[++u]=i)}return o}function _r(n,t,r){if(null!=n){n=Ce(n),r!==I&&r in n&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=Ce(n)[t[e++]];return e&&e==u?n:I}}function gr(n,t,r,e,u,o){return n===t||(null==n||null==t||!Yu(n)&&!Mn(t)?n!=n&&t!=t:function(n,t,r,e,u,o,i){var a=Mu(n),f=Mu(t),c=O,l=O;a||((c=tt.call(n))==d?c=F:c!=F&&(a=Qu(n)));f||((l=tt.call(t))==d?l=F:l!=F&&(f=Qu(t)));var s=c==F&&!Dn(n),p=l==F&&!Dn(t),h=c==l;if(h&&!a&&!s)return function(n,t,r){switch(r){case E:case k:return+n==+t;case R:return n.name==t.name&&n.message==t.message;case N:return n!=+n?t!=+t:n==+t;case P:case z:return n==t+""}return!1}(n,t,c);if(!u){var v=s&&nt.call(n,"__wrapped__"),_=p&&nt.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,o,i)}if(!h)return!1;o=o||[],i=i||[];var g=o.length;for(;g--;)if(o[g]==n)return i[g]==t;o.push(n),i.push(t);var y=(a?function(n,t,r,e,u,o,i){var a=-1,f=n.length,c=t.length;if(f!=c&&!(u&&f<c))return!1;for(;++a<f;){var l=n[a],s=t[a],p=e?e(u?s:l,u?l:s,a):I;if(p!==I){if(p)continue;return!1}if(u){if(!Kt(t,function(n){return l===n||r(l,n,e,u,o,i)}))return!1}else if(l!==s&&!r(l,s,e,u,o,i))return!1}return!0}:function(n,t,r,e,u,o,i){var a=vo(n),f=a.length,c=vo(t).length;if(f!=c&&!u)return!1;var l=f;for(;l--;){var s=a[l];if(!(u?s in t:nt.call(t,s)))return!1}var p=u;for(;++l<f;){s=a[l];var h=n[s],v=t[s],_=e?e(u?v:h,u?h:v,s):I;if(!(_===I?r(h,v,e,u,o,i):_))return!1;p=p||"constructor"==s}if(!p){var g=n.constructor,y=t.constructor;if(g!=y&&"constructor"in n&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0})(n,t,r,e,u,o,i);return o.pop(),i.pop(),y}(n,t,gr,r,e,u,o))}function yr(n,t,r){var e=t.length,u=e,o=!r;if(null==n)return!u;for(n=Ce(n);e--;){var i=t[e];if(o&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++e<u;){var a=(i=t[e])[0],f=n[a],c=i[1];if(o&&i[2]){if(f===I&&!(a in n))return!1}else{var l=r?r(f,c,a):I;if(!(l===I?gr(c,f,r,!0):l))return!1}}return!0}function dr(n,e){var u=-1,o=ye(n)?Array(n.length):[];return er(n,function(n,t,r){o[++u]=e(n,t,r)}),o}function wr(n){var t=_e(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&((n=Ce(n))[r]===e&&(e!==I||r in n))}}return function(n){return yr(n,t)}}function mr(t){return function(n){return null==n?I:Ce(n)[t]}}function xr(n,t){for(var r=n?t.length:0;r--;){var e,u=t[r];u!=e&&de(u)&&(e=u,it.call(n,u,1))}return n}function br(n,t){return n+st(wt()*(t-n+1))}var Ar=Et?function(n,t){return Et.set(n,t),n}:Wo;function jr(n,t,r){var e=-1,u=n.length;(t=null!=t&&+t||0)<0&&(t=u<-t?0:u+t),(r=r===I||u<r?u:+r||0)<0&&(r+=u),u=r<t?0:r-t>>>0,t>>>=0;for(var o=Array(u);++e<u;)o[e]=n[e+t];return o}function Or(n,e){var u;return er(n,function(n,t,r){return!(u=e(n,t,r))}),!!u}function Er(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function kr(n,r,e){var t=le(),u=-1;return r=Dt(r,function(n){return t(n)}),Er(dr(n,function(t){return{criteria:Dt(r,function(n){return n(t)}),index:++u,value:t}}),function(n,t){return function(n,t,r){for(var e=-1,u=n.criteria,o=t.criteria,i=u.length,a=r.length;++e<i;){var f=In(u[e],o[e]);if(f){if(a<=e)return f;var c=r[e];return f*("asc"===c||!0===c?1:-1)}}return n.index-t.index}(n,t,e)})}function Rr(n,t){var r=-1,e=he(),u=n.length,o=e===Cn,i=o&&x<=u,a=i?Dr():null,f=[];a?(e=Nt,o=!1):(i=!1,a=t?[]:f);n:for(;++r<u;){var c=n[r],l=t?t(c,r,n):c;if(o&&c==c){for(var s=a.length;s--;)if(a[s]===l)continue n;t&&a.push(l),f.push(c)}else e(a,l,0)<0&&((t||i)&&a.push(l),f.push(c))}return f}function Ir(n,t){for(var r=-1,e=t.length,u=Array(e);++r<e;)u[r]=n[t[r]];return u}function Tr(n,t,r,e){for(var u=n.length,o=e?u:-1;(e?o--:++o<u)&&t(n[o],o,n););return r?jr(n,e?0:o,e?o+1:u):jr(n,e?o+1:0,e?u:o)}function Cr(n,t){(o=n)instanceof Ut&&(o=o.value());for(var r=-1,e=t.length;++r<e;)var u=t[r],o=u.func.apply(u.thisArg,Mt([o],u.args));return o}function Sr(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t==t&&u<=jt){for(;e<u;){var o=e+u>>>1,i=n[o];(r?i<=t:i<t)&&null!==i?e=1+o:u=o}return u}return $r(n,t,Wo,r)}function $r(n,t,r,e){t=r(t);for(var u=0,o=n?n.length:0,i=t!=t,a=null===t,f=t===I;u<o;){var c=st((u+o)/2),l=r(n[c]),s=l!==I,p=l==l,h=i?p||e:a?p&&s&&(e||null!=l):f?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:o=c}return gt(o,At)}function Ur(o,i,n){if("function"!=typeof o)return Wo;if(i===I)return o;switch(n){case 1:return function(n){return o.call(i,n)};case 3:return function(n,t,r){return o.call(i,n,t,r)};case 4:return function(n,t,r,e){return o.call(i,n,t,r,e)};case 5:return function(n,t,r,e,u){return o.call(i,n,t,r,e,u)}}return function(){return o.apply(i,arguments)}}function Wr(n){var t=new et(n.byteLength);return new at(t).set(new at(n)),t}function Lr(n,t,r){for(var e=r.length,u=-1,o=_t(n.length-e,0),i=-1,a=t.length,f=Array(a+o);++i<a;)f[i]=t[i];for(;++u<e;)f[r[u]]=n[u];for(;o--;)f[i++]=n[u++];return f}function Nr(n,t,r){for(var e=-1,u=r.length,o=-1,i=_t(n.length-u,0),a=-1,f=t.length,c=Array(i+f);++o<i;)c[o]=n[o];for(var l=o;++a<f;)c[l+a]=t[a];for(;++e<u;)c[l+r[e]]=n[o++];return c}function Fr(a,f){return function(n,e,t){var u=f?f():{};if(e=le(e,t,3),Mu(n))for(var r=-1,o=n.length;++r<o;){var i=n[r];a(u,i,e(i,r,n),n)}else er(n,function(n,t,r){a(u,n,e(n,t,r),r)});return u}}function Pr(f){return zu(function(n,t){var r=-1,e=null==n?0:t.length,u=2<e?t[e-2]:I,o=2<e?t[2]:I,i=1<e?t[e-1]:I;for("function"==typeof u?(u=Ur(u,i,5),e-=2):e-=(u="function"==typeof i?i:I)?1:0,o&&we(t[0],t[1],o)&&(u=e<3?I:u,e=1);++r<e;){var a=t[r];a&&f(n,a,u)}return n})}function zr(o,i){return function(n,t){var r=n?ve(n):0;if(!be(r))return o(n,t);for(var e=i?r:-1,u=Ce(n);(i?e--:++e<r)&&!1!==t(u[e],e,u););return n}}function Br(f){return function(n,t,r){for(var e=Ce(n),u=r(n),o=u.length,i=f?o:-1;f?i--:++i<o;){var a=u[i];if(!1===t(e[a],a,e))break}return n}}function Dr(n){return lt&&ot?new Lt(n):null}function Mr(o){return function(n){for(var t=-1,r=So(jo(n)),e=r.length,u="";++t<e;)u=o(u,r[t],t);return u}}function qr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Qt(e.prototype),r=e.apply(t,n);return Yu(r)?r:t}}function Kr(u){return function o(n,t,r){r&&we(n,t,r)&&(t=I);var e=ce(n,u,I,I,I,I,I,t);return e.placeholder=o.placeholder,e}}function Vr(r,e){return zu(function(n){var t=n[0];return null==t?t:(n.push(e),r.apply(I,n))})}function Yr(c,l){return function(n,t,r){if(r&&we(n,t,r)&&(t=I),1==(t=le(t,r,3)).length){var e=function(n,t,r,e){for(var u=-1,o=n.length,i=e,a=i;++u<o;){var f=n[u],c=+t(f);r(c,i)&&(i=c,a=f)}return a}(n=Mu(n)?n:Te(n),t,c,l);if(!n.length||e!==l)return e}return u=t,o=c,f=a=i=l,er(n,function(n,t,r){var e=+u(n,t,r);(o(e,a)||e===i&&e===f)&&(a=e,f=n)}),f;var u,o,i,a,f}}function Gr(u,o){return function(n,t,r){if(t=le(t,r,3),Mu(n)){var e=Tn(n,t,o);return-1<e?n[e]:I}return ar(n,t,u)}}function Jr(e){return function(n,t,r){return n&&n.length?Tn(n,t=le(t,r,3),e):-1}}function Xr(e){return function(n,t,r){return ar(n,t=le(t,r,3),e,!0)}}function Zr(f){return function(){for(var u=arguments.length,n=f?u:-1,t=0,o=Array(u);f?n--:++n<u;){var r=o[t++]=arguments[n];if("function"!=typeof r)throw new TypeError(m);!a&&St.prototype.thru&&"wrapper"==pe(r)&&(a=new St([],!0))}for(n=a?-1:u;++n<u;)var e=pe(r=o[n]),i="wrapper"==e?se(r):I,a=i&&xe(i[0])&&i[1]==(L|$|U|w)&&!i[4].length&&1==i[9]?a[pe(i[0])].apply(a,i[3]):1==r.length&&xe(r)?a[e]():a.thru(r);return function(){var n=arguments,t=n[0];if(a&&1==n.length&&Mu(t)&&t.length>=x)return a.plant(t).value();for(var r=0,e=u?o[r].apply(this,n):t;++r<u;)e=o[r].call(this,e);return e}}}function Hr(e,u){return function(n,t,r){return"function"==typeof t&&r===I&&Mu(n)?e(n,t):u(n,Ur(t,r,3))}}function Qr(e){return function(n,t,r){return"function"==typeof t&&r===I||(t=Ur(t,r,3)),e(n,t,_o)}}function ne(e){return function(n,t,r){return"function"==typeof t&&r===I||(t=Ur(t,r,3)),e(n,t)}}function te(i){return function(n,u,t){var o={};return u=le(u,t,3),pr(n,function(n,t,r){var e=u(n,t,r);n=i?n:e,o[t=i?e:t]=n}),o}}function re(e){return function(n,t,r){return n=$n(n),(e?n:"")+ie(n,t,r)+(e?"":n)}}function ee(e){var u=zu(function(n,t){var r=Kn(t,u.placeholder);return ce(n,e,I,t,r)});return u}function ue(c,l){return function(n,t,r,e){var u,o,i,a,f=arguments.length<3;return"function"==typeof t&&e===I&&Mu(n)?c(n,t,r,f):(u=n,o=le(t,e,4),i=r,a=f,l(u,function(n,t,r){i=a?(a=!1,n):o(i,n,t,r)}),i)}}function oe(s,p,h,v,_,g,y,d,w,m){var x=p&L,b=p&T,A=p&C,j=p&$,O=p&S,E=p&r,k=A?I:qr(s);return function R(){for(var n=arguments.length,t=n,r=Array(n);t--;)r[t]=arguments[t];if(v&&(r=Lr(r,v,_)),g&&(r=Nr(r,g,y)),j||E){var e=R.placeholder,u=Kn(r,e);if((n-=u.length)<m){var o=d?Ft(d):I,i=_t(m-n,0);p|=j?U:W,p&=~(j?W:U),O||(p&=~(T|C));var a=[s,p,h,j?r:I,j?u:I,j?I:r,j?I:u,o,w,i],f=oe.apply(I,a);return xe(s)&&Re(f,a),f.placeholder=e,f}}var c=b?h:this,l=A?c[s]:s;return d&&(r=function(n,t){for(var r=n.length,e=gt(t.length,r),u=Ft(n);e--;){var o=t[e];n[e]=de(o,r)?u[o]:I}return n}(r,d)),x&&w<r.length&&(r.length=w),this&&this!==Rn&&this instanceof R&&(l=k||qr(s)),l.apply(c,r)}}function ie(n,t,r){var e=n.length;if((t=+t)<=e||!ht(t))return"";var u=t-e;return Ro(r=null==r?" ":r+"",ct(u/r.length)).slice(0,u)}function ae(o,n,i,a){var f=n&T,c=qr(o);return function l(){for(var n=-1,t=arguments.length,r=-1,e=a.length,u=Array(e+t);++r<e;)u[r]=a[r];for(;t--;)u[r++]=arguments[++n];return(this&&this!==Rn&&this instanceof l?c:o).apply(f?i:this,u)}}function fe(o){return function(n,t,r,e){var u=le(r);return null==r&&u===Zt?Sr(n,t,o):$r(n,t,u(r,e,1),o)}}function ce(n,t,r,e,u,o,i,a){var f=t&C;if(!f&&"function"!=typeof n)throw new TypeError(m);var c,l,s=e?e.length:0;s||(t&=~(U|W),e=u=I),s-=u?u.length:0,t&W&&(c=e,l=u,e=u=I);var p,h,v,_,g=f?I:se(n),y=[n,t,r,e,u,c,l,o,i,a];return g&&(function(n,t){var r=n[1],e=t[1],u=r|e,o=u<L,i=e==L&&r==$||e==L&&r==w&&n[7].length<=t[8]||e==(L|w)&&r==$;if(!o&&!i)return;e&T&&(n[2]=t[2],u|=r&T?0:S);var a=t[3];{var f;a&&(f=n[3],n[3]=f?Lr(f,a,t[4]):Ft(a),n[4]=f?Kn(n[3],j):Ft(t[4]))}(a=t[5])&&(f=n[5],n[5]=f?Nr(f,a,t[6]):Ft(a),n[6]=f?Kn(n[5],j):Ft(t[6]));(a=t[7])&&(n[7]=Ft(a));e&L&&(n[8]=null==n[8]?t[8]:gt(n[8],t[8]));null==n[9]&&(n[9]=t[9]);n[0]=t[0],n[1]=u}(y,g),t=y[1],a=y[9]),y[9]=null==a?f?0:n.length:_t(a-s,0)||0,p=t==T?(h=y[0],v=y[2],_=qr(h),function d(){return(this&&this!==Rn&&this instanceof d?_:h).apply(v,arguments)}):t!=U&&t!=(T|U)||y[4].length?oe.apply(I,y):ae.apply(I,y),(g?Ar:Re)(p,y)}function le(n,t,r){var e=(e=Tt.callback||Uo)===Uo?Zt:e;return r?e(n,t,r):e}var se=Et?function(n){return Et.get(n)}:Fo;function pe(n){for(var t=n.name+"",r=kt[t],e=r?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==n)return u.name}return t}function he(n,t,r){var e=(e=Tt.indexOf||ze)===ze?Cn:e;return n?e(n,t,r):e}var ve=mr("length");function _e(n){for(var t=mo(n),r=t.length;r--;)t[r][2]=Ae(t[r][1]);return t}function ge(n,t){var r=null==n?I:n[t];return Gu(r)?r:I}function ye(n){return null!=n&&be(ve(n))}function de(n,t){return n="number"==typeof n||fn.test(n)?+n:-1,t=null==t?Ot:t,-1<n&&n%1==0&&n<t}function we(n,t,r){if(Yu(r)){var e=typeof t;if("number"==e?ye(r)&&de(t,r.length):"string"==e&&t in r){var u=r[t];return n==n?n===u:u!=u}}}function me(n,t){var r=typeof n;return!!("string"==r&&s.test(n)||"number"==r)||!Mu(n)&&(!l.test(n)||null!=t&&n in Ce(t))}function xe(n){var t=pe(n),r=Tt[t];if("function"==typeof r&&t in Ut.prototype){if(n===r)return 1;var e=se(r);return e&&n===e[0]}}function be(n){return"number"==typeof n&&-1<n&&n%1==0&&n<=Ot}function Ae(n){return n==n&&!Yu(n)}function je(n,t){n=Ce(n);for(var r=-1,e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u}function Oe(n,e){var u={};return sr(n,function(n,t,r){e(n,t,r)&&(u[t]=n)}),u}var Ee,ke,Re=(ke=Ee=0,function(n,t){var r=Au(),e=16-(r-ke);if(ke=r,0<e){if(150<=++Ee)return n}else Ee=0;return Ar(n,t)});function Ie(n){for(var t=_o(n),r=t.length,e=r&&n.length,u=!!e&&be(e)&&(Mu(n)||Du(n)||Hu(n)),o=-1,i=[];++o<r;){var a=t[o];(u&&de(a,e)||nt.call(n,a))&&i.push(a)}return i}function Te(n){return null==n?[]:ye(n)?Tt.support.unindexedChars&&Hu(n)?n.split(""):Yu(n)?n:Object(n):bo(n)}function Ce(n){if(Tt.support.unindexedChars&&Hu(n)){for(var t=-1,r=n.length,e=Object(n);++t<r;)e[t]=n.charAt(t);return e}return Yu(n)?n:Object(n)}function Se(n){if(Mu(n))return n;var u=[];return $n(n).replace(H,function(n,t,r,e){u.push(r?e.replace(rn,"$1"):t||n)}),u}function $e(n){return n instanceof Ut?n.clone():new St(n.__wrapped__,n.__chain__,Ft(n.__actions__))}var Ue=zu(function(n,t){return Mn(n)&&ye(n)?rr(n,fr(t,!1,!0)):[]});function We(n,t,r){return(n?n.length:0)?((r?we(n,t,r):null==t)&&(t=1),jr(n,t<0?0:t)):[]}function Le(n,t,r){var e=n?n.length:0;return e?((r?we(n,t,r):null==t)&&(t=1),jr(n,0,(t=e-(+t||0))<0?0:t)):[]}var Ne=Jr(),Fe=Jr(!0);function Pe(n){return n?n[0]:I}function ze(n,t,r){var e=n?n.length:0;if(!e)return-1;if("number"==typeof r)r=r<0?_t(e+r,0):r;else if(r){var u=Sr(n,t);return u<e&&(t==t?t===n[u]:n[u]!=n[u])?u:-1}return Cn(n,t,r||0)}var Be=zu(function(n){for(var t=n.length,r=t,e=Array(void 0),u=he(),o=u===Cn,i=[];r--;){var a=n[r]=ye(a=n[r])?a:[];e[r]=o&&120<=a.length?Dr(r&&a):null}var f=n[0],c=-1,l=f?f.length:0,s=e[0];n:for(;++c<l;)if(a=f[c],(s?Nt(s,a):u(i,a,0))<0){for(r=t;--r;){var p=e[r];if((p?Nt(p,a):u(n[r],a,0))<0)continue n}s&&s.push(a),i.push(a)}return i});function De(n){var t=n?n.length:0;return t?n[t-1]:I}var Me=zu(function(n,t){var r=Jt(n,t=fr(t));return xr(n,t.sort(In)),r});function qe(n){return We(n,1)}var Ke=fe(),Ve=fe(!0);var Ye=zu(function(n){return Rr(fr(n,!1,!0))});function Ge(n,t,r,e){if(!(n?n.length:0))return[];null!=t&&"boolean"!=typeof t&&(r=we(n,t,e=r)?I:t,t=!1);var u=le();return null==r&&u===Zt||(r=u(r,e,3)),(t&&he()===Cn?function(n,t){for(var r,e=-1,u=n.length,o=-1,i=[];++e<u;){var a=n[e],f=t?t(a,e,n):a;e&&r===f||(r=f,i[++o]=a)}return i}:Rr)(n,r)}function Je(n){if(!n||!n.length)return[];var t=-1,r=0;n=Bt(n,function(n){return ye(n)&&(r=_t(n.length,r),1)});for(var e=Array(r);++t<r;)e[t]=Dt(n,mr(t));return e}function Xe(n,t,r){if(!(n?n.length:0))return[];var e=Je(n);return null==t?e:(t=Ur(t,r,4),Dt(e,function(n){return qt(n,t,I,!0)}))}var Ze=zu(function(n,t){return ye(n)?rr(n,t):[]});var He=zu(Je);function Qe(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Mu(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}var nu=zu(function(n){var t=n.length,r=2<t?n[t-2]:I,e=1<t?n[t-1]:I;return 2<t&&"function"==typeof r?t-=2:(r=1<t&&"function"==typeof e?(--t,e):I,e=I),n.length=t,Xe(n,r,e)});function tu(n){var t=Tt(n);return t.__chain__=!0,t}function ru(n,t,r){return t.call(r,n)}var eu=zu(function(t){return t=fr(t),this.thru(function(n){return function(n,t){for(var r=-1,e=n.length,u=-1,o=t.length,i=Array(e+o);++r<e;)i[r]=n[r];for(;++u<o;)i[r++]=t[u];return i}(Mu(n)?n:[Ce(n)],t)})});var uu=zu(function(n,t){return ye(n)&&(n=Te(n)),Jt(n,fr(t))}),ou=Fr(function(n,t,r){nt.call(n,r)?++n[r]:n[r]=1});function iu(n,t,r){var e=Mu(n)?zt:or;return r&&we(n,t,r)&&(t=I),"function"==typeof t&&r===I||(t=le(t,r,3)),e(n,t)}function au(n,t,r){return(Mu(n)?Bt:ir)(n,t=le(t,r,3))}var fu=Gr(er),cu=Gr(ur,!0);var lu=Hr(Pt,er),su=Hr(function(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n},ur),pu=Fr(function(n,t,r){nt.call(n,r)?n[r].push(t):n[r]=[t]});function hu(n,t,r,e){var u=n?ve(n):0;return be(u)||(u=(n=bo(n)).length),r="number"!=typeof r||e&&we(t,r,e)?0:r<0?_t(u+r,0):r||0,"string"==typeof n||!Mu(n)&&Hu(n)?r<=u&&-1<n.indexOf(t,r):!!u&&-1<he(n,t,r)}var vu=Fr(function(n,t,r){n[r]=t}),_u=zu(function(n,r,e){var u=-1,o="function"==typeof r,i=me(r),a=ye(n)?Array(n.length):[];return er(n,function(n){var t=o?r:i&&null!=n?n[r]:I;a[++u]=t?t.apply(n,e):function(n,t,r){null==n||me(t,n)||(n=1==(t=Se(t)).length?n:_r(n,jr(t,0,-1)),t=De(t));var e=null==n?n:n[t];return null==e?I:e.apply(n,r)}(n,r,e)}),a});function gu(n,t,r){return(Mu(n)?Dt:dr)(n,t=le(t,r,3))}var yu=Fr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]});var du=ue(qt,er),wu=ue(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},ur);function mu(n,t,r){if(r?we(n,t,r):null==t)return 0<(e=(n=Te(n)).length)?n[br(0,e-1)]:I;var e,u=-1,o=to(n),i=(e=o.length)-1;for(t=gt(!(t<0)&&+t||0,e);++u<t;){var a=br(u,i),f=o[a];o[a]=o[u],o[u]=f}return o.length=t,o}function xu(n,t,r){var e=Mu(n)?Kt:Or;return r&&we(n,t,r)&&(t=I),"function"==typeof t&&r===I||(t=le(t,r,3)),e(n,t)}var bu=zu(function(n,t){if(null==n)return[];var r=t[2];return r&&we(t[0],t[1],r)&&(t.length=1),kr(n,fr(t),[])});var Au=yt||function(){return(new Date).getTime()};function ju(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new TypeError(m);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=I),r}}var Ou=zu(function(n,t,r){var e,u=T;return r.length&&(e=Kn(r,Ou.placeholder),u|=U),ce(n,u,t,r,e)}),Eu=zu(function(n,t){for(var r=-1,e=(t=t.length?fr(t):ho(n)).length;++r<e;){var u=t[r];n[u]=ce(n[u],T,n)}return n}),ku=zu(function(n,t,r){var e,u=T|C;return r.length&&(e=Kn(r,ku.placeholder),u|=U),ce(t,u,n,r,e)}),Ru=Kr($),Iu=Kr(r);function Tu(e,u,n){var o,i,a,f,c,l,s,p,h=0,v=!1,_=!0;if("function"!=typeof e)throw new TypeError(m);function t(n,t){t&&clearTimeout(t),i=l=s=I,n&&(h=Au(),a=e.apply(c,o),l||i||(o=c=I))}function g(){var n=u-(Au()-f);n<=0||u<n?t(s,i):l=setTimeout(g,n)}function y(){t(_,l)}function r(){var n,t,r;return o=arguments,f=Au(),c=this,s=_&&(l||!p),!1===v?n=p&&!l:(i||p||(h=f),(r=(t=v-(f-h))<=0||v<t)?(i=i&&clearTimeout(i),h=f,a=e.apply(c,o)):i=i||setTimeout(y,t)),r&&l?l=clearTimeout(l):l||u===v||(l=setTimeout(g,u)),n&&(r=!0,a=e.apply(c,o)),!r||l||i||(o=c=I),a}return u=!(u<0)&&+u||0,!0===n?_=!(p=!0):Yu(n)&&(p=!!n.leading,v="maxWait"in n&&_t(+n.maxWait||0,u),_="trailing"in n?!!n.trailing:_),r.cancel=function(){l&&clearTimeout(l),i&&clearTimeout(i),h=0,i=l=s=I},r}var Cu=zu(function(n,t){return tr(n,1,t)}),Su=zu(tr),$u=Zr(),Uu=Zr(!0);function Wu(u,o){if("function"!=typeof u||o&&"function"!=typeof o)throw new TypeError(m);var i=function(){var n=arguments,t=o?o.apply(this,n):n[0],r=i.cache;if(r.has(t))return r.get(t);var e=u.apply(this,n);return i.cache=r.set(t,e),e};return i.cache=new Wu.Cache,i}var Lu=zu(function(r,e){if(e=fr(e),"function"!=typeof r||!zt(e,Sn))throw new TypeError(m);var u=e.length;return zu(function(n){for(var t=gt(n.length,u);t--;)n[t]=e[t](n[t]);return r.apply(this,n)})});var Nu=ee(U),Fu=ee(W),Pu=zu(function(n,t){return ce(n,w,I,I,I,fr(t))});function zu(o,i){if("function"!=typeof o)throw new TypeError(m);return i=_t(i===I?o.length-1:+i||0,0),function(){for(var n=arguments,t=-1,r=_t(n.length-i,0),e=Array(r);++t<r;)e[t]=n[i+t];switch(i){case 0:return o.call(this,e);case 1:return o.call(this,n[0],e);case 2:return o.call(this,n[0],n[1],e)}for(var u=Array(i+1),t=-1;++t<i;)u[t]=n[t];return u[i]=e,o.apply(this,u)}}function Bu(n,t){return t<n}function Du(n){return Mn(n)&&ye(n)&&nt.call(n,"callee")&&!ut.call(n,"callee")}var Mu=pt||function(n){return Mn(n)&&be(n.length)&&tt.call(n)==O};function qu(n,t,r,e){var u=(r="function"==typeof r?Ur(r,e,3):I)?r(n,t):I;return u===I?gr(n,t,r):!!u}function Ku(n){return Mn(n)&&"string"==typeof n.message&&tt.call(n)==R}function Vu(n){return Yu(n)&&tt.call(n)==v}function Yu(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Gu(n){return null!=n&&(Vu(n)?rt.test(Qn.call(n)):Mn(n)&&(Dn(n)?rt:an).test(n))}function Ju(n){return"number"==typeof n||Mn(n)&&tt.call(n)==N}function Xu(n){var t,e;return!(!Mn(n)||tt.call(n)!=F||Dn(n)||Du(n)||!(nt.call(n,"constructor")||"function"!=typeof(t=n.constructor)||t instanceof t))&&(Tt.support.ownLast?(sr(n,function(n,t,r){return e=nt.call(r,t),!1}),!1!==e):(sr(n,function(n,t){e=t}),e===I||nt.call(n,e)))}function Zu(n){return Yu(n)&&tt.call(n)==P}function Hu(n){return"string"==typeof n||Mn(n)&&tt.call(n)==z}function Qu(n){return Mn(n)&&be(n.length)&&!!_n[tt.call(n)]}function no(n,t){return n<t}function to(n){var t=n?ve(n):0;return be(t)?t?Tt.support.unindexedChars&&Hu(n)?n.split(""):Ft(n):[]:bo(n)}function ro(n){return Xt(n,_o(n))}var eo=Pr(function Mo(o,i,a,f,c){if(!Yu(o))return o;var l=ye(i)&&(Mu(i)||Qu(i)),s=l?I:vo(i);return Pt(s||i,function(n,t){var r,e,u;s&&(n=i[t=n]),Mn(n)?function(n,t,r,e,u,o,i){for(var a=o.length,f=t[r];a--;)if(o[a]==f)return n[r]=i[a];var c=n[r],l=u?u(c,f,r,n,t):I,s=l===I;s&&(ye(l=f)&&(Mu(f)||Qu(f))?l=Mu(c)?c:ye(c)?Ft(c):[]:Xu(f)||Du(f)?l=Du(c)?ro(c):Xu(c)?c:{}:s=!1),o.push(f),i.push(l),s?n[r]=e(l,f,u,o,i):(l==l?l!==c:c==c)&&(n[r]=l)}(o,i,t,Mo,a,f=f||[],c=c||[]):(r=o[t],(u=(e=a?a(r,n,t,o,i):I)===I)&&(e=n),e===I&&(!l||t in o)||!u&&(e==e?e===r:r!=r)||(o[t]=e))}),o}),uo=Pr(function(n,t,r){return r?Yt(n,t,r):Gt(n,t)});var oo=Vr(uo,function(n,t){return n===I?t:n}),io=Vr(eo,function qo(n,t){return n===I?t:eo(n,t,qo)}),ao=Xr(pr),fo=Xr(hr),co=Qr(cr),lo=Qr(lr),so=ne(pr),po=ne(hr);function ho(n){return vr(n,_o(n))}var vo=vt?function(n){var t=null==n?I:n.constructor;return"function"==typeof t&&t.prototype===n||("function"==typeof n?Tt.support.enumPrototypes:ye(n))?Ie(n):Yu(n)?vt(n):[]}:Ie;function _o(n){if(null==n)return[];Yu(n)||(n=Object(n));for(var t=n.length,r=Tt.support,t=t&&be(t)&&(Mu(n)||Du(n)||Hu(n))&&t||0,e=n.constructor,u=-1,o=Vu(e)&&e.prototype||Zn,i=o===n,a=Array(t),f=0<t,c=r.enumErrorProps&&(n===Xn||n instanceof Error),l=r.enumPrototypes&&Vu(n);++u<t;)a[u]=u+"";for(var s in n)l&&"prototype"==s||c&&("message"==s||"name"==s)||f&&de(s,t)||"constructor"==s&&(i||!nt.call(n,s))||a.push(s);if(r.nonEnumShadows&&n!==Zn){var p=n===Hn?z:n===Xn?R:tt.call(n),h=It[p]||It[F];for(p==F&&(o=Zn),t=hn.length;t--;){var v=h[s=hn[t]];i&&v||(v?!nt.call(n,s):n[s]===o[s])||a.push(s)}}return a}var go=te(!0),yo=te(),wo=zu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){t=Dt(fr(t),String);return je(n,rr(_o(n),t))}var e=Ur(t[0],t[1],3);return Oe(n,function(n,t,r){return!e(n,t,r)})});function mo(n){n=Ce(n);for(var t=-1,r=vo(n),e=r.length,u=Array(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u}var xo=zu(function(n,t){return null==n?{}:"function"==typeof t[0]?Oe(n,Ur(t[0],t[1],3)):je(n,fr(t))});function bo(n){return Ir(n,vo(n))}var Ao=Mr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)});function jo(n){return(n=$n(n))&&n.replace(cn,Nn).replace(tn,"")}var Oo=Mr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()});var Eo=re(),ko=re(!0);function Ro(n,t){var r="";if(n=$n(n),(t=+t)<1||!n||!ht(t))return r;for(;t%2&&(r+=n),n+=n,t=st(t/2););return r}var Io=Mr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),To=Mr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Co(n,t,r){var e=n;return(n=$n(n))?(r?we(e,t,r):null==t)?n.slice(Vn(n),Yn(n)+1):(t+="",n.slice(Un(n,t),Wn(n,t)+1)):n}function So(n,t,r){return r&&we(n,t,r)&&(t=I),(n=$n(n)).match(t||pn)||[]}var $o=zu(function(n,t){try{return n.apply(I,t)}catch(r){return Ku(r)?r:new Error(r)}});function Uo(n,t,r){return r&&we(n,t,r)&&(t=I),Mn(n)?Lo(n):Zt(n,t)}function Wo(n){return n}function Lo(n){return wr(Ht(n,!0))}function No(e,n,t){var r,u,o;null==t&&(((o=(u=(r=Yu(n))?vo(n):I)&&u.length?vr(n,u):I)?o.length:r)||(o=!1,t=n,n=e,e=this)),o=o||vr(n,vo(n));var i=!0,a=-1,f=Vu(e),c=o.length;!1===t?i=!1:Yu(t)&&"chain"in t&&(i=t.chain);for(;++a<c;){var l=o[a],s=n[l];e[l]=s,f&&(e.prototype[l]=function(r){return function(){var n=this.__chain__;if(i||n){var t=e(this.__wrapped__);return(t.__actions__=Ft(this.__actions__)).push({func:r,args:arguments,thisArg:e}),t.__chain__=n,t}return r.apply(e,Mt([this.value()],arguments))}}(s))}return e}function Fo(){}function Po(n){return me(n)?mr(n):(r=(t=n)+"",t=Se(t),function(n){return _r(n,t,r)});var t,r}var zo,Bo=Yr(Bu,mt),Do=Yr(no,xt);Tt.prototype=Ct.prototype,(St.prototype=Qt(Ct.prototype)).constructor=St,(Ut.prototype=Qt(Ct.prototype)).constructor=Ut,Wt.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Wt.prototype.get=function(n){return"__proto__"==n?I:this.__data__[n]},Wt.prototype.has=function(n){return"__proto__"!=n&&nt.call(this.__data__,n)},Wt.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Lt.prototype.push=function(n){var t=this.data;"string"==typeof n||Yu(n)?t.set.add(n):t.hash[n]=!0},Wu.Cache=Wt,Tt.after=function(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new TypeError(m);var r=n;n=t,t=r}return n=ht(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}},Tt.ary=function(n,t,r){return r&&we(n,t,r)&&(t=I),t=n&&null==t?n.length:_t(+t||0,0),ce(n,L,I,I,I,I,t)},Tt.assign=uo,Tt.at=uu,Tt.before=ju,Tt.bind=Ou,Tt.bindAll=Eu,Tt.bindKey=ku,Tt.callback=Uo,Tt.chain=tu,Tt.chunk=function(n,t,r){t=(r?we(n,t,r):null==t)?1:_t(st(t)||1,1);for(var e=0,u=n?n.length:0,o=-1,i=Array(ct(u/t));e<u;)i[++o]=jr(n,e,e+=t);return i},Tt.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var o=n[t];o&&(u[++e]=o)}return u},Tt.countBy=ou,Tt.create=function(n,t,r){var e=Qt(n);return r&&we(n,t,r)&&(t=I),t?Gt(e,t):e},Tt.curry=Ru,Tt.curryRight=Iu,Tt.debounce=Tu,Tt.defaults=oo,Tt.defaultsDeep=io,Tt.defer=Cu,Tt.delay=Su,Tt.difference=Ue,Tt.drop=We,Tt.dropRight=Le,Tt.dropRightWhile=function(n,t,r){return n&&n.length?Tr(n,le(t,r,3),!0,!0):[]},Tt.dropWhile=function(n,t,r){return n&&n.length?Tr(n,le(t,r,3),!0):[]},Tt.fill=function(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&we(n,t,r)&&(r=0,e=u),function(n,t,r,e){var u=n.length;for((r=null!=r&&+r||0)<0&&(r=u<-r?0:u+r),(e=e===I||u<e?u:+e||0)<0&&(e+=u),u=e<r?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}(n,t,r,e)):[]},Tt.filter=au,Tt.flatten=function(n,t,r){var e=n?n.length:0;return r&&we(n,t,r)&&(t=!1),e?fr(n,t):[]},Tt.flattenDeep=function(n){return(n?n.length:0)?fr(n,!0):[]},Tt.flow=$u,Tt.flowRight=Uu,Tt.forEach=lu,Tt.forEachRight=su,Tt.forIn=co,Tt.forInRight=lo,Tt.forOwn=so,Tt.forOwnRight=po,Tt.functions=ho,Tt.groupBy=pu,Tt.indexBy=vu,Tt.initial=function(n){return Le(n,1)},Tt.intersection=Be,Tt.invert=function(n,t,r){r&&we(n,t,r)&&(t=I);for(var e=-1,u=vo(n),o=u.length,i={};++e<o;){var a=u[e],f=n[a];t?nt.call(i,f)?i[f].push(a):i[f]=[a]:i[f]=a}return i},Tt.invoke=_u,Tt.keys=vo,Tt.keysIn=_o,Tt.map=gu,Tt.mapKeys=go,Tt.mapValues=yo,Tt.matches=Lo,Tt.memoize=Wu,Tt.merge=eo,Tt.mixin=No,Tt.modArgs=Lu,Tt.negate=function(n){if("function"!=typeof n)throw new TypeError(m);return function(){return!n.apply(this,arguments)}},Tt.omit=wo,Tt.once=function(n){return ju(2,n)},Tt.pairs=mo,Tt.partial=Nu,Tt.partialRight=Fu,Tt.partition=yu,Tt.pick=xo,Tt.pluck=function(n,t){return gu(n,Po(t))},Tt.property=Po,Tt.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=he(),u=n.length;++r<u;)for(var o=0,i=n[r];-1<(o=e(t,i,o));)it.call(t,o,1);return t},Tt.pullAt=Me,Tt.rearg=Pu,Tt.reject=function(n,e,t){var r=Mu(n)?Bt:ir;return e=le(e,t,3),r(n,function(n,t,r){return!e(n,t,r)})},Tt.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,o=[],i=n.length;for(t=le(t,r,3);++u<i;){var a=n[u];t(a,u,n)&&(e.push(a),o.push(u))}return xr(n,o),e},Tt.rest=qe,Tt.restParam=zu,Tt.set=function(n,t,r){if(null==n)return n;for(var e=t+"",u=-1,o=(t=null!=n[e]||me(t,n)?[e]:Se(t)).length,i=o-1,a=n;null!=a&&++u<o;){var f=t[u];Yu(a)&&(u==i?a[f]=r:null==a[f]&&(a[f]=de(t[u+1])?[]:{})),a=a[f]}return n},Tt.shuffle=function(n){return mu(n,xt)},Tt.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&we(n,t,r)&&(t=0,r=e),jr(n,t,r)):[]},Tt.sortBy=function(n,e,t){if(null==n)return[];t&&we(n,e,t)&&(e=I);var u=-1;return e=le(e,t,3),Er(dr(n,function(n,t,r){return{criteria:e(n,t,r),index:++u,value:n}}),Ln)},Tt.sortByAll=bu,Tt.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&we(t,r,e)&&(r=I),Mu(t)||(t=null==t?[]:[t]),Mu(r)||(r=null==r?[]:[r]),kr(n,t,r))},Tt.spread=function(t){if("function"!=typeof t)throw new TypeError(m);return function(n){return t.apply(this,n)}},Tt.take=function(n,t,r){return(n?n.length:0)?((r?we(n,t,r):null==t)&&(t=1),jr(n,0,t<0?0:t)):[]},Tt.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?we(n,t,r):null==t)&&(t=1),jr(n,(t=e-(+t||0))<0?0:t)):[]},Tt.takeRightWhile=function(n,t,r){return n&&n.length?Tr(n,le(t,r,3),!1,!0):[]},Tt.takeWhile=function(n,t,r){return n&&n.length?Tr(n,le(t,r,3)):[]},Tt.tap=function(n,t,r){return t.call(r,n),n},Tt.throttle=function(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new TypeError(m);return!1===r?e=!1:Yu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Tu(n,t,{leading:e,maxWait:+t,trailing:u})},Tt.thru=ru,Tt.toArray=to,Tt.toPlainObject=ro,Tt.transform=function(n,e,u,t){var r,o=Mu(n)||Qu(n);return e=le(e,t,4),null==u&&(u=o||Yu(n)?(r=n.constructor,o?Mu(n)?new r:[]:Qt(Vu(r)?r.prototype:I)):{}),(o?Pt:pr)(n,function(n,t,r){return e(u,n,t,r)}),u},Tt.union=Ye,Tt.uniq=Ge,Tt.unzip=Je,Tt.unzipWith=Xe,Tt.values=bo,Tt.valuesIn=function(n){return Ir(n,_o(n))},Tt.where=function(n,t){return au(n,wr(t))},Tt.without=Ze,Tt.wrap=function(n,t){return ce(t=null==t?Wo:t,U,I,[n],[])},Tt.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r,e=arguments[n];ye(e)&&(r=r?Mt(rr(r,e),rr(e,r)):e)}return r?Rr(r):[]},Tt.zip=He,Tt.zipObject=Qe,Tt.zipWith=nu,Tt.backflow=Uu,Tt.collect=gu,Tt.compose=Uu,Tt.each=lu,Tt.eachRight=su,Tt.extend=uo,Tt.iteratee=Uo,Tt.methods=ho,Tt.object=Qe,Tt.select=au,Tt.tail=qe,Tt.unique=Ge,No(Tt,Tt),Tt.attempt=$o,Tt.camelCase=Ao,Tt.capitalize=function(n){return(n=$n(n))&&n.charAt(0).toUpperCase()+n.slice(1)},Tt.clone=function(n,t,r,e){return t&&"boolean"!=typeof t&&we(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?Ht(n,t,Ur(r,e,3)):Ht(n,t)},Tt.cloneDeep=function(n,t,r){return"function"==typeof t?Ht(n,!0,Ur(t,r,3)):Ht(n,!0)},Tt.deburr=jo,Tt.endsWith=function(n,t,r){t+="";var e=(n=$n(n)).length;return r=r===I?e:gt(!(r<0)&&+r||0,e),0<=(r-=t.length)&&n.indexOf(t,r)==r},Tt.escape=function(n){return(n=$n(n))&&c.test(n)?n.replace(a,Fn):n},Tt.escapeRegExp=function(n){return(n=$n(n))&&nn.test(n)?n.replace(Q,Pn):n||"(?:)"},Tt.every=iu,Tt.find=fu,Tt.findIndex=Ne,Tt.findKey=ao,Tt.findLast=cu,Tt.findLastIndex=Fe,Tt.findLastKey=fo,Tt.findWhere=function(n,t){return fu(n,wr(t))},Tt.first=Pe,Tt.get=function(n,t,r){var e=null==n?I:_r(n,Se(t),t+"");return e===I?r:e},Tt.gt=Bu,Tt.gte=function(n,t){return t<=n},Tt.has=function(n,t){if(null==n)return!1;var r=nt.call(n,t);if(!r&&!me(t)){if(null==(n=1==(t=Se(t)).length?n:_r(n,jr(t,0,-1))))return!1;t=De(t),r=nt.call(n,t)}return r||be(n.length)&&de(t,n.length)&&(Mu(n)||Du(n)||Hu(n))},Tt.identity=Wo,Tt.includes=hu,Tt.indexOf=ze,Tt.inRange=function(n,t,r){return t=+t||0,r===I?(r=t,t=0):r=+r||0,n>=gt(t,r)&&n<_t(t,r)},Tt.isArguments=Du,Tt.isArray=Mu,Tt.isBoolean=function(n){return!0===n||!1===n||Mn(n)&&tt.call(n)==E},Tt.isDate=function(n){return Mn(n)&&tt.call(n)==k},Tt.isElement=function(n){return!!n&&1===n.nodeType&&Mn(n)&&!Xu(n)},Tt.isEmpty=function(n){return null==n||(ye(n)&&(Mu(n)||Hu(n)||Du(n)||Mn(n)&&Vu(n.splice))?!n.length:!vo(n).length)},Tt.isEqual=qu,Tt.isError=Ku,Tt.isFinite=function(n){return"number"==typeof n&&ht(n)},Tt.isFunction=Vu,Tt.isMatch=function(n,t,r,e){return r="function"==typeof r?Ur(r,e,3):I,yr(n,_e(t),r)},Tt.isNaN=function(n){return Ju(n)&&n!=+n},Tt.isNative=Gu,Tt.isNull=function(n){return null===n},Tt.isNumber=Ju,Tt.isObject=Yu,Tt.isPlainObject=Xu,Tt.isRegExp=Zu,Tt.isString=Hu,Tt.isTypedArray=Qu,Tt.isUndefined=function(n){return n===I},Tt.kebabCase=Oo,Tt.last=De,Tt.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?_t(e+r,0):gt(r||0,e-1))+1;else if(r){var o=n[u=Sr(n,t,!0)-1];return(t==t?t===o:o!=o)?u:-1}if(t!=t)return Bn(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1},Tt.lt=no,Tt.lte=function(n,t){return n<=t},Tt.max=Bo,Tt.min=Do,Tt.noop=Fo,Tt.now=Au,Tt.pad=function(n,t,r){t=+t;var e=(n=$n(n)).length;if(t<=e||!ht(t))return n;var u=(t-e)/2,o=st(u);return(r=ie("",ct(u),r)).slice(0,o)+n+r},Tt.padLeft=Eo,Tt.padRight=ko,Tt.parseInt=function(n,t,r){return t=(r?we(n,t,r):null==t)?0:t&&+t,n=Co(n),dt(n,t||(on.test(n)?16:10))},Tt.random=function(n,t,r){r&&we(n,t,r)&&(t=r=I);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(u=!(t=1)),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var o=wt();return gt(n+o*(t-n+parseFloat("1e-"+((o+"").length-1))),t)}return br(n,t)},Tt.reduce=du,Tt.reduceRight=wu,Tt.repeat=Ro,Tt.result=function(n,t,r){var e=null==n?I:Ce(n)[t];return e===I&&(null==n||me(t,n)||(e=null==(n=1==(t=Se(t)).length?n:_r(n,jr(t,0,-1)))?I:Ce(n)[De(t)]),e=e===I?r:e),Vu(e)?e.call(n):e},Tt.size=function(n){var t=n?ve(n):0;return be(t)?t:vo(n).length},Tt.snakeCase=Io,Tt.some=xu,Tt.sortedIndex=Ke,Tt.sortedLastIndex=Ve,Tt.startCase=To,Tt.startsWith=function(n,t,r){return n=$n(n),r=null==r?0:gt(!(r<0)&&+r||0,n.length),n.lastIndexOf(t,r)==r},Tt.sum=function(n,t,r){return r&&we(n,t,r)&&(t=I),1==(t=le(t,r,3)).length?function(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}(Mu(n)?n:Te(n),t):(e=t,u=0,er(n,function(n,t,r){u+=+e(n,t,r)||0}),u);var e,u},Tt.template=function(i,n,t){var r=Tt.templateSettings;t&&we(i,n,t)&&(n=t=I),i=$n(i),n=Yt(Gt({},t||n),r,Vt);var a,f,e=Yt(Gt({},n.imports),r.imports,Vt),u=vo(e),o=Ir(e,u),c=0,l=n.interpolate||ln,s="__p += '",p=RegExp((n.escape||ln).source+"|"+l.source+"|"+(l===Z?en:ln).source+"|"+(n.evaluate||ln).source+"|$","g"),h="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++vn+"]")+"\n";i.replace(p,function(n,t,r,e,u,o){return r=r||e,s+=i.slice(c,o).replace(sn,zn),t&&(a=!0,s+="' +\n__e("+t+") +\n'"),u&&(f=!0,s+="';\n"+u+";\n__p += '"),r&&(s+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=o+n.length,n}),s+="';\n";var v=n.variable;v||(s="with (obj) {\n"+s+"\n}\n"),s=(f?s.replace(G,""):s).replace(J,"$1").replace(X,"$1;"),s="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var _=$o(function(){return Function(u,h+"return "+s).apply(I,o)});if(_.source=s,Ku(_))throw _;return _},Tt.trim=Co,Tt.trimLeft=function(n,t,r){var e=n;return(n=$n(n))?(r?we(e,t,r):null==t)?n.slice(Vn(n)):n.slice(Un(n,t+"")):n},Tt.trimRight=function(n,t,r){var e=n;return(n=$n(n))?(r?we(e,t,r):null==t)?n.slice(0,Yn(n)+1):n.slice(0,Wn(n,t+"")+1):n},Tt.trunc=function(n,t,r){r&&we(n,t,r)&&(t=I);var e,u=p,o=h;if(null!=t&&(Yu(t)?(e="separator"in t?t.separator:e,u="length"in t?+t.length||0:u,o="omission"in t?$n(t.omission):o):u=+t||0),u>=(n=$n(n)).length)return n;var i=u-o.length;if(i<1)return o;var a,f=n.slice(0,i);if(null==e)return f+o;if(Zu(e)){if(n.slice(i).search(e)){var c,l,s=n.slice(0,i);for(e.global||(e=RegExp(e.source,(un.exec(e)||"")+"g")),e.lastIndex=0;c=e.exec(s);)l=c.index;f=f.slice(0,null==l?i:l)}}else n.indexOf(e,i)==i||-1<(a=f.lastIndexOf(e))&&(f=f.slice(0,a));return f+o},Tt.unescape=function(n){return(n=$n(n))&&f.test(n)?n.replace(i,Gn):n},Tt.words=So,Tt.all=iu,Tt.any=xu,Tt.contains=hu,Tt.eq=qu,Tt.detect=fu,Tt.foldl=du,Tt.foldr=wu,Tt.head=Pe,Tt.include=hu,Tt.inject=du,No(Tt,(zo={},pr(Tt,function(n,t){Tt.prototype[t]||(zo[t]=n)}),zo),!1),Tt.sample=mu,Tt.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return mu(n,t)}):mu(this.value())},Tt.VERSION="Clicknium customized version",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Tt[n].placeholder=Tt}),Pt(["drop","take"],function(e,u){Ut.prototype[e]=function(n){var t=this.__filtered__;if(t&&!u)return new Ut(this);n=null==n?1:_t(st(n)||0,0);var r=this.clone();return t?r.__takeCount__=gt(r.__takeCount__,n):r.__views__.push({size:n,type:e+(r.__dir__<0?"Right":"")}),r},Ut.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Pt(["filter","map","takeWhile"],function(n,t){var e=t+1,u=e!=A;Ut.prototype[n]=function(n,t){var r=this.clone();return r.__iteratees__.push({iteratee:le(n,t,1),type:e}),r.__filtered__=r.__filtered__||u,r}}),Pt(["first","last"],function(n,t){var r="take"+(t?"Right":"");Ut.prototype[n]=function(){return this[r](1).value()[0]}}),Pt(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Ut.prototype[n]=function(){return this.__filtered__?new Ut(this):this[r](1)}}),Pt(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?wr:Po;Ut.prototype[n]=function(n){return this[r](e(n))}}),Ut.prototype.compact=function(){return this.filter(Wo)},Ut.prototype.reject=function(t,n){return t=le(t,n,1),this.filter(function(n){return!t(n)})},Ut.prototype.slice=function(n,t){n=null!=n&&+n||0;var r=this;return r.__filtered__&&(0<n||t<0)?new Ut(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==I&&(r=(t=+t||0)<0?r.dropRight(-t):r.take(t-n)),r)},Ut.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Ut.prototype.toArray=function(){return this.take(xt)},pr(Ut.prototype,function(s,n){var p=/^(?:filter|map|reject)|While$/.test(n),h=/^(?:first|last)$/.test(n),v=Tt[h?"take"+("last"==n?"Right":""):n];v&&(Tt.prototype[n]=function(){var t=h?[1]:arguments,r=this.__chain__,n=this.__wrapped__,e=!!this.__actions__.length,u=n instanceof Ut,o=t[0],i=u||Mu(n);i&&p&&"function"==typeof o&&1!=o.length&&(u=i=!1);var a=function(n){return h&&r?v(n,1)[0]:v.apply(I,Mt([n],t))},f={func:ru,args:[a],thisArg:I},c=u&&!e;if(h&&!r)return c?((n=n.clone()).__actions__.push(f),s.call(n)):v.call(I,this.value())[0];if(h||!i)return this.thru(a);n=c?n:new Ut(this);var l=s.apply(n,t);return l.__actions__.push(f),new St(l,r)})}),Pt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hn:Jn)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=!$t.spliceObjects&&/^(?:pop|shift|splice)$/.test(n),u=/^(?:join|pop|replace|shift)$/.test(n),o=e?function(){var n=t.apply(this,arguments);return 0===this.length&&delete this[0],n}:t;Tt.prototype[n]=function(){var t=arguments;return u&&!this.__chain__?o.apply(this.value(),t):this[r](function(n){return o.apply(n,t)})}}),pr(Ut.prototype,function(n,t){var r,e=Tt[t];e&&(r=e.name+"",(kt[r]||(kt[r]=[])).push({name:t,func:e}))}),kt[oe(I,C).name]=[{name:"wrapper",func:I}],Ut.prototype.clone=function(){var n=new Ut(this.__wrapped__);return n.__actions__=Ft(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Ft(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Ft(this.__views__),n},Ut.prototype.reverse=function(){var n;return this.__filtered__?((n=new Ut(this)).__dir__=-1,n.__filtered__=!0):(n=this.clone()).__dir__*=-1,n},Ut.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,r=Mu(n),e=t<0,u=r?n.length:0,o=function(n,t,r){var e=-1,u=r.length;for(;++e<u;){var o=r[e],i=o.size;switch(o.type){case"drop":n+=i;break;case"dropRight":t-=i;break;case"take":t=gt(t,n+i);break;case"takeRight":n=_t(n,t-i)}}return{start:n,end:t}}(0,u,this.__views__),i=o.start,a=o.end,f=a-i,c=e?a:i-1,l=this.__iteratees__,s=l.length,p=0,h=gt(f,this.__takeCount__);if(!r||u<x||u==f&&h==f)return Cr(n,this.__actions__);var v=[];n:for(;f--&&p<h;){for(var _=-1,g=n[c+=t];++_<s;){var y=l[_],d=y.iteratee,w=y.type,m=d(g);if(w==A)g=m;else if(!m){if(w==b)continue n;break n}}v[p++]=g}return v},Tt.prototype.chain=function(){return tu(this)},Tt.prototype.commit=function(){return new St(this.value(),this.__chain__)},Tt.prototype.concat=eu,Tt.prototype.plant=function(n){for(var t,r=this;r instanceof Ct;){var e=$e(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},Tt.prototype.reverse=function(){var n=this.__wrapped__,t=function(n){return n.reverse()};if(n instanceof Ut){var r=n;return this.__actions__.length&&(r=new Ut(this)),(r=r.reverse()).__actions__.push({func:ru,args:[t],thisArg:I}),new St(r,this.__chain__)}return this.thru(t)},Tt.prototype.toString=function(){return this.value()+""},Tt.prototype.run=Tt.prototype.toJSON=Tt.prototype.valueOf=Tt.prototype.value=function(){return Cr(this.__wrapped__,this.__actions__)},Tt.prototype.collect=Tt.prototype.map,Tt.prototype.head=Tt.prototype.first,Tt.prototype.select=Tt.prototype.filter,Tt.prototype.tail=Tt.prototype.rest,define("common/lodash/lodash",function(){return Tt})}).call(this);
!function(){var bi=function(e,t){return new bi.fn.init(e,t)},o=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,n=/^.[^:#\[\.,]*$/;function c(e,t){t.src?bi.ajax({url:t.src,async:!1,dataType:"script"}):bi.globalEval(t.text||t.textContent||t.innerHTML||""),t.parentNode&&t.parentNode.removeChild(t)}function g(){return+new Date}bi.fn=bi.prototype={init:function(e,t){if((e=e||document).nodeType)return this[0]=e,this.length=1,this.context=e,this;if("string"==typeof e){var n=o.exec(e);if(!n||!n[1]&&t)return bi(t).find(e);if(!n[1]){var i=document.getElementById(n[3]);if(i&&i.id!=n[3])return bi().find(e);var r=bi(i||[]);return r.context=document,r.selector=e,r}e=bi.clean([n[1]],t)}else if(bi.isFunction(e))return bi(document).ready(e);return e.selector&&e.context&&(this.selector=e.selector,this.context=e.context),this.setArray(bi.isArray(e)?e:bi.makeArray(e))},selector:"",jquery:"Clicknium customized version",size:function(){return this.length},get:function(e){return e===undefined?Array.prototype.slice.call(this):this[e]},pushStack:function(e,t,n){var i=bi(e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},setArray:function(e){return this.length=0,Array.prototype.push.apply(this,e),this},each:function(e,t){return bi.each(this,e,t)},index:function(e){return bi.inArray(e&&e.jquery?e[0]:e,this)},attr:function(t,e,n){var i=t;if("string"==typeof t){if(e===undefined)return this[0]&&bi[n||"attr"](this[0],t);(i={})[t]=e}return this.each(function(e){for(t in i)bi.attr(n?this.style:this,t,bi.prop(this,i[t],n,e,t))})},css:function(e,t){return("width"==e||"height"==e)&&parseFloat(t)<0&&(t=undefined),this.attr(e,t,"curCSS")},text:function(e){if("object"!=typeof e&&null!=e)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(e));var t="";return bi.each(e||this,function(){bi.each(this.childNodes,function(){8!=this.nodeType&&(t+=1!=this.nodeType?this.nodeValue:bi.fn.text([this]))})}),t},wrapAll:function(e){var t;return this[0]&&(t=bi(e,this[0].ownerDocument).clone(),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild;)e=e.firstChild;return e}).append(this)),this},wrapInner:function(e){return this.each(function(){bi(this).contents().wrapAll(e)})},wrap:function(e){return this.each(function(){bi(this).wrapAll(e)})},append:function(){return this.domManip(arguments,!0,function(e){1==this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1==this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)})},end:function(){return this.prevObject||bi([])},push:[].push,sort:[].sort,splice:[].splice,find:function(t){if(1!==this.length)return this.pushStack(bi.unique(bi.map(this,function(e){return bi.find(t,e)})),"find",t);var e=this.pushStack([],"find",t);return e.length=0,bi.find(t,this[0],e),e},clone:function(e){var i,r,t=this.map(function(){if(bi.support.noCloneEvent||bi.isXMLDoc(this))return this.cloneNode(!0);var e,t=this.outerHTML;return t||((e=this.ownerDocument.createElement("div")).appendChild(this.cloneNode(!0)),t=e.innerHTML),bi.clean([t.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]});return!0===e&&(i=this.find("*").andSelf(),r=0,t.find("*").andSelf().each(function(){if(this.nodeName===i[r].nodeName){var e=bi.data(i[r],"events");for(var t in e)for(var n in e[t])bi.event.add(this,t,e[t][n],e[t][n].data);r++}})),t},filter:function(n){return this.pushStack(bi.isFunction(n)&&bi.grep(this,function(e,t){return n.call(e,t)})||bi.multiFilter(n,bi.grep(this,function(e){return 1===e.nodeType})),"filter",n)},closest:function(t){var n=bi.expr.match.POS.test(t)?bi(t):null,i=0;return this.map(function(){for(var e=this;e&&e.ownerDocument;){if(n?-1<n.index(e):bi(e).is(t))return bi.data(e,"closest",i),e;e=e.parentNode,i++}})},not:function(e){if("string"==typeof e){if(n.test(e))return this.pushStack(bi.multiFilter(e,this,!0),"not",e);e=bi.multiFilter(e,this)}var t=e.length&&e[e.length-1]!==undefined&&!e.nodeType;return this.filter(function(){return t?bi.inArray(this,e)<0:this!=e})},add:function(e){return this.pushStack(bi.unique(bi.merge(this.get(),"string"==typeof e?bi(e):bi.makeArray(e))))},is:function(e){return!!e&&0<bi.multiFilter(e,this).length},hasClass:function(e){return!!e&&this.is("."+e)},val:function(t){if(t!==undefined)return"number"==typeof t&&(t+=""),this.each(function(){var e;1==this.nodeType&&(bi.isArray(t)&&/radio|checkbox/.test(this.type)?this.checked=0<=bi.inArray(this.value,t)||0<=bi.inArray(this.name,t):bi.nodeName(this,"select")?(e=bi.makeArray(t),bi("option",this).each(function(){this.selected=0<=bi.inArray(this.value,e)||0<=bi.inArray(this.text,e)}),e.length||(this.selectedIndex=-1)):this.value=t)});var e=this[0];if(e){if(bi.nodeName(e,"option"))return(e.attributes.value||{}).specified?e.value:e.text;if(bi.nodeName(e,"select")){var n=e.selectedIndex,i=[],r=e.options,o="select-one"==e.type;if(n<0)return null;for(var a=o?n:0,s=o?n+1:r.length;a<s;a++){var u=r[a];if(u.selected){if(t=bi(u).val(),o)return t;i.push(t)}}return i}return(e.value||"").replace(/\r/g,"")}return undefined},html:function(e){return e===undefined?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null:this.empty().append(e)},replaceWith:function(e){return this.after(e).remove()},eq:function(e){return this.slice(e,+e+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(n){return this.pushStack(bi.map(this,function(e,t){return n.call(e,t,e)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(e,t,n){if(this[0]){var i=(this[0].ownerDocument||this[0]).createDocumentFragment(),r=bi.clean(e,this[0].ownerDocument||this[0],i),o=i.firstChild;if(o)for(var a=0,s=this.length;a<s;a++)n.call((u=this[a],l=o,t&&bi.nodeName(u,"table")&&bi.nodeName(l,"tr")?u.getElementsByTagName("tbody")[0]||u.appendChild(u.ownerDocument.createElement("tbody")):u),1<this.length||0<a?i.cloneNode(!0):i);r&&bi.each(r,c)}var u,l;return this}},bi.fn.init.prototype=bi.fn,bi.extend=bi.fn.extend=function(){var e,t=arguments[0]||{},n=1,i=arguments.length,r=!1;for("boolean"==typeof t&&(r=t,t=arguments[1]||{},n=2),"object"==typeof t||bi.isFunction(t)||(t={}),i==n&&(t=this,--n);n<i;n++)if(null!=(e=arguments[n]))for(var o in e){var a=t[o],s=e[o];t!==s&&(r&&s&&"object"==typeof s&&!s.nodeType?t[o]=bi.extend(r,a||(null!=s.length?[]:{}),s):s!==undefined&&(t[o]=s))}return t};var a=/z-?index|font-?weight|opacity|zoom|line-?height/i,l=document.defaultView||{},t=Object.prototype.toString;bi.extend({noConflict:function(e){},isFunction:function(e){return"[object Function]"===t.call(e)},isArray:function(e){return"[object Array]"===t.call(e)},isXMLDoc:function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&bi.isXMLDoc(e.ownerDocument)},globalEval:function(e){var t,n;e&&/\S/.test(e)&&(t=document.getElementsByTagName("head")[0]||document.documentElement,(n=document.createElement("script")).type="text/javascript",bi.support.scriptEval?n.appendChild(document.createTextNode(e)):n.text=e,t.insertBefore(n,t.firstChild),t.removeChild(n))},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()==t.toUpperCase()},each:function(e,t,n){var i,r=0,o=e.length;if(n)if(o===undefined){for(i in e)if(!1===t.apply(e[i],n))break}else for(;r<o&&!1!==t.apply(e[r++],n););else if(o===undefined){for(i in e)if(!1===t.call(e[i],i,e[i]))break}else for(var a=e[0];r<o&&!1!==t.call(a,r,a);a=e[++r]);return e},prop:function(e,t,n,i,r){return bi.isFunction(t)&&(t=t.call(e,i)),"number"!=typeof t||"curCSS"!=n||a.test(r)?t:t+"px"},className:{add:function(n,e){bi.each((e||"").split(/\s+/),function(e,t){1!=n.nodeType||bi.className.has(n.className,t)||(n.className+=(n.className?" ":"")+t)})},remove:function(e,t){1==e.nodeType&&(e.className=t!==undefined?bi.grep(e.className.split(/\s+/),function(e){return!bi.className.has(t,e)}).join(" "):"")},has:function(e,t){return e&&-1<bi.inArray(t,(e.className||e).toString().split(/\s+/))}},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];for(var r in n.call(e),t)e.style[r]=i[r]},css:function(e,t,n,i){if("width"!=t&&"height"!=t)return bi.curCSS(e,t,n);var r,o="width"==t?["Left","Right"]:["Top","Bottom"];function a(){r="width"==t?e.offsetWidth:e.offsetHeight,"border"!==i&&bi.each(o,function(){i||(r-=parseFloat(bi.curCSS(e,"padding"+this,!0))||0),"margin"===i?r+=parseFloat(bi.curCSS(e,"margin"+this,!0))||0:r-=parseFloat(bi.curCSS(e,"border"+this+"Width",!0))||0})}return 0!==e.offsetWidth?a():bi.swap(e,{position:"absolute",visibility:"hidden",display:"block"},a),Math.max(0,Math.round(r))},curCSS:function(e,t,n){var i,r,o,a,s,u=e.style;return"opacity"!=t||bi.support.opacity?(t.match(/float/i)&&(t=w),!n&&u&&u[t]?s=u[t]:l.getComputedStyle?(t.match(/float/i)&&(t="float"),t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),(i=l.getComputedStyle(e,null))&&(s=i.getPropertyValue(t)),"opacity"==t&&""==s&&(s="1")):e.currentStyle&&(r=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),s=e.currentStyle[t]||e.currentStyle[r],!/^\d+(px)?$/i.test(s)&&/^\d/.test(s)&&(o=u.left,a=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,u.left=s||0,s=u.pixelLeft+"px",u.left=o,e.runtimeStyle.left=a)),s):""==(s=bi.attr(u,"opacity"))?"1":s},clean:function(e,s,t){if("undefined"==typeof(s=s||document).createElement&&(s=s.ownerDocument||s[0]&&s[0].ownerDocument||document),!t&&1===e.length&&"string"==typeof e[0]){var n=/^<(\w+)\s*\/?>$/.exec(e[0]);if(n)return[s.createElement(n[1])]}var u=[],i=[],l=s.createElement("div");if(bi.each(e,function(e,t){if("number"==typeof t&&(t+=""),t){if("string"==typeof t){var n=(t=t.replace(/(<(\w+)[^>]*?)\/>/g,function(e,t,n){return n.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?e:t+"></"+n+">"})).replace(/^\s+/,"").substring(0,10).toLowerCase(),i=(n.indexOf("<opt")?!n.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]:[1,"<select multiple='multiple'>","</select>"])||n.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!n.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!bi.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];for(l.innerHTML=i[1]+t+i[2];i[0]--;)l=l.lastChild;if(!bi.support.tbody)for(var r=/<tbody/i.test(t),o=n.indexOf("<table")||r?"<table>"!=i[1]||r?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,a=o.length-1;0<=a;--a)bi.nodeName(o[a],"tbody")&&!o[a].childNodes.length&&o[a].parentNode.removeChild(o[a]);!bi.support.leadingWhitespace&&/^\s/.test(t)&&l.insertBefore(s.createTextNode(t.match(/^\s*/)[0]),l.firstChild),t=bi.makeArray(l.childNodes)}t.nodeType?u.push(t):u=bi.merge(u,t)}}),t){for(var r=0;u[r];r++)!bi.nodeName(u[r],"script")||u[r].type&&"text/javascript"!==u[r].type.toLowerCase()?(1===u[r].nodeType&&u.splice.apply(u,[r+1,0].concat(bi.makeArray(u[r].getElementsByTagName("script")))),t.appendChild(u[r])):i.push(u[r].parentNode?u[r].parentNode.removeChild(u[r]):u[r]);return i}return u},attr:function(e,t,n){if(!e||3==e.nodeType||8==e.nodeType)return undefined;var i=!bi.isXMLDoc(e),r=n!==undefined;if(t=i&&bi.props[t]||t,e.tagName){var o=/href|src|style/.test(t);if("selected"==t&&e.parentNode&&e.parentNode.selectedIndex,t in e&&i&&!o){if(r){if("type"==t&&bi.nodeName(e,"input")&&e.parentNode)throw"type property can't be changed";e[t]=n}if(bi.nodeName(e,"form")&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if("tabIndex"!=t)return e[t];var a=e.getAttributeNode("tabIndex");return a&&a.specified?a.value:e.nodeName.match(/(button|input|object|select|textarea)/i)||e.nodeName.match(/^(a|area)$/i)&&e.href?0:undefined}if(!bi.support.style&&i&&"style"==t)return bi.attr(e.style,"cssText",n);r&&e.setAttribute(t,""+n);var s=!bi.support.hrefNormalized&&i&&o?e.getAttribute(t,2):e.getAttribute(t);return null===s?undefined:s}return bi.support.opacity||"opacity"!=t?(t=t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),r&&(e[t]=n),e[t]):(r&&(e.zoom=1,e.filter=(e.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(n)+""=="NaN"?"":"alpha(opacity="+100*n+")")),e.filter&&0<=e.filter.indexOf("opacity=")?parseFloat(e.filter.match(/opacity=([^)]*)/)[1])/100+"":"")},trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},makeArray:function(e){var t=[];if(null!=e){var n=e.length;if(null==n||"string"==typeof e||bi.isFunction(e)||e.setInterval)t[0]=e;else for(;n;)t[--n]=e[n]}return t},inArray:function(e,t){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},merge:function(e,t){var n,i=0,r=e.length;if(bi.support.getAll)for(;null!=(n=t[i++]);)e[r++]=n;else for(;null!=(n=t[i++]);)8!=n.nodeType&&(e[r++]=n);return e},unique:function(e){var t=[],n={};try{for(var i=0,r=e.length;i<r;i++){var o=bi.data(e[i]);n[o]||(n[o]=!0,t.push(e[i]))}}catch(a){t=e}return t},grep:function(e,t,n){for(var i=[],r=0,o=e.length;r<o;r++)!n!=!t(e[r],r)&&i.push(e[r]);return i},map:function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=t(e[i],i);null!=o&&(n[n.length]=o)}return n.concat.apply([],n)}});var e=navigator.userAgent.toLowerCase();function r(e,t){return e[0]&&parseInt(bi.curCSS(e[0],t,!0),10)||0}bi.browser={version:(e.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(e),opera:/opera/.test(e),msie:/msie/.test(e)&&!/opera/.test(e),mozilla:/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)},bi.each({parent:function(e){return e.parentNode},parents:function(e){return bi.dir(e,"parentNode")},next:function(e){return bi.nth(e,2,"nextSibling")},prev:function(e){return bi.nth(e,2,"previousSibling")},nextAll:function(e){return bi.dir(e,"nextSibling")},prevAll:function(e){return bi.dir(e,"previousSibling")},siblings:function(e){return bi.sibling(e.parentNode.firstChild,e)},children:function(e){return bi.sibling(e.firstChild)},contents:function(e){return bi.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bi.makeArray(e.childNodes)}},function(n,i){bi.fn[n]=function(e){var t=bi.map(this,i);return e&&"string"==typeof e&&(t=bi.multiFilter(e,t)),this.pushStack(bi.unique(t),n,e)}}),bi.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,s){bi.fn[a]=function(e){for(var t=[],n=bi(e),i=0,r=n.length;i<r;i++){var o=(0<i?this.clone(!0):this).get();bi.fn[s].apply(bi(n[i]),o),t=t.concat(o)}return this.pushStack(t,a,e)}}),bi.each({removeAttr:function(e){bi.attr(this,e,""),1==this.nodeType&&this.removeAttribute(e)},addClass:function(e){bi.className.add(this,e)},removeClass:function(e){bi.className.remove(this,e)},toggleClass:function(e,t){"boolean"!=typeof t&&(t=!bi.className.has(this,e)),bi.className[t?"add":"remove"](this,e)},remove:function(e){e&&!bi.filter(e,[this]).length||(bi("*",this).add([this]).each(function(){bi.event.remove(this),bi.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this))},empty:function(){for(bi(this).children().remove();this.firstChild;)this.removeChild(this.firstChild)}},function(e,t){bi.fn[e]=function(){return this.each(t,arguments)}});var u="jQuery"+g(),s=0,f={};function i(){return!1}function p(){return!0}bi.extend({cache:{},data:function(e,t,n){var i=(i=(e=e==window?f:e)[u])||(e[u]=++s);return t&&!bi.cache[i]&&(bi.cache[i]={}),n!==undefined&&(bi.cache[i][t]=n),t?bi.cache[i][t]:i},removeData:function(e,t){var n=(e=e==window?f:e)[u];if(t){if(bi.cache[n]){for(t in delete bi.cache[n][t],t="",bi.cache[n])break;t||bi.removeData(e)}}else{try{delete e[u]}catch(i){e.removeAttribute&&e.removeAttribute(u)}delete bi.cache[n]}},queue:function(e,t,n){var i;return e&&(t=(t||"fx")+"queue",!(i=bi.data(e,t))||bi.isArray(n)?i=bi.data(e,t,bi.makeArray(n)):n&&i.push(n)),i},dequeue:function(e,t){var n=bi.queue(e,t),i=n.shift();t&&"fx"!==t||(i=n[0]),i!==undefined&&i.call(e)}}),bi.fn.extend({data:function(e,t){var n=e.split(".");if(n[1]=n[1]?"."+n[1]:"",t!==undefined)return this.trigger("setData"+n[1]+"!",[n[0],t]).each(function(){bi.data(this,e,t)});var i=this.triggerHandler("getData"+n[1]+"!",[n[0]]);return i===undefined&&this.length&&(i=bi.data(this[0],e)),i===undefined&&n[1]?this.data(n[0]):i},removeData:function(e){return this.each(function(){bi.removeData(this,e)})},queue:function(t,n){return"string"!=typeof t&&(n=t,t="fx"),n===undefined?bi.queue(this[0],t):this.each(function(){var e=bi.queue(this,t,n);"fx"==t&&1==e.length&&e[0].call(this)})},dequeue:function(e){return this.each(function(){bi.dequeue(this,e)})}}),function(){var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,a=0,m=Object.prototype.toString,y=function(e,t,n,i){if(n=n||[],1!==(t=t||document).nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var r,o,a,s=[],u=!0;for(d.lastIndex=0;null!==(r=d.exec(e));)if(s.push(r[1]),r[2]){a=RegExp.rightContext;break}if(1<s.length&&w.exec(e))if(2===s.length&&v.relative[s[0]])c=N(s[0]+s[1],t);else for(c=v.relative[s[0]]?[t]:y(s.shift(),t);s.length;)e=s.shift(),v.relative[e]&&(e+=s.shift()),c=N(e,c);else{var l=i?{expr:s.pop(),set:T(i)}:y.find(s.pop(),1===s.length&&t.parentNode?t.parentNode:t,b(t)),c=y.filter(l.expr,l.set);for(0<s.length?o=T(c):u=!1;s.length;){var f=s.pop(),p=f;v.relative[f]?p=s.pop():f="",null==p&&(p=t),v.relative[f](o,p,b(t))}}if(!(o=o||c))throw"Syntax error, unrecognized expression: "+(f||e);if("[object Array]"===m.call(o))if(u)if(1===t.nodeType)for(var h=0;null!=o[h];h++)o[h]&&(!0===o[h]||1===o[h].nodeType&&x(t,o[h]))&&n.push(c[h]);else for(h=0;null!=o[h];h++)o[h]&&1===o[h].nodeType&&n.push(c[h]);else n.push.apply(n,o);else T(o,n);if(a&&(y(a,t,n,i),g&&(hasDuplicate=!1,n.sort(g),hasDuplicate)))for(h=1;h<n.length;h++)n[h]===n[h-1]&&n.splice(h--,1);return n};y.matches=function(e,t){return y(e,null,null,t)},y.find=function(e,t,n){var i;if(!e)return[];for(var r=0,o=v.order.length;r<o;r++){var a,s=v.order[r];if(a=v.match[s].exec(e)){var u=RegExp.leftContext;if("\\"!==u.substr(u.length-1)&&(a[1]=(a[1]||"").replace(/\\/g,""),null!=(i=v.find[s](a,t,n)))){e=e.replace(v.match[s],"");break}}}return{set:i=i||t.getElementsByTagName("*"),expr:e}},y.filter=function(e,t,n,i){for(var r,o=e,a=[],s=t,u=t&&t[0]&&b(t[0]);e&&t.length;){for(var l in v.filter)if(null!=(r=v.match[l].exec(e))){var c,f,p=v.filter[l],h=!1;if(s==a&&(a=[]),v.preFilter[l])if(r=v.preFilter[l](r,s,n,a,i,u)){if(!0===r)continue}else h=c=!0;if(r)for(var d,m=0;null!=(f=s[m]);m++){f&&(d=i^!!(c=p(f,r,m,s)),n&&null!=c?d?h=!0:s[m]=!1:d&&(a.push(f),h=!0))}if(c!==undefined){if(n||(s=a),e=e.replace(v.match[l],""),!h)return[];break}}if(e==o){if(null==h)throw"Syntax error, unrecognized expression: "+e;break}o=e}return s};var v=y.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,n){var i="string"==typeof t,r=i&&!/\W/.test(t),o=i&&!r;r&&!n&&(t=t.toUpperCase());for(var a,s=0,u=e.length;s<u;s++)if(a=e[s]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[s]=o||a&&a.nodeName===t?a||!1:a===t}o&&y.filter(t,e,!0)},">":function(e,t,n){var i="string"==typeof t;if(i&&!/\W/.test(t)){t=n?t:t.toUpperCase();for(var r,o=0,a=e.length;o<a;o++){(s=e[o])&&(r=s.parentNode,e[o]=r.nodeName===t&&r)}}else{for(var s,o=0,a=e.length;o<a;o++){(s=e[o])&&(e[o]=i?s.parentNode:s.parentNode===t)}i&&y.filter(t,e,!0)}},"":function(e,t,n){var i,r=a++,o=u;t.match(/\W/)||(i=t=n?t:t.toUpperCase(),o=s),o("parentNode",t,r,e,i,n)},"~":function(e,t,n){var i,r=a++,o=u;"string"!=typeof t||t.match(/\W/)||(i=t=n?t:t.toUpperCase(),o=s),o("previousSibling",t,r,e,i,n)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?[i]:[]}},NAME:function(e,t,n){if("undefined"!=typeof t.getElementsByName){for(var i=[],r=t.getElementsByName(e[1]),o=0,a=r.length;o<a;o++)r[o].getAttribute("name")===e[1]&&i.push(r[o]);return 0===i.length?null:i}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(/\\/g,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(r^(a.className&&0<=(" "+a.className+" ").indexOf(e))?n||i.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e,t){for(var n=0;!1===t[n];n++);return t[n]&&b(t[n])?e[1]:e[1].toUpperCase()},CHILD:function(e){var t;return"nth"==e[1]&&(t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(("even"==e[2]?"2n":"odd"==e[2]&&"2n+1")||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]),e[2]=+(t[1]+(t[2]||1)),e[3]=+t[3]),e[0]=a++,e},ATTR:function(e,t,n,i,r,o){var a=e[1].replace(/\\/g,"");return!o&&v.attrMap[a]&&(e[1]=v.attrMap[a]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,r){if("not"===e[1]){if(!(1<e[3].match(d).length||/^\w/.test(e[3]))){var o=y.filter(e[3],t,n,!0^r);return n||i.push.apply(i,o),!1}e[3]=y(e[3],null,null,t)}else if(v.match.POS.test(e[0])||v.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!y(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,n){return t<+n[3]},gt:function(e,t,n){return t>+n[3]},nth:function(e,t,n){return+n[3]==t},eq:function(e,t,n){return+n[3]==t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=v.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return 0<=(e.textContent||e.innerText||"").indexOf(t[3]);if("not"===r){for(var a=t[3],n=0,s=a.length;n<s;n++)if(a[n]===e)return!1;return!0}},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"==n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":var r=t[2],o=t[3];if(1==r&&0==o)return!0;var a=t[0],s=e.parentNode;if(s&&(s.sizcache!==a||!e.nodeIndex)){for(var u=0,i=s.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++u);s.sizcache=a}var l=e.nodeIndex-o;return 0==r?0==l:l%r==0&&0<=l/r}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return-1<(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)},ATTR:function(e,t){var n=t[1],i=v.attrHandle[n]?v.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],a=t[4];return null==i?"!="===o:"="===o?r===a:"*="===o?0<=r.indexOf(a):"~="===o?0<=(" "+r+" ").indexOf(a):a?"!="===o?r!=a:"^="===o?0===r.indexOf(a):"$="===o?r.substr(r.length-a.length)===a:"|="===o&&(r===a||r.substr(0,a.length+1)===a+"-"):r&&!1!==i},POS:function(e,t,n,i){var r=t[2],o=v.setFilters[r];if(o)return o(e,n,t,i)}}},w=v.match.POS;for(var e in v.match)v.match[e]=RegExp(v.match[e].source+/(?![^\[]*\])(?![^\(]*\))/.source);var g,t,r,n,i,T=function(e,t){return e=Array.prototype.slice.call(e),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(o){T=function(e,t){var n=t||[];if("[object Array]"===m.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var i=0,r=e.length;i<r;i++)n.push(e[i]);else for(i=0;e[i];i++)n.push(e[i]);return n}}function s(e,t,n,i,r,o){for(var a="previousSibling"==e&&!o,s=0,u=i.length;s<u;s++){var l=i[s];if(l){a&&1===l.nodeType&&(l.sizcache=n,l.sizset=s),l=l[e];for(var c=!1;l;){if(l.sizcache===n){c=i[l.sizset];break}if(1!==l.nodeType||o||(l.sizcache=n,l.sizset=s),l.nodeName===t){c=l;break}l=l[e]}i[s]=c}}}function u(e,t,n,i,r,o){for(var a="previousSibling"==e&&!o,s=0,u=i.length;s<u;s++){var l=i[s];if(l){a&&1===l.nodeType&&(l.sizcache=n,l.sizset=s),l=l[e];for(var c=!1;l;){if(l.sizcache===n){c=i[l.sizset];break}if(1===l.nodeType)if(o||(l.sizcache=n,l.sizset=s),"string"!=typeof t){if(l===t){c=!0;break}}else if(0<y.filter(t,[l]).length){c=l;break}l=l[e]}i[s]=c}}}document.documentElement.compareDocumentPosition?g=function(e,t){var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0==n&&(hasDuplicate=!0),n}:"sourceIndex"in document.documentElement?g=function(e,t){var n=e.sourceIndex-t.sourceIndex;return 0==n&&(hasDuplicate=!0),n}:document.createRange&&(g=function(e,t){var n=e.ownerDocument.createRange(),i=t.ownerDocument.createRange();n.selectNode(e),n.collapse(!0),i.selectNode(t),i.collapse(!0);var r=n.compareBoundaryPoints(Range.START_TO_END,i);return 0===r&&(hasDuplicate=!0),r}),function(){var e=document.createElement("form"),t="script"+(new Date).getTime();e.innerHTML="<input name='"+t+"'/>";var n=document.documentElement;n.insertBefore(e,n.firstChild),document.getElementById(t)&&(v.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:undefined:[]}},v.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e)}(),(t=document.createElement("div")).appendChild(document.createComment("")),0<t.getElementsByTagName("*").length&&(v.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(v.attrHandle.href=function(e){return e.getAttribute("href",2)}),document.querySelectorAll&&(r=y,(n=document.createElement("div")).innerHTML="<p class='TEST'></p>",n.querySelectorAll&&0===n.querySelectorAll(".TEST").length||((y=function(e,t,n,i){if(t=t||document,!i&&9===t.nodeType&&!b(t))try{return T(t.querySelectorAll(e),n)}catch(o){}return r(e,t,n,i)}).find=r.find,y.filter=r.filter,y.selectors=r.selectors,y.matches=r.matches)),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&document.createElement("div").getElementsByClassName&&((i=document.createElement("div")).innerHTML="<div class='test e'></div><div class='test'></div>",0!==i.getElementsByClassName("e").length&&(i.lastChild.className="e",1!==i.getElementsByClassName("e").length&&(v.order.splice(1,0,"CLASS"),v.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])})));var x=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(!e.contains||e.contains(t))},b=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&b(e.ownerDocument)},N=function(e,t){for(var n,i=[],r="",o=t.nodeType?[t]:t;n=v.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(v.match.PSEUDO,"");e=v.relative[e]?e+"*":e;for(var a=0,s=o.length;a<s;a++)y(e,o[a],i);return y.filter(r,i)};bi.find=y,bi.filter=y.filter,bi.expr=y.selectors,bi.expr[":"]=bi.expr.filters,y.selectors.filters.hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight},y.selectors.filters.visible=function(e){return 0<e.offsetWidth||0<e.offsetHeight},y.selectors.filters.animated=function(t){return bi.grep(bi.timers,function(e){return t===e.elem}).length},bi.multiFilter=function(e,t,n){return n&&(e=":not("+e+")"),y.matches(e,t)},bi.dir=function(e,t){for(var n=[],i=e[t];i&&i!=document;)1==i.nodeType&&n.push(i),i=i[t];return n},bi.nth=function(e,t,n,i){t=t||1;for(var r=0;e&&(1!=e.nodeType||++r!=t);e=e[n]);return e},bi.sibling=function(e,t){for(var n=[];e;e=e.nextSibling)1==e.nodeType&&e!=t&&n.push(e);return n}}(),bi.event={add:function(r,e,o,a){var s,u;3!=r.nodeType&&8!=r.nodeType&&(r.setInterval&&r!=window&&(r=window),o.guid||(o.guid=this.guid++),a!==undefined&&((o=this.proxy(o)).data=a),s=bi.data(r,"events")||bi.data(r,"events",{}),(u=bi.data(r,"handle")||bi.data(r,"handle",function(){return void 0===bi||bi.event.triggered?undefined:bi.event.handle.apply(arguments.callee.elem,arguments)})).elem=r,bi.each(e.split(/\s+/),function(e,t){var n=t.split(".");t=n.shift(),o.type=n.slice().sort().join(".");var i=s[t];bi.event.specialAll[t]&&bi.event.specialAll[t].setup.call(r,a,n),i||(i=s[t]={},bi.event.special[t]&&!1!==bi.event.special[t].setup.call(r,a,n)||(r.addEventListener?r.addEventListener(t,u,!1):r.attachEvent&&r.attachEvent("on"+t,u))),i[o.guid]=o,bi.event.global[t]=!0}),r=null)},guid:1,global:{},remove:function(o,e,a){if(3!=o.nodeType&&8!=o.nodeType){var s,t,u=bi.data(o,"events");if(u){if(e===undefined||"string"==typeof e&&"."==e.charAt(0))for(var n in u)this.remove(o,n+(e||""));else e.type&&(a=e.handler,e=e.type),bi.each(e.split(/\s+/),function(e,t){var n=t.split(".");t=n.shift();var i=RegExp("(^|\\.)"+n.slice().sort().join(".*\\.")+"(\\.|$)");if(u[t]){if(a)delete u[t][a.guid];else for(var r in u[t])i.test(u[t][r].type)&&delete u[t][r];for(s in bi.event.specialAll[t]&&bi.event.specialAll[t].teardown.call(o,n),u[t])break;s||(bi.event.special[t]&&!1!==bi.event.special[t].teardown.call(o,n)||(o.removeEventListener?o.removeEventListener(t,bi.data(o,"handle"),!1):o.detachEvent&&o.detachEvent("on"+t,bi.data(o,"handle"))),s=null,delete u[t])}});for(s in u)break;s||((t=bi.data(o,"handle"))&&(t.elem=null),bi.removeData(o,"events"),bi.removeData(o,"handle"))}}},trigger:function(e,t,n,i){var r=e.type||e;if(!i){if(e="object"==typeof e?e[u]?e:bi.extend(bi.Event(r),e):bi.Event(r),0<=r.indexOf("!")&&(e.type=r=r.slice(0,-1),e.exclusive=!0),n||(e.stopPropagation(),this.global[r]&&bi.each(bi.cache,function(){this.events&&this.events[r]&&bi.event.trigger(e,t,this.handle.elem)})),!n||3==n.nodeType||8==n.nodeType)return undefined;e.result=undefined,e.target=n,(t=bi.makeArray(t)).unshift(e)}e.currentTarget=n;var o,a=bi.data(n,"handle");if(a&&a.apply(n,t),(!n[r]||bi.nodeName(n,"a")&&"click"==r)&&n["on"+r]&&!1===n["on"+r].apply(n,t)&&(e.result=!1),!i&&n[r]&&!e.isDefaultPrevented()&&(!bi.nodeName(n,"a")||"click"!=r)){this.triggered=!0;try{n[r]()}catch(s){}}this.triggered=!1,e.isPropagationStopped()||(o=n.parentNode||n.ownerDocument)&&bi.event.trigger(e,t,o,!0)},handle:function(e){var t;(e=arguments[0]=bi.event.fix(e||window.event)).currentTarget=this;var n=e.type.split(".");e.type=n.shift(),t=!n.length&&!e.exclusive;var i=RegExp("(^|\\.)"+n.slice().sort().join(".*\\.")+"(\\.|$)"),r=(bi.data(this,"events")||{})[e.type];for(var o in r){var a=r[o];if(t||i.test(a.type)){e.handler=a,e.data=a.data;var s=a.apply(this,arguments);if(s!==undefined&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()),e.isImmediatePropagationStopped())break}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[u])return e;var t=e;e=bi.Event(t);for(var n,i,r,o=this.props.length;o;)e[n=this.props[--o]]=t[n];return e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX&&(i=document.documentElement,r=document.body,e.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i.clientTop||0)),!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},proxy:function(e,t){return(t=t||function(){return e.apply(this,arguments)}).guid=e.guid=e.guid||t.guid||this.guid++,t},special:{ready:{setup:v,teardown:function(){}}},specialAll:{live:{setup:function(e,t){bi.event.add(this,t[0],d)},teardown:function(e){var t,n;e.length&&(t=0,n=RegExp("(^|\\.)"+e[0]+"(\\.|$)"),bi.each(bi.data(this,"events").live||{},function(){n.test(this.type)&&t++}),t<1&&bi.event.remove(this,e[0],d))}}}},bi.Event=function(e){if(!this.preventDefault)return new bi.Event(e);e&&e.type?(this.originalEvent=e,this.type=e.type):this.type=e,this.timeStamp=g(),this[u]=!0},bi.Event.prototype={preventDefault:function(){this.isDefaultPrevented=p;var e=this.originalEvent;e&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=p;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i};var h=function(e){for(var t=e.relatedTarget;t&&t!=this;)try{t=t.parentNode}catch(n){t=this}t!=this&&(e.type=e.data,bi.event.handle.apply(this,arguments))};function d(i){var r=RegExp("(^|\\.)"+i.type+"(\\.|$)"),e=!0,o=[];return bi.each(bi.data(this,"events").live||[],function(e,t){var n;!r.test(t.type)||(n=bi(i.target).closest(t.data)[0])&&o.push({elem:n,fn:t})}),o.sort(function(e,t){return bi.data(e.elem,"closest")-bi.data(t.elem,"closest")}),bi.each(o,function(){if(!1===this.fn.call(this.elem,i,this.fn.data))return e=!1}),e}function m(e,t){return["live",e,t.replace(/\./g,"`").replace(/ /g,"|")].join(".")}bi.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(e,t){bi.event.special[t]={setup:function(){bi.event.add(this,e,h,t)},teardown:function(){bi.event.remove(this,e,h)}}}),bi.fn.extend({bind:function(e,t,n){return"unload"==e?this.one(e,t,n):this.each(function(){bi.event.add(this,e,n||t,n&&t)})},one:function(e,t,n){var i=bi.event.proxy(n||t,function(e){return bi(this).unbind(e,i),(n||t).apply(this,arguments)});return this.each(function(){bi.event.add(this,e,i,n&&t)})},unbind:function(e,t){return this.each(function(){bi.event.remove(this,e,t)})},trigger:function(e,t){return this.each(function(){bi.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0]){var n=bi.Event(e);return n.preventDefault(),n.stopPropagation(),bi.event.trigger(n,t,this[0]),n.result}},toggle:function(e){for(var t=arguments,n=1;n<t.length;)bi.event.proxy(e,t[n++]);return this.click(bi.event.proxy(e,function(e){return this.lastToggle=(this.lastToggle||0)%n,e.preventDefault(),t[this.lastToggle++].apply(this,arguments)||!1}))},hover:function(e,t){return this.mouseenter(e).mouseleave(t)},ready:function(e){return v(),bi.isReady?e.call(document,bi):bi.readyList.push(e),this},live:function(e,t){var n=bi.event.proxy(t);return n.guid+=this.selector+e,bi(document).bind(m(e,this.selector),this.selector,n),this},die:function(e,t){return bi(document).unbind(m(e,this.selector),t?{guid:t.guid+this.selector+e}:null),this}}),bi.extend({isReady:!1,readyList:[],ready:function(){bi.isReady||(bi.isReady=!0,bi.readyList&&(bi.each(bi.readyList,function(){this.call(document,bi)}),bi.readyList=null),bi(document).triggerHandler("ready"))}});var y=!1;function v(){y||(y=!0,document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),bi.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),bi.ready())}),document.documentElement.doScroll&&window==window.top&&function(){if(!bi.isReady){try{document.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0)}bi.ready()}}()),bi.event.add(window,"load",bi.ready))}bi.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(e,t){bi.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),bi(window).bind("unload",function(){for(var e in bi.cache)1!=e&&bi.cache[e].handle&&bi.event.remove(bi.cache[e].handle.elem)}),function(){bi.support={};var e=document.documentElement,t=document.createElement("script"),n=document.createElement("div"),i="script"+(new Date).getTime();n.style.display="none",n.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var r=n.getElementsByTagName("*"),o=n.getElementsByTagName("a")[0];if(r&&r.length&&o){bi.support={leadingWhitespace:3==n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,objectAll:!!n.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/red/.test(o.getAttribute("style")),hrefNormalized:"/a"===o.getAttribute("href"),opacity:"0.5"===o.style.opacity,cssFloat:!!o.style.cssFloat,scriptEval:!1,noCloneEvent:!0,boxModel:null},t.type="text/javascript";try{t.appendChild(document.createTextNode("window."+i+"=1;"))}catch(a){}e.insertBefore(t,e.firstChild),window[i]&&(bi.support.scriptEval=!0,delete window[i]),e.removeChild(t),n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){bi.support.noCloneEvent=!1,n.detachEvent("onclick",arguments.callee)}),n.cloneNode(!0).fireEvent("onclick")),bi(function(){var e=document.createElement("div");e.style.width=e.style.paddingLeft="1px",document.body.appendChild(e),bi.boxModel=bi.support.boxModel=2===e.offsetWidth,document.body.removeChild(e).style.display="none"})}}();var w=bi.support.cssFloat?"cssFloat":"styleFloat";bi.props={"for":"htmlFor","class":"className","float":w,cssFloat:w,styleFloat:w,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"},bi.fn.extend({_load:bi.fn.load,load:function(e,t,n){if("string"!=typeof e)return this._load(e);var i,r=e.indexOf(" ");0<=r&&(i=e.slice(r,e.length),e=e.slice(0,r));var o="GET";t&&(bi.isFunction(t)?(n=t,t=null):"object"==typeof t&&(t=bi.param(t),o="POST"));var a=this;return bi.ajax({url:e,type:o,dataType:"html",data:t,complete:function(e,t){"success"!=t&&"notmodified"!=t||a.html(i?bi("<div/>").append(e.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(i):e.responseText),n&&a.each(n,[e.responseText,t,e])}}),this},serialize:function(){return bi.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bi.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(e,n){var t=bi(this).val();return null==t?null:bi.isArray(t)?bi.map(t,function(e,t){return{name:n.name,value:e}}):{name:n.name,value:t}}).get()}}),bi.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(e,t){bi.fn[t]=function(e){return this.bind(t,e)}});var T=g();bi.extend({get:function(e,t,n,i){return bi.isFunction(t)&&(n=t,t=null),bi.ajax({type:"GET",url:e,data:t,success:n,dataType:i})},getScript:function(e,t){return bi.get(e,null,t,"script")},getJSON:function(e,t,n){return bi.get(e,t,n,"json")},post:function(e,t,n,i){return bi.isFunction(t)&&(n=t,t={}),bi.ajax({type:"POST",url:e,data:t,success:n,dataType:i})},ajaxSetup:function(e){bi.extend(bi.ajaxSettings,e)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(n){var i,r,o,e,t,a=/=\?(&|$)/g,s=(n=bi.extend(!0,n,bi.extend(!0,{},bi.ajaxSettings,n))).type.toUpperCase();n.data&&n.processData&&"string"!=typeof n.data&&(n.data=bi.param(n.data)),"jsonp"==n.dataType&&("GET"==s?n.url.match(a)||(n.url+=(n.url.match(/\?/)?"&":"?")+(n.jsonp||"callback")+"=?"):n.data&&n.data.match(a)||(n.data=(n.data?n.data+"&":"")+(n.jsonp||"callback")+"=?"),n.dataType="json"),"json"==n.dataType&&(n.data&&n.data.match(a)||n.url.match(a))&&(i="jsonp"+T++,n.data&&(n.data=(n.data+"").replace(a,"="+i+"$1")),n.url=n.url.replace(a,"="+i+"$1"),n.dataType="script",window[i]=function(e){o=e,y(),v(),window[i]=undefined;try{delete window[i]}catch(t){}c&&c.removeChild(f)}),"script"==n.dataType&&null==n.cache&&(n.cache=!1),!1===n.cache&&"GET"==s&&(e=g(),t=n.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+e+"$2"),n.url=t+(t==n.url?(n.url.match(/\?/)?"&":"?")+"_="+e:"")),n.data&&"GET"==s&&(n.url+=(n.url.match(/\?/)?"&":"?")+n.data,n.data=null),n.global&&!bi.active++&&bi.event.trigger("ajaxStart");var u=/^(\w+:)?\/\/([^\/?#]+)/.exec(n.url);if("script"==n.dataType&&"GET"==s&&u&&(u[1]&&u[1]!=location.protocol||u[2]!=location.host)){var l,c=document.getElementsByTagName("head")[0],f=document.createElement("script");return f.src=n.url,n.scriptCharset&&(f.charset=n.scriptCharset),i||(l=!1,f.onload=f.onreadystatechange=function(){l||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(l=!0,y(),v(),f.onload=f.onreadystatechange=null,c.removeChild(f))}),c.appendChild(f),undefined}var p=!1,h=n.xhr();n.username?h.open(s,n.url,n.async,n.username,n.password):h.open(s,n.url,n.async);try{n.data&&h.setRequestHeader("Content-Type",n.contentType),n.ifModified&&h.setRequestHeader("If-Modified-Since",bi.lastModified[n.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Accept",n.dataType&&n.accepts[n.dataType]?n.accepts[n.dataType]+", */*":n.accepts._default)}catch(w){}if(n.beforeSend&&!1===n.beforeSend(h,n))return n.global&&!--bi.active&&bi.event.trigger("ajaxStop"),h.abort(),!1;n.global&&bi.event.trigger("ajaxSend",[h,n]);var d,m=function(e){if(0==h.readyState)d&&(clearInterval(d),d=null,n.global&&!--bi.active&&bi.event.trigger("ajaxStop"));else if(!p&&h&&(4==h.readyState||"timeout"==e)){if(p=!0,d&&(clearInterval(d),d=null),"success"==(r="timeout"==e?"timeout":bi.httpSuccess(h)?n.ifModified&&bi.httpNotModified(h,n.url)?"notmodified":"success":"error"))try{o=bi.httpData(h,n.dataType,n)}catch(w){r="parsererror"}if("success"==r){var t;try{t=h.getResponseHeader("Last-Modified")}catch(w){}n.ifModified&&t&&(bi.lastModified[n.url]=t),i||y()}else bi.handleError(n,h,r);v(),e&&h.abort(),n.async&&(h=null)}};n.async&&(d=setInterval(m,13),0<n.timeout&&setTimeout(function(){h&&!p&&m("timeout")},n.timeout));try{h.send(n.data)}catch(w){bi.handleError(n,h,null,w)}function y(){n.success&&n.success(o,r),n.global&&bi.event.trigger("ajaxSuccess",[h,n])}function v(){n.complete&&n.complete(h,r),n.global&&bi.event.trigger("ajaxComplete",[h,n]),n.global&&!--bi.active&&bi.event.trigger("ajaxStop")}return n.async||m(),h},handleError:function(e,t,n,i){e.error&&e.error(t,n,i),e.global&&bi.event.trigger("ajaxError",[t,e,i])},active:0,httpSuccess:function(e){try{return!e.status&&"file:"==location.protocol||200<=e.status&&e.status<300||304==e.status||1223==e.status}catch(t){}return!1},httpNotModified:function(e,t){try{var n=e.getResponseHeader("Last-Modified");return 304==e.status||n==bi.lastModified[t]}catch(i){}return!1},httpData:function(e,t,n){var i=e.getResponseHeader("content-type"),r="xml"==t||!t&&i&&0<=i.indexOf("xml"),o=r?e.responseXML:e.responseText;if(r&&"parsererror"==o.documentElement.tagName)throw"parsererror";return n&&n.dataFilter&&(o=n.dataFilter(o,t)),"string"==typeof o&&("script"==t&&bi.globalEval(o),"json"==t&&(o=window.eval("("+o+")"))),o},param:function(e){var n=[];function t(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}if(bi.isArray(e)||e.jquery)bi.each(e,function(){t(this.name,this.value)});else for(var i in e)bi.isArray(e[i])?bi.each(e[i],function(){t(i,this)}):t(i,bi.isFunction(e[i])?e[i]():e[i]);return n.join("&").replace(/%20/g,"+")}});var x,b={},N=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function I(e,t){var n={};return bi.each(N.concat.apply([],N.slice(0,t)),function(){n[this]=e}),n}bi.fn.extend({show:function(e,t){if(e)return this.animate(I("show",3),e,t);for(var n=0,i=this.length;n<i;n++){var r,o,a,s=bi.data(this[n],"olddisplay");this[n].style.display=s||"","none"===bi.css(this[n],"display")&&(r=this[n].tagName,b[r]?a=b[r]:("none"===(a=(o=bi("<"+r+" />").appendTo("body")).css("display"))&&(a="block"),o.remove(),b[r]=a),bi.data(this[n],"olddisplay",a))}for(n=0,i=this.length;n<i;n++)this[n].style.display=bi.data(this[n],"olddisplay")||"";return this},hide:function(e,t){if(e)return this.animate(I("hide",3),e,t);for(var n=0,i=this.length;n<i;n++){var r=bi.data(this[n],"olddisplay");r||"none"===r||bi.data(this[n],"olddisplay",bi.css(this[n],"display"))}for(n=0,i=this.length;n<i;n++)this[n].style.display="none";return this},_toggle:bi.fn.toggle,toggle:function(t,e){var n="boolean"==typeof t;return bi.isFunction(t)&&bi.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:bi(this).is(":hidden");bi(this)[e?"show":"hide"]()}):this.animate(I("toggle",3),t,e)},fadeTo:function(e,t,n){return this.animate({opacity:t},e,n)},animate:function(c,e,t,n){var i=bi.speed(e,t,n);return this[!1===i.queue?"each":"queue"](function(){var e,s=bi.extend({},i),u=1==this.nodeType&&bi(this).is(":hidden"),l=this;for(e in c){if("hide"==c[e]&&u||"show"==c[e]&&!u)return s.complete.call(this);"height"!=e&&"width"!=e||!this.style||(s.display=bi.css(this,"display"),s.overflow=this.style.overflow)}return null!=s.overflow&&(this.style.overflow="hidden"),s.curAnim=bi.extend({},c),bi.each(c,function(e,t){var n,i,r,o,a=new bi.fx(l,s,e);/toggle|show|hide/.test(t)?a["toggle"==t?u?"show":"hide":t](c):(n=t.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),i=a.cur(!0)||0,n?(r=parseFloat(n[2]),"px"!=(o=n[3]||"px")&&(l.style[e]=(r||1)+o,i=(r||1)/a.cur(!0)*i,l.style[e]=i+o),n[1]&&(r=("-="==n[1]?-1:1)*r+i),a.custom(i,r,o)):a.custom(i,t,""))}),!0})},stop:function(e,t){var n=bi.timers;return e&&this.queue([]),this.each(function(){for(var e=n.length-1;0<=e;e--)n[e].elem==this&&(t&&n[e](!0),n.splice(e,1))}),t||this.dequeue(),this}}),bi.each({slideDown:I("show",1),slideUp:I("hide",1),slideToggle:I("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(e,n){bi.fn[e]=function(e,t){return this.animate(n,e,t)}}),bi.extend({speed:function(e,t,n){var i="object"==typeof e?e:{complete:n||!n&&t||bi.isFunction(e)&&e,duration:e,easing:n&&t||t&&!bi.isFunction(t)&&t};return i.duration=bi.fx.off?0:"number"==typeof i.duration?i.duration:bi.fx.speeds[i.duration]||bi.fx.speeds._default,i.old=i.complete,i.complete=function(){!1!==i.queue&&bi(this).dequeue(),bi.isFunction(i.old)&&i.old.call(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig||(t.orig={})}}),bi.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(bi.fx.step[this.prop]||bi.fx.step._default)(this),"height"!=this.prop&&"width"!=this.prop||!this.elem.style||(this.elem.style.display="block")},cur:function(e){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t=parseFloat(bi.css(this.elem,this.prop,e));return t&&-1e4<t?t:parseFloat(bi.curCSS(this.elem,this.prop))||0},custom:function(e,t,n){this.startTime=g(),this.start=e,this.end=t,this.unit=n||this.unit||"px",this.now=this.start,this.pos=this.state=0;var i=this;function r(e){return i.step(e)}r.elem=this.elem,r()&&bi.timers.push(r)&&!x&&(x=setInterval(function(){for(var e=bi.timers,t=0;t<e.length;t++)e[t]()||e.splice(t--,1);e.length||(clearInterval(x),x=undefined)},13))},show:function(){this.options.orig[this.prop]=bi.attr(this.elem.style,this.prop),this.options.show=!0,this.custom("width"==this.prop||"height"==this.prop?1:0,this.cur()),bi(this.elem).show()},hide:function(){this.options.orig[this.prop]=bi.attr(this.elem.style,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t=g();if(e||t>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update();var n=this.options.curAnim[this.prop]=!0;for(var i in this.options.curAnim)!0!==this.options.curAnim[i]&&(n=!1);if(n){if(null!=this.options.display&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,"none"==bi.css(this.elem,"display")&&(this.elem.style.display="block")),this.options.hide&&bi(this.elem).hide(),this.options.hide||this.options.show)for(var r in this.options.curAnim)bi.attr(this.elem.style,r,this.options.orig[r]);this.options.complete.call(this.elem)}return!1}var o=t-this.startTime;return this.state=o/this.options.duration,this.pos=bi.easing[this.options.easing||(bi.easing.swing?"swing":"linear")](this.state,o,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},bi.extend(bi.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){bi.attr(e.elem.style,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),document.documentElement.getBoundingClientRect?bi.fn.offset=function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return bi.offset.bodyOffset(this[0]);var e=this[0].getBoundingClientRect(),t=this[0].ownerDocument,n=t.body,i=t.documentElement,r=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0;return{top:e.top+(self.pageYOffset||bi.boxModel&&i.scrollTop||n.scrollTop)-r,left:e.left+(self.pageXOffset||bi.boxModel&&i.scrollLeft||n.scrollLeft)-o}}:bi.fn.offset=function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return bi.offset.bodyOffset(this[0]);bi.offset.initialized||bi.offset.initialize();for(var e,t=this[0],n=t.offsetParent,i=t.ownerDocument,r=i.documentElement,o=i.body,a=i.defaultView,s=a.getComputedStyle(t,null),u=t.offsetTop,l=t.offsetLeft;(t=t.parentNode)&&t!==o&&t!==r;)e=a.getComputedStyle(t,null),u-=t.scrollTop,l-=t.scrollLeft,t===n&&(u+=t.offsetTop,l+=t.offsetLeft,!bi.offset.doesNotAddBorder||bi.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(t.tagName)||(u+=parseInt(e.borderTopWidth,10)||0,l+=parseInt(e.borderLeftWidth,10)||0),n=t.offsetParent),bi.offset.subtractsBorderForOverflowNotVisible&&"visible"!==e.overflow&&(u+=parseInt(e.borderTopWidth,10)||0,l+=parseInt(e.borderLeftWidth,10)||0),s=e;return"relative"!==s.position&&"static"!==s.position||(u+=o.offsetTop,l+=o.offsetLeft),"fixed"===s.position&&(u+=Math.max(r.scrollTop,o.scrollTop),l+=Math.max(r.scrollLeft,o.scrollLeft)),{top:u,left:l}},bi.offset={initialize:function(){if(!this.initialized){var e,t,n,i,r=document.body,o=document.createElement("div"),a=r.style.marginTop,s={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(i in s)o.style[i]=s[i];o.innerHTML='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>',r.insertBefore(o,r.firstChild),t=(e=o.firstChild).firstChild,n=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==t.offsetTop,this.doesAddBorderForTableAndCells=5===n.offsetTop,e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===t.offsetTop,r.style.marginTop="1px",this.doesNotIncludeMarginInBodyOffset=0===r.offsetTop,r.style.marginTop=a,r.removeChild(o),this.initialized=!0}},bodyOffset:function(e){bi.offset.initialized||bi.offset.initialize();var t=e.offsetTop,n=e.offsetLeft;return bi.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseInt(bi.curCSS(e,"marginTop",!0),10)||0,n+=parseInt(bi.curCSS(e,"marginLeft",!0),10)||0),{top:t,left:n}}},bi.fn.extend({position:function(){var e,t,n,i;return this[0]&&(t=this.offsetParent(),n=this.offset(),i=/^body|html$/i.test(t[0].tagName)?{top:0,left:0}:t.offset(),n.top-=r(this,"marginTop"),n.left-=r(this,"marginLeft"),i.top+=r(t,"borderTopWidth"),i.left+=r(t,"borderLeftWidth"),e={top:n.top-i.top,left:n.left-i.left}),e},offsetParent:function(){for(var e=this[0].offsetParent||document.body;e&&!/^body|html$/i.test(e.tagName)&&"static"==bi.css(e,"position");)e=e.offsetParent;return bi(e)}}),bi.each(["Left","Top"],function(t,e){var n="scroll"+e;bi.fn[n]=function(e){return this[0]?e!==undefined?this.each(function(){this==window||this==document?window.scrollTo(t?bi(window).scrollLeft():e,t?e:bi(window).scrollTop()):this[n]=e}):this[0]==window||this[0]==document?self[t?"pageYOffset":"pageXOffset"]||bi.boxModel&&document.documentElement[n]||document.body[n]:this[0][n]:null}}),bi.each(["Height","Width"],function(e,t){var n=t.toLowerCase();bi.fn["inner"+t]=function(){return this[0]?bi.css(this[0],n,!1,"padding"):null},bi.fn["outer"+t]=function(e){return this[0]?bi.css(this[0],n,!1,e?"margin":"border"):null};var i=t.toLowerCase();bi.fn[i]=function(e){return this[0]==window?"CSS1Compat"==document.compatMode&&document.documentElement["client"+t]||document.body["client"+t]:this[0]==document?Math.max(document.documentElement["client"+t],document.body["scroll"+t],document.documentElement["scroll"+t],document.body["offset"+t],document.documentElement["offset"+t]):e===undefined?this.length?bi.css(this[0],i):null:this.css(i,"string"==typeof e?e:e+"px")}}),function(){var p=window.String,a=(window.Boolean,window.Number),u=(window.Object,window.Array),y=window.RegExp,s=window.Date,r=window.Function,m=window.Math,e=window.Error,o=(window.SyntaxError,window.TypeError,window.isNaN),t=window.isFinite,i=window.NaN,l=window.Infinity,c=window.btoa,f=window.atob,h=window.parseInt,d=p.prototype.trim?function(e){return p(e).trim()}:function(e){return p(e).replace(/^\s+|\s+$/g,"")},v=u.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},w="http://www.w3.org/2001/XMLSchema",g="http://www.w3.org/2005/xpath-functions";function T(e,t){this.code=e,this.message=t||n[e]}T.prototype=new e;var n={};function x(e){var t=e.match(/\$?(?:(?![0-9-])(?:[\w-]+|\*):)?(?![0-9-])(?:[\w-]+|\*)|\(:|:\)|\/\/|\.\.|::|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|"[^"]*(?:""[^"]*)*"|'[^']*(?:''[^']*)*'|<<|>>|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g);if(t){for(var n=0,i=0,r=t.length;i<r;i++)"(:"==t[i]?n++:":)"==t[i]&&n?n--:n||/^\s/.test(t[i])||(this[this.length++]=t[i]);if(n)throw new T("XPST0003","Unclosed comment")}}function b(){}function N(e,t,n,i){this.staticContext=e,this.item=t,this.scope=n||{},this.stack={},this.DOMAdapter=i||new b;var r=new s,o=r.getTimezoneOffset();this.dateTime=new gt(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()+r.getMilliseconds()/1e3,-o),this.timezone=new an(0,m.abs(~~(o/60)),m.abs(o%60),0,0<o)}function I(){this.dataTypes={},this.documents={},this.functions={},this.collations={},this.collections={}}n.XPDY0002="Evaluation of an expression relies on some part of the dynamic context that has not been assigned a value.",n.XPST0003="Expression is not a valid instance of the grammar",n.XPTY0004="Type is not appropriate for the context in which the expression occurs",n.XPST0008="Expression refers to an element name, attribute name, schema type name, namespace prefix, or variable name that is not defined in the static context",n.XPST0010="Axis not supported",n.XPST0017="Expanded QName and number of arguments in a function call do not match the name and arity of a function signature",n.XPTY0018="The result of the last step in a path expression contains both nodes and atomic values",n.XPTY0019="The result of a step (other than the last step) in a path expression contains an atomic value.",n.XPTY0020="In an axis step, the context item is not a node.",n.XPST0051="It is a static error if a QName that is used as an AtomicType in a SequenceType is not defined in the in-scope schema types as an atomic type.",n.XPST0081="A QName used in an expression contains a namespace prefix that cannot be expanded into a namespace URI by using the statically known namespaces.",n.FORG0001="Invalid value for cast/constructor.",n.FORG0003="fn:zero-or-one called with a sequence containing more than one item.",n.FORG0004="fn:one-or-more called with a sequence containing no items.",n.FORG0005="fn:exactly-one called with a sequence containing zero or more than one item.",n.FORG0006="Invalid argument type.",n.FODC0001="No context document.",n.FORX0001="Invalid regular expression flags.",n.FOCA0002="Invalid lexical value.",n.FOCH0002="Unsupported collation.",n.FONS0004="No namespace found for prefix.",x.prototype.index=0,x.prototype.length=0,x.prototype.reset=function(){this.index=0},x.prototype.peek=function(e){return this[this.index+(e||0)]||""},x.prototype.next=function(e){return(this.index+=e||1)<this.length},x.prototype.back=function(e){return 0<(this.index-=e||1)},x.prototype.eof=function(){return this.index>=this.length},b.prototype.isNode=function(e){return e&&!!e.nodeType},b.prototype.getProperty=function(e,t){return e[t]},b.prototype.isSameNode=function(e,t){return e==t},b.prototype.compareDocumentPosition=function(e,t){return e.compareDocumentPosition(t)},b.prototype.lookupNamespaceURI=function(e,t){return e.lookupNamespaceURI(t)},b.prototype.getElementById=function(e,t){return e.getElementById(t)},b.prototype.getElementsByTagNameNS=function(e,t,n){return e.getElementsByTagNameNS(t,n)},N.prototype.item=null,N.prototype.position=0,N.prototype.size=0,N.prototype.scope=null,N.prototype.stack=null,N.prototype.dateTime=null,N.prototype.timezone=null,N.prototype.staticContext=null,N.prototype.pushVariable=function(e,t){this.stack.hasOwnProperty(e)||(this.stack[e]=[]),this.stack[e].push(this.scope[e]),this.scope[e]=t},N.prototype.popVariable=function(e){this.stack.hasOwnProperty(e)&&(this.scope[e]=this.stack[e].pop(),this.stack[e].length||(delete this.stack[e],"undefined"==typeof this.scope[e]&&delete this.scope[e]))},I.prototype.baseURI=null,I.prototype.dataTypes=null,I.prototype.documents=null,I.prototype.functions=null,I.prototype.defaultFunctionNamespace=null,I.prototype.collations=null,I.prototype.defaultCollationName=g+"/collation/codepoint",I.prototype.collections=null,I.prototype.namespaceResolver=null,I.prototype.defaultElementNamespace=null;var E=/^(?:\{([^\}]+)\})?(.+)$/;I.prototype.setDataType=function(e,t){var n=e.match(E);n&&n[1]!=w&&(this.dataTypes[e]=t)},I.prototype.getDataType=function(e){var t=e.match(E);if(t)return t[1]==w?S[y.$2]:this.dataTypes[e]},I.prototype.setDocument=function(e,t){this.documents[e]=t},I.prototype.setFunction=function(e,t){var n=e.match(E);n&&n[1]!=g&&(this.functions[e]=t)},I.prototype.getFunction=function(e){var t=e.match(E);if(t)return t[1]==g?D[y.$2]:this.functions[e]},I.prototype.setCollation=function(e,t){this.collations[e]=t},I.prototype.getCollation=function(e){return this.collations[e]},I.prototype.setCollection=function(e,t){this.collections[e]=t},I.prototype.getURIForPrefix=function(e){var t,n=this.namespaceResolver,i=n&&n.lookupNamespaceURI?n.lookupNamespaceURI:n;if(i instanceof r&&(t=i.call(n,e)))return t;if("fn"==e)return g;if("xs"==e)return w;if("xml"==e)return"http://www.w3.org/XML/1998/namespace";if("xmlns"==e)return"http://www.w3.org/2000/xmlns/";throw new T("XPST0081","Prefix '"+e+"' has not been declared")},I.js2xs=function(e){return e="boolean"==typeof e?new pt(e):"number"==typeof e?o(e)||!t(e)?new St(e):Pe(p(e)):new Qt(p(e))},I.xs2js=function(e){return e=e instanceof pt||st(e)?e.valueOf():e.toString()};var D={},O={},S={},A={};function P(e,t,n){D[e]=n,O[e]=t}function R(e,t){S[e]=t}function M(e,t){var n=new x(e),i=F(n,t);if(!n.eof())throw new T("XPST0003","Unexpected token beyond end of query");if(!i)throw new T("XPST0003","Expected expression");this.internalExpression=i}function C(){}function k(){}function X(){this.items=[]}function F(e,t){var n;if(!e.eof()&&(n=_(e,t))){var i=new X;for(i.items.push(n);","==e.peek();){if(e.next(),e.eof()||!(n=_(e,t)))throw new T("XPST0003","Expected expression");i.items.push(n)}return i}}function _(e,t){if(!e.eof())return function(e,t){var n,i,r;if("if"==e.peek()&&"("==e.peek(1)){if(e.next(2),e.eof()||!(n=F(e,t)))throw new T("XPST0003","Expected if statement operand in conditional expression");if(")"!=e.peek())throw new T("XPST0003","Expected ')' token in for expression");if(e.next(),"then"!=e.peek())throw new T("XPST0003","Expected 'then' token in conditional if expression");if(e.next(),e.eof()||!(i=_(e,t)))throw new T("XPST0003","Expected then statement operand in condional expression");if("else"!=e.peek())throw new T("XPST0003","Expected 'else' token in conditional if expression");if(e.next(),e.eof()||!(r=_(e,t)))throw new T("XPST0003","Expected else statement operand in condional expression");return new U(n,i,r)}}(e,t)||function(e,t){if("for"==e.peek()&&"$"==e.peek(1).substr(0,1)){e.next();for(var n,i=new z;i.bindings.push(function(e,t){var n,i=e.peek().substr(1).match(Ie);if(!i)throw new T("XPST0003","Expected binding in for expression");if("*"==i[1]||"*"==i[2])throw new T("XPST0003","Illegal use of wildcard in for expression binding variable name");if(e.next(),"in"!=e.peek())throw new T("XPST0003","Expected 'in' token in for expression binding");if(e.next(),e.eof()||!(n=_(e,t)))throw new T("XPST0003","Expected in statement operand in for expression binding");return new Y(i[1]||null,i[2],i[1]?t.getURIForPrefix(i[1]):null,n)}(e,t)),","==e.peek()&&e.next(););if("return"!=e.peek())throw new T("XPST0003","Expected 'return' token in for expression");if(e.next(),e.eof()||!(n=_(e,t)))throw new T("XPST0003","Expected return statement operand in for expression");return i.returnExpr=n,i}}(e,t)||function(e,t){var n=e.peek();if(("some"==n||"every"==n)&&"$"==e.peek(1).substr(0,1)){e.next();for(var i,r=new q(n);r.bindings.push(function(e,t){var n,i=e.peek().substr(1).match(Ie);if(!i)throw new T("XPST0003","Expected binding in quantified expression");if("*"==i[1]||"*"==i[2])throw new T("XPST0003","Illegal use of wildcard in quantified expression binding variable name");if(e.next(),"in"!=e.peek())throw new T("XPST0003","Expected 'in' token in quantified expression binding");if(e.next(),e.eof()||!(n=_(e,t)))throw new T("XPST0003","Expected in statement operand in quantified expression binding");return new L(i[1]||null,i[2],i[1]?t.getURIForPrefix(i[1]):null,n)}(e,t)),","==e.peek()&&e.next(););if("satisfies"!=e.peek())throw new T("XPST0003","Expected 'satisfies' token in quantified expression");if(e.next(),e.eof()||!(i=_(e,t)))throw new T("XPST0003","Expected satisfies statement operand in quantified expression");return r.satisfiesExpr=i,r}}(e,t)||function(e,t){var n;if(e.eof()||!(n=le(e,t)))return;if("or"!=e.peek())return n;var i=new se(n);for(;"or"==e.peek();){if(e.next(),e.eof()||!(n=le(e,t)))throw new T("XPST0003","Expected second operand in logical expression");i.items.push(n)}return i}(e,t)}function z(){this.bindings=[],this.returnExpr=null}function Y(e,t,n,i){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=i}function U(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}function q(e){this.quantifier=e,this.bindings=[],this.satisfiesExpr=null}function L(e,t,n,i){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=i}function G(e,t,n){this.left=e,this.right=t,this.operator=n}function B(e,t){var n,i;if(!e.eof()&&(n=Ge(e,t))){if(!(e.peek()in Q))return n;var r=e.peek();if(e.next(),e.eof()||!(i=Ge(e,t)))throw new T("XPST0003","Expected second operand in comparison expression");return new G(n,i,r)}}function j(e,t){var n=ni(e.left.evaluate(t),t);if(!n.length)return new pt(!1);var i=ni(e.right.evaluate(t),t);if(!i.length)return new pt(!1);for(var r,o,a=!1,s=0,u=n.length;s<u&&!a;s++)for(var l,c,f=0,p=i.length;f<p&&!a;f++)o=n[s],l=(c=i[f])instanceof tn,(r=o instanceof tn)&&l?(o=Qt.cast(o),c=Qt.cast(c)):(r?c instanceof an?o=an.cast(o):c instanceof nn?o=nn.cast(o):c.primitiveKind&&(o=S[c.primitiveKind].cast(o)):l&&(o instanceof an?c=an.cast(c):o instanceof nn?c=nn.cast(c):o.primitiveKind&&(c=S[o.primitiveKind].cast(c))),o instanceof ut&&(o=Qt.cast(o)),c instanceof ut&&(c=Qt.cast(c))),a=H[K[e.operator]](o,c,t).valueOf();return new pt(a)}M.prototype.internalExpression=null,M.prototype.evaluate=function(e){return this.internalExpression.evaluate(e)},C.prototype.equals=function(e,t){throw"Not implemented"},C.prototype.compare=function(e,t){throw"Not implemented"},k.ANYSIMPLETYPE_DT=1,k.STRING_DT=2,k.BOOLEAN_DT=3,k.DECIMAL_DT=4,k.FLOAT_DT=5,k.DOUBLE_DT=6,k.DURATION_DT=7,k.DATETIME_DT=8,k.TIME_DT=9,k.DATE_DT=10,k.GYEARMONTH_DT=11,k.GYEAR_DT=12,k.GMONTHDAY_DT=13,k.GDAY_DT=14,k.GMONTH_DT=15,k.HEXBINARY_DT=16,k.BASE64BINARY_DT=17,k.ANYURI_DT=18,k.QNAME_DT=19,k.NOTATION_DT=20,k.NORMALIZEDSTRING_DT=21,k.TOKEN_DT=22,k.LANGUAGE_DT=23,k.NMTOKEN_DT=24,k.NAME_DT=25,k.NCNAME_DT=26,k.ID_DT=27,k.IDREF_DT=28,k.ENTITY_DT=29,k.INTEGER_DT=30,k.NONPOSITIVEINTEGER_DT=31,k.NEGATIVEINTEGER_DT=32,k.LONG_DT=33,k.INT_DT=34,k.SHORT_DT=35,k.BYTE_DT=36,k.NONNEGATIVEINTEGER_DT=37,k.UNSIGNEDLONG_DT=38,k.UNSIGNEDINT_DT=39,k.UNSIGNEDSHORT_DT=40,k.UNSIGNEDBYTE_DT=41,k.POSITIVEINTEGER_DT=42,k.LISTOFUNION_DT=43,k.LIST_DT=44,k.UNAVAILABLE_DT=45,k.DATETIMESTAMP_DT=46,k.DAYMONTHDURATION_DT=47,k.DAYTIMEDURATION_DT=48,k.PRECISIONDECIMAL_DT=49,k.ANYATOMICTYPE_DT=50,k.ANYTYPE_DT=51,k.XT_YEARMONTHDURATION_DT=-1,k.XT_UNTYPEDATOMIC_DT=-2,X.prototype.items=null,X.prototype.evaluate=function(e){for(var t=[],n=0,i=this.items.length;n<i;n++)t=A.concatenate.call(e,t,this.items[n].evaluate(e));return t},z.prototype.bindings=null,z.prototype.returnExpr=null,z.prototype.evaluate=function(s){var u=[];return function(e,t){for(var n=e.bindings[t++],i=n.inExpr.evaluate(s),r=(n.namespaceURI?"{"+n.namespaceURI+"}":"")+n.localName,o=0,a=i.length;o<a;o++)s.pushVariable(r,i[o]),t<e.bindings.length?arguments.callee(e,t):u=u.concat(e.returnExpr.evaluate(s)),s.popVariable(r)}(this,0),u},Y.prototype.prefix=null,Y.prototype.localName=null,Y.prototype.namespaceURI=null,U.prototype.condExpr=Y.prototype.inExpr=null,U.prototype.thenExpr=null,U.prototype.elseExpr=null,U.prototype.evaluate=function(e){return this[ti(this.condExpr.evaluate(e),e)?"thenExpr":"elseExpr"].evaluate(e)},q.prototype.bindings=null,q.prototype.quantifier=null,q.prototype.satisfiesExpr=null,q.prototype.evaluate=function(s){var u="every"==this.quantifier,l=u;return function(e,t){for(var n=e.bindings[t++],i=n.inExpr.evaluate(s),r=(n.namespaceURI?"{"+n.namespaceURI+"}":"")+n.localName,o=0,a=i.length;o<a&&(u?l:!l);o++)s.pushVariable(r,i[o]),t<e.bindings.length?arguments.callee(e,t):l=ti(e.satisfiesExpr.evaluate(s),s),s.popVariable(r)}(this,0),[new pt(l)]},L.prototype.prefix=null,L.prototype.localName=null,L.prototype.namespaceURI=null,G.prototype.left=L.prototype.inExpr=null,G.prototype.right=null,G.prototype.operator=null,G.prototype.evaluate=function(e){var t=Q[this.operator](this,e);return null==t?[]:[t]};var K={"=":"eq","!=":"ne",">":"gt","<":"lt",">=":"ge","<=":"le"};function V(e,t){var n=ni(e.left.evaluate(t),t);if(!n.length)return null;Ye(0,n,"?","first operand of '"+e.operator+"'");var i=ni(e.right.evaluate(t),t);if(!i.length)return null;Ye(0,i,"?","second operand of '"+e.operator+"'");var r=n[0],o=i[0];return r instanceof tn&&(r=Qt.cast(r)),o instanceof tn&&(o=Qt.cast(o)),r instanceof ut&&(r=Qt.cast(r)),o instanceof ut&&(o=Qt.cast(o)),H[e.operator](r,o,t)}var H={};function $(e,t){var n=e.left.evaluate(t);if(!n.length)return null;Ye(0,n,"?","first operand of '"+e.operator+"'"),ze(t,n,Mn,"first operand of '"+e.operator+"'");var i=e.right.evaluate(t);return i.length?(Ye(0,i,"?","second operand of '"+e.operator+"'"),ze(t,i,Mn,"second operand of '"+e.operator+"'"),Z[e.operator](n[0],i[0],t)):null}H.eq=function(e,t,n){var i="";if(st(e))st(t)&&(i="numeric-equal");else if(e instanceof pt)t instanceof pt&&(i="boolean-equal");else if(e instanceof Qt){if(t instanceof Qt)return A["numeric-equal"].call(n,D.compare.call(n,e,t),new ln(0))}else e instanceof dt?t instanceof dt&&(i="date-equal"):e instanceof Wt?t instanceof Wt&&(i="time-equal"):e instanceof gt?t instanceof gt&&(i="dateTime-equal"):e instanceof Pt?t instanceof Pt&&(i="duration-equal"):e instanceof Bt?t instanceof Bt&&(i="gYearMonth-equal"):e instanceof Lt?t instanceof Lt&&(i="gYear-equal"):e instanceof Ut?t instanceof Ut&&(i="gMonthDay-equal"):e instanceof zt?t instanceof zt&&(i="gMonth-equal"):e instanceof Ft?t instanceof Ft&&(i="gDay-equal"):e instanceof $t?t instanceof $t&&(i="QName-equal"):e instanceof Kt?t instanceof Kt&&(i="hexBinary-equal"):e instanceof ct&&t instanceof ct&&(i="base64Binary-equal");if(i)return A[i].call(n,e,t);throw new T("XPTY0004","Cannot compare values of given types")},H.ne=function(e,t,n){return new pt(!H.eq(e,t,n).valueOf())},H.gt=function(e,t,n){var i="";if(st(e))st(t)&&(i="numeric-greater-than");else if(e instanceof pt)t instanceof pt&&(i="boolean-greater-than");else if(e instanceof Qt){if(t instanceof Qt)return A["numeric-greater-than"].call(n,D.compare.call(n,e,t),new ln(0))}else e instanceof dt?t instanceof dt&&(i="date-greater-than"):e instanceof Wt?t instanceof Wt&&(i="time-greater-than"):e instanceof gt?t instanceof gt&&(i="dateTime-greater-than"):e instanceof nn?t instanceof nn&&(i="yearMonthDuration-greater-than"):e instanceof an&&t instanceof an&&(i="dayTimeDuration-greater-than");if(i)return A[i].call(n,e,t);throw new T("XPTY0004","Cannot compare values of given types")},H.lt=function(e,t,n){var i="";if(st(e))st(t)&&(i="numeric-less-than");else if(e instanceof pt)t instanceof pt&&(i="boolean-less-than");else if(e instanceof Qt){if(t instanceof Qt)return A["numeric-less-than"].call(n,D.compare.call(n,e,t),new ln(0))}else e instanceof dt?t instanceof dt&&(i="date-less-than"):e instanceof Wt?t instanceof Wt&&(i="time-less-than"):e instanceof gt?t instanceof gt&&(i="dateTime-less-than"):e instanceof nn?t instanceof nn&&(i="yearMonthDuration-less-than"):e instanceof an&&t instanceof an&&(i="dayTimeDuration-less-than");if(i)return A[i].call(n,e,t);throw new T("XPTY0004","Cannot compare values of given types")},H.ge=function(e,t,n){var i="";if(st(e))st(t)&&(i="numeric-less-than");else if(e instanceof pt)t instanceof pt&&(i="boolean-less-than");else if(e instanceof Qt){if(t instanceof Qt)return A["numeric-greater-than"].call(n,D.compare.call(n,e,t),new ln(-1))}else e instanceof dt?t instanceof dt&&(i="date-less-than"):e instanceof Wt?t instanceof Wt&&(i="time-less-than"):e instanceof gt?t instanceof gt&&(i="dateTime-less-than"):e instanceof nn?t instanceof nn&&(i="yearMonthDuration-less-than"):e instanceof an&&t instanceof an&&(i="dayTimeDuration-less-than");if(i)return new pt(!A[i].call(n,e,t).valueOf());throw new T("XPTY0004","Cannot compare values of given types")},H.le=function(e,t,n){var i="";if(st(e))st(t)&&(i="numeric-greater-than");else if(e instanceof pt)t instanceof pt&&(i="boolean-greater-than");else if(e instanceof Qt){if(t instanceof Qt)return A["numeric-less-than"].call(n,D.compare.call(n,e,t),new ln(1))}else e instanceof dt?t instanceof dt&&(i="date-greater-than"):e instanceof Wt?t instanceof Wt&&(i="time-greater-than"):e instanceof gt?t instanceof gt&&(i="dateTime-greater-than"):e instanceof nn?t instanceof nn&&(i="yearMonthDuration-greater-than"):e instanceof an&&t instanceof an&&(i="dayTimeDuration-greater-than");if(i)return new pt(!A[i].call(n,e,t).valueOf());throw new T("XPTY0004","Cannot compare values of given types")};var Z={is:function(e,t,n){return A["is-same-node"].call(n,e,t)},">>":function(e,t,n){return A["node-after"].call(n,e,t)},"<<":function(e,t,n){return A["node-before"].call(n,e,t)}},Q={"=":j,"!=":j,"<":j,"<=":j,">":j,">=":j,eq:V,ne:V,lt:V,le:V,gt:V,ge:V,is:$,">>":$,"<<":$};function W(e){this.left=e,this.items=[]}W.prototype.left=null,W.prototype.items=null;var J={};function ee(e,t){var n;if(!e.eof()&&(n=ie(e,t))){if(!(e.peek()in J))return n;for(var i,r=new W(n);(i=e.peek())in J;){if(e.next(),e.eof()||!(n=ie(e,t)))throw new T("XPST0003","Expected second operand in additive expression");r.items.push([i,n])}return r}}function te(e){this.left=e,this.items=[]}J["+"]=function(e,t,n){var i="",r=!1;if(st(e)?st(t)&&(i="numeric-add"):e instanceof dt?t instanceof nn?i="add-yearMonthDuration-to-date":t instanceof an&&(i="add-dayTimeDuration-to-date"):e instanceof nn?t instanceof dt?(i="add-yearMonthDuration-to-date",r=!0):t instanceof gt?(i="add-yearMonthDuration-to-dateTime",r=!0):t instanceof nn&&(i="add-yearMonthDurations"):e instanceof an?t instanceof dt?(i="add-dayTimeDuration-to-date",r=!0):t instanceof Wt?(i="add-dayTimeDuration-to-time",r=!0):t instanceof gt?(i="add-dayTimeDuration-to-dateTime",r=!0):t instanceof an&&(i="add-dayTimeDurations"):e instanceof Wt?t instanceof an&&(i="add-dayTimeDuration-to-time"):e instanceof gt&&(t instanceof nn?i="add-yearMonthDuration-to-dateTime":t instanceof an&&(i="add-dayTimeDuration-to-dateTime")),i)return A[i].call(n,r?t:e,r?e:t);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},J["-"]=function(e,t,n){var i="";if(st(e)?st(t)&&(i="numeric-subtract"):e instanceof dt?t instanceof dt?i="subtract-dates":t instanceof nn?i="subtract-yearMonthDuration-from-date":t instanceof an&&(i="subtract-dayTimeDuration-from-date"):e instanceof Wt?t instanceof Wt?i="subtract-times":t instanceof an&&(i="subtract-dayTimeDuration-from-time"):e instanceof gt?t instanceof gt?i="subtract-dateTimes":t instanceof nn?i="subtract-yearMonthDuration-from-dateTime":t instanceof an&&(i="subtract-dayTimeDuration-from-dateTime"):e instanceof nn?t instanceof nn&&(i="subtract-yearMonthDurations"):e instanceof an&&t instanceof an&&(i="subtract-dayTimeDurations"),i)return A[i].call(n,e,t);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},W.prototype.evaluate=function(e){var t=ni(this.left.evaluate(e),e);if(!t.length)return[];Ye(0,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof tn&&(n=St.cast(n));for(var i,r,o=0,a=this.items.length;o<a;o++){if(!(i=ni(this.items[o][1].evaluate(e),e)).length)return[];Ye(0,i,"?","first operand of '"+this.items[o][0]+"'"),(r=i[0])instanceof tn&&(r=St.cast(r)),n=J[this.items[o][0]](n,r,e)}return[n]},te.prototype.left=null,te.prototype.items=null;var ne={};function ie(e,t){var n;if(!e.eof()&&(n=je(e,t))){if(!(e.peek()in ne))return n;for(var i,r=new te(n);(i=e.peek())in ne;){if(e.next(),e.eof()||!(n=je(e,t)))throw new T("XPST0003","Expected second operand in multiplicative expression");r.items.push([i,n])}return r}}function re(e,t){this.operator=e,this.expression=t}ne["*"]=function(e,t,n){var i="",r=!1;if(st(e)?st(t)?i="numeric-multiply":t instanceof nn?(i="multiply-yearMonthDuration",r=!0):t instanceof an&&(i="multiply-dayTimeDuration",r=!0):e instanceof nn?st(t)&&(i="multiply-yearMonthDuration"):e instanceof an&&st(t)&&(i="multiply-dayTimeDuration"),i)return A[i].call(n,r?t:e,r?e:t);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},ne.div=function(e,t,n){var i="";if(st(e)?st(t)&&(i="numeric-divide"):e instanceof nn?st(t)?i="divide-yearMonthDuration":t instanceof nn&&(i="divide-yearMonthDuration-by-yearMonthDuration"):e instanceof an&&(st(t)?i="divide-dayTimeDuration":t instanceof an&&(i="divide-dayTimeDuration-by-dayTimeDuration")),i)return A[i].call(n,e,t);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},ne.idiv=function(e,t,n){if(st(e)&&st(t))return A["numeric-integer-divide"].call(n,e,t);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},ne.mod=function(e,t,n){if(st(e)&&st(t))return A["numeric-mod"].call(n,e,t);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},te.prototype.evaluate=function(e){var t=ni(this.left.evaluate(e),e);if(!t.length)return[];Ye(0,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof tn&&(n=St.cast(n));for(var i,r,o=0,a=this.items.length;o<a;o++){if(!(i=ni(this.items[o][1].evaluate(e),e)).length)return[];Ye(0,i,"?","second operand of '"+this.items[o][0]+"'"),(r=i[0])instanceof tn&&(r=St.cast(r)),n=ne[this.items[o][0]](n,r,e)}return[n]},re.prototype.operator=null,re.prototype.expression=null;var oe={};function ae(e,t){return function(e,t){if(e.eof())return;var n,i="//",r=new ve,o=e.peek();o!=i&&"/"!=o||(e.next(),r.items.push(new Xe(null,"root",g)),o==i&&r.items.push(new he("descendant-or-self",new Te("node"))));if(e.eof()||!(n=fe(e,t))){if("/"==o)return r.items[0];if(o==i)throw new T("XPST0003","Expected path step expression");return}r.items.push(n);for(;"/"==(o=e.peek())||o==i;){if(o==i&&r.items.push(new he("descendant-or-self",new Te("node"))),e.next(),e.eof()||!(n=fe(e,t)))throw new T("XPST0003","Expected path step expression");r.items.push(n)}return 1==r.items.length?r.items[0]:r}(e,t)}function se(e){this.left=e,this.items=[]}function ue(e){this.left=e,this.items=[]}function le(e,t){var n;if(!e.eof()&&(n=B(e,t))){if("and"!=e.peek())return n;for(var i=new ue(n);"and"==e.peek();){if(e.next(),e.eof()||!(n=B(e,t)))throw new T("XPST0003","Expected second operand in logical expression");i.items.push(n)}return i}}function ce(){}function fe(e,t){if(!e.eof())return function(e,t){var n;if(e.eof()||!(n=function(e,t){if(!e.eof())return function(e){if("."==e.peek())return e.next(),new De}(e)||function(e,t){if("("==e.peek()){e.next();var n=null;if(")"!=e.peek()&&(n=F(e,t)),")"!=e.peek())throw new T("XPST0003","Expected ')' token in parenthesized expression");return e.next(),new Ee(n)}}(e,t)||function(e,t){var n=e.peek().match(Ie);if(n&&"("==e.peek(1)){if(!n[1]&&n[2]in xe)return me(e,t);if("*"==n[1]||"*"==n[2])throw new T("XPST0003","Illegal use of wildcard in function name");var i,r=new Xe(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1])||null:t.defaultFunctionNamespace);if(e.next(2),")"!=e.peek()){do{if(e.eof()||!(i=_(e,t)))throw new T("XPST0003","Expected function call argument");r.args.push(i)}while(","==e.peek()&&e.next());if(")"!=e.peek())throw new T("XPST0003","Expected ')' token in function call")}return e.next(),r}}(e,t)||function(e,t){if("$"==e.peek().substr(0,1)){var n=e.peek().substr(1).match(Ie);if(n){if("*"==n[1]||"*"==n[2])throw new T("XPST0003","Illegal use of wildcard in var expression variable name");var i=new ke(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null);return e.next(),i}}}(e,t)||function(e){if(!e.eof())return function(e){var t=Pe(e.peek());if(t)return e.next(),new Se(t)}(e)||function(e){var t=e.peek().match(Me);if(t)return e.next(),new Re(new Qt(t[1]?t[1].replace("''","'"):t[2]?t[2].replace('""','"'):""))}(e)}(e)}(e,t)))return;var i=new Ce(n);return pe(e,t,i),0==i.predicates.length?i.expression:i}(e,t)||me(e,t)}function pe(e,t,n){for(var i;"["==e.peek();){if(e.next(),e.eof()||!(i=F(e,t)))throw new T("XPST0003","Expected expression in predicate");if(n.predicates.push(i),"]"!=e.peek())throw new T("XPST0003","Expected ']' token in predicate");e.next()}}function he(e,t){this.axis=e,this.test=t,this.predicates=[]}oe["-"]=function(e,t){if(st(e))return A["numeric-unary-minus"].call(t,e);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},oe["+"]=function(e,t){if(st(e))return A["numeric-unary-plus"].call(t,e);throw new T("XPTY0004","Arithmetic operator is not defined for provided arguments")},re.prototype.evaluate=function(e){var t=ni(this.expression.evaluate(e),e);if(!t.length)return[];Ye(0,t,"?","second operand of '"+this.operator+"'");var n=t[0];return n instanceof tn&&(n=St.cast(n)),[oe[this.operator](n,e)]},se.prototype.left=null,se.prototype.items=null,se.prototype.evaluate=function(e){for(var t=ti(this.left.evaluate(e),e),n=0,i=this.items.length;n<i&&!t;n++)t=ti(this.items[n].evaluate(e),e);return[new pt(t)]},ue.prototype.left=null,ue.prototype.items=null,ue.prototype.evaluate=function(e){for(var t=ti(this.left.evaluate(e),e),n=0,i=this.items.length;n<i&&t;n++)t=ti(this.items[n].evaluate(e),e);return[new pt(t)]},ce.prototype.predicates=null,ce.prototype.applyPredicates=function(e,t){for(var n,i=t.item,r=t.position,o=t.size,a=0,s=this.predicates.length;a<s;a++){n=e,e=[];for(var u,l=0,c=n.length;l<c;l++)t.item=n[l],t.position=l+1,t.size=c,1==(u=this.predicates[a].evaluate(t)).length&&st(u[0])?u[0].valueOf()==l+1&&e.push(n[l]):ti(u,t)&&e.push(n[l])}return t.item=i,t.position=r,t.size=o,e},(he.prototype=new ce).axis=null,he.prototype.test=null;var de={};function me(e,t){var n,i,r=e.peek();if("::"==e.peek(1)){if(!(r in de))throw new T("XPST0003","Unknown axis name: "+r);if(e.next(2),e.eof()||!(n=ge(e,t)))throw new T("XPST0003","Expected node test expression in axis step");i=new he(r,n)}else if(".."==r)e.next(),i=new he("parent",new Te("node"));else if("@"==r){if(e.next(),e.eof()||!(n=ge(e,t)))throw new T("XPST0003","Expected node test expression in axis step");i=new he("attribute",n)}else{if(e.eof()||!(n=ge(e,t)))return;i=new he(n instanceof Te&&"attribute"==n.name?"attribute":"child",n)}return pe(e,t,i),i}function ye(e,t,n){for(var i;e;e=n(e,"nextSibling"))t.push(e),(i=n(e,"firstChild"))&&ye(i,t,n)}function ve(){this.items=[]}function we(){}function ge(e,t){if(!e.eof())return be(e)||function(e,t){var n=e.peek().match(Ie);if(n){if("*"==n[1]&&"*"==n[2])throw new T("XPST0003","Illegal use of *:* wildcard in name test");return e.next(),new Ne(n[1]||null,n[2],n[1]?"*"==n[1]?"*":t.getURIForPrefix(n[1])||null:t.defaultElementNamespace)}}(e,t)}function Te(e){this.name=e,this.args=[]}de.attribute={},de.child={},de.descendant={},de["descendant-or-self"]={},de.following={},de["following-sibling"]={},de.self={},de.ancestor={},de["ancestor-or-self"]={},de.parent={},de.preceding={},de["preceding-sibling"]={},he.prototype.evaluate=function(e){var t=e.item;if(!e.DOMAdapter.isNode(t))throw new T("XPTY0020");var n=[],i=e.DOMAdapter.getProperty,r=i(t,"nodeType");switch(this.axis){case"attribute":if(1==r)for(var o=i(t,"attributes"),a=0,s=o.length;a<s;a++)n.push(o[a]);break;case"child":for(var u=i(t,"firstChild");u;u=i(u,"nextSibling"))n.push(u);break;case"descendant-or-self":n.push(t);case"descendant":ye(i(t,"firstChild"),n,i);break;case"following":for(var l=t;l;l=i(l,"parentNode"))(c=i(l,"nextSibling"))&&ye(c,n,i);break;case"following-sibling":for(u=t;u=i(u,"nextSibling");)n.push(u);break;case"self":n.push(t);break;case"ancestor-or-self":n.push(t);case"ancestor":for(u=2==r?i(t,"ownerElement"):t;u=i(u,"parentNode");)n.push(u);break;case"parent":(l=i(t,2==r?"ownerElement":"parentNode"))&&n.push(l);break;case"preceding":for(var c,l=t;l;l=i(l,"parentNode"))(c=i(l,"previousSibling"))&&!function p(e,t,n){for(var i;e;e=n(e,"previousSibling"))(i=n(e,"lastChild"))&&p(i,t,n),t.push(e)}(c,n,i);break;case"preceding-sibling":for(u=t;u=i(u,"previousSibling");)n.push(u)}if(n.length&&!(this.test instanceof Te&&"node"==this.test.name))for(var f=n,n=[],a=0,s=f.length;a<s;a++)this.test.test(f[a],e)&&n.push(f[a]);switch(n.length&&this.predicates.length&&(n=this.applyPredicates(n,e)),this.axis){case"ancestor":case"ancestor-or-self":case"parent":case"preceding":case"preceding-sibling":n.reverse()}return n},ve.prototype.items=null,ve.prototype.evaluate=function(e){for(var t,n=e.item,i=[n],r=0,o=this.items.length;r<o;r++){t=[];for(var a=0,s=i.length;a<s;a++){e.item=i[a];for(var u=0,l=this.items[r].evaluate(e),c=l.length;u<c;u++){if(r<o-1&&!e.DOMAdapter.isNode(l[u]))throw new T("XPTY0019");-1==v(t,l[u])&&t.push(l[u])}}i=t}return e.item=n,ii(i,e)},(Te.prototype=new we).name=null,Te.prototype.args=null;var xe={};function be(e){var t=e.peek();if("("==e.peek(1)){if(!(t in xe))throw new T("XPST0003","Unknown '"+t+"' kind test");e.next(2);var n=new Te(t);if(")"==e.peek()){if("schema-attribute"==t)throw new T("XPST0003","Expected attribute declaration in 'schema-attribute' kind test");if("schema-element"==t)throw new T("XPST0003","Expected element declaration in 'schema-element' kind test")}if(")"!=e.peek())throw new T("XPST0003","Expected ')' token in kind test");return e.next(),n}}function Ne(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}xe["document-node"]={},xe.element={},xe.attribute={},xe["processing-instruction"]={},xe.comment={},xe.text={},xe.node={},xe["schema-element"]={},xe["schema-attribute"]={},Te.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,i=t.DOMAdapter.isNode(e)?n(e,"nodeType"):0;switch(this.name){case"node":return!!i;case"attribute":if(2!=i)return!1;break;case"document-node":return 9==i;case"element":return 1==i;case"processing-instruction":if(7!=i)return!1;break;case"comment":return 8==i;case"text":return 3==i||4==i;case"schema-attribute":throw"KindTest 'schema-attribute' not implemented";case"schema-element":throw"KindTest 'schema-element' not implemented"}return 2==i?"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"):7!=i||"xml"!=n(e,"target")},(Ne.prototype=new we).prefix=null,Ne.prototype.localName=null,Ne.prototype.namespaceURI=null;var Ie=/^(?:(?![0-9-])([\w-]+|\*)\:)?(?![0-9-])([\w-]+|\*)$/;function Ee(e){this.expression=e}function De(){}function Oe(){}function Se(e){this.value=e}Ne.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,i=n(e,"nodeType");if(1==i||2==i){if("*"==this.localName)return(1==i||"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"))&&(!this.prefix||n(e,"namespaceURI")==this.namespaceURI);if(this.localName==n(e,"localName"))return"*"==this.namespaceURI||2==i&&!this.prefix&&!n(e,"prefix")||n(e,"namespaceURI")==this.namespaceURI}return!1},Ee.prototype.evaluate=function(e){return this.expression?this.expression.evaluate(e):[]},De.prototype.evaluate=function(e){if(null==e.item)throw new T("XPDY0002","Dynamic context does not have context item initialized");return[e.item]},Oe.prototype.value=null,Oe.prototype.evaluate=function(e){return[this.value]},Se.prototype=new Oe;var Ae=/^[+\-]?(?:(?:(\d+)(?:\.(\d*))?)|(?:\.(\d+)))(?:[eE]([+-])?(\d+))?$/;function Pe(e){var t=e.match(Ae);if(t){var n=ln;return t[5]?n=St:(t[2]||t[3])&&(n=Dt),new n(+e)}}function Re(e){this.value=e}Re.prototype=new Oe;var Me=/^'([^']*(?:''[^']*)*)'|"([^"]*(?:""[^"]*)*)"$/;function Ce(e){this.expression=e,this.predicates=[]}function ke(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function Xe(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n,this.args=[]}(Ce.prototype=new ce).expression=null,Ce.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.predicates.length&&t.length&&(t=this.applyPredicates(t,e)),t},ke.prototype.prefix=null,ke.prototype.localName=null,ke.prototype.namespaceURI=null,ke.prototype.evaluate=function(e){var t=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(e.scope.hasOwnProperty(t))return[e.scope[t]];throw new T("XPST0008","Variable $"+(this.prefix?this.prefix+":":"")+this.localName+" has not been declared")},Xe.prototype.prefix=null,Xe.prototype.localName=null,Xe.prototype.namespaceURI=null,Xe.prototype.args=null,Xe.prototype.evaluate=function(e){for(var t,n,i=[],r=0,o=this.args.length;r<o;r++)i.push(this.args[r].evaluate(e));var a,s=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(this.namespaceURI==g){if(n=D[this.localName])return(t=O[this.localName])&&_e(this.localName,t,0,i,e),null==(a=n.apply(e,i))?[]:a instanceof u?a:[a];throw new T("XPST0017","Unknown system function: "+s+"()")}if(this.namespaceURI==w){if((n=S[this.localName])&&"NOTATION"!=this.localName&&"anyAtomicType"!=this.localName)return _e(this.localName,[[at]],0,i,e),[n.cast(i[0])];throw new T("XPST0017","Unknown type constructor function: "+s+"()")}if(n=e.staticContext.getFunction(s))return null==(a=n.apply(e,i))?[]:a instanceof u?a:[a];throw new T("XPST0017","Unknown user function: "+s+"()")};var Fe=["first","second","third","fourth","fifth"];function _e(e,t,n,i,r){for(var o,a,s=i.length,u=t.length,l=0;l<t.length&&!t[l][2];)l++;if(u<s)throw new T("XPST0017","Function "+e+"() must have "+(u?" no more than ":"")+u+" argument"+(1<u||!u?"s":""));if(s<l)throw new T("XPST0017","Function "+e+"() must have "+(l==u?"exactly":"at least")+" "+l+" argument"+(1<u?"s":""));for(var c=0;c<s;c++)a=t[c],Ye(0,o=i[c],a[1],Fe[c]+" argument of "+e+"()"),ze(r,o,a[0],Fe[c]+" argument of "+e+"()"),"+"!=a[1]&&"*"!=a[1]&&(i[c]=o.length?o[0]:null)}function ze(e,t,n,i){for(var r,o=0,a=t.length;o<a;o++)if(r=t[o],n==Mn||n.prototype instanceof Mn){if(!e.DOMAdapter.isNode(r))throw new T("XPTY0004","Required item type of "+i+" is "+n);if(n!=Mn&&[null,Fn,Cn,zn,zn,null,null,_n,kn,Xn,null,null,null][e.DOMAdapter.getProperty(r,"nodeType")]!=n)throw new T("XPTY0004","Required item type of "+i+" is "+n)}else if(n==at||n.prototype instanceof at){if(r=ni([r],e)[0],n!=at&&(r instanceof tn?r=n.cast(r):n==Qt?r instanceof ut&&(r=Qt.cast(r)):n==St&&st(r)&&(r=n.cast(r))),!(r instanceof n))throw new T("XPTY0004","Required item type of "+i+" is "+n);t[o]=r}}function Ye(e,t,n,i){var r=t.length;if("?"==n){if(1<r)throw new T("XPTY0004","Required cardinality of "+i+" is one or zero")}else if("+"==n){if(r<1)throw new T("XPTY0004","Required cardinality of "+i+" is one or more")}else if("*"!=n&&1!=r)throw new T("XPTY0004","Required cardinality of "+i+" is exactly one")}function Ue(e){this.left=e,this.items=[]}function qe(e,t){var n,i;if(!e.eof()&&(n=Ve(e,t))){if("intersect"!=(i=e.peek())&&"except"!=i)return n;for(var r=new Ue(n);"intersect"==(i=e.peek())||"except"==i;){if(e.next(),e.eof()||!(n=Ve(e,t)))throw new T("XPST0003","Expected second operand in "+i+" expression");r.items.push([i,n])}return r}}function Le(e,t){this.left=e,this.right=t}function Ge(e,t){var n,i;if(!e.eof()&&(n=ee(e,t))){if("to"!=e.peek())return n;if(e.next(),e.eof()||!(i=ee(e,t)))throw new T("XPST0003","Expected second operand in range expression");return new Le(n,i)}}function Be(e){this.left=e,this.items=[]}function je(e,t){var n,i;if(!e.eof()&&(n=qe(e,t))){if("|"!=(i=e.peek())&&"union"!=i)return n;for(var r=new Be(n);"|"==(i=e.peek())||"union"==i;){if(e.next(),e.eof()||!(n=qe(e,t)))throw new T("XPST0003","Expected second operand in union expression");r.items.push(n)}return r}}function Ke(e,t){this.expression=e,this.type=t}function Ve(e,t){var n,i;if(!e.eof()&&(n=function(e,t){var n,i;if(e.eof()||!(n=function(e,t){var n,i;if(e.eof()||!(n=function(e,t){var n,i;if(e.eof()||!(n=function(e,t){if(!e.eof()){if(!(e.peek()in oe))return ae(e,t);for(var n,i="+";e.peek()in oe;)"-"==e.peek()&&(i="-"==i?"+":"-"),e.next();if(e.eof()||!(n=ae(e,t)))throw new T("XPST0003","Expected operand in unary expression");return new re(i,n)}}(e,t)))return;if("cast"!=e.peek()||"as"!=e.peek(1))return n;if(e.next(2),e.eof()||!(i=it(e,t)))throw new T("XPST0003","Expected second operand in cast expression");return new Ze(n,i)}(e,t)))return;if("castable"!=e.peek()||"as"!=e.peek(1))return n;if(e.next(2),e.eof()||!(i=it(e,t)))throw new T("XPST0003","Expected second operand in castable expression");return new $e(n,i)}(e,t)))return;if("treat"!=e.peek()||"as"!=e.peek(1))return n;if(e.next(2),e.eof()||!(i=tt(e,t)))throw new T("XPST0003","Expected second operand in treat expression");return new He(n,i)}(e,t))){if("instance"!=e.peek()||"of"!=e.peek(1))return n;if(e.next(2),e.eof()||!(i=tt(e,t)))throw new T("XPST0003","Expected second operand in instance of expression");return new Ke(n,i)}}function He(e,t){this.expression=e,this.type=t}function $e(e,t){this.expression=e,this.type=t}function Ze(e,t){this.expression=e,this.type=t}function Qe(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function We(e,t){var n=e.peek().match(Ie);if(n){if("*"==n[1]||"*"==n[2])throw new T("XPST0003","Illegal use of wildcard in type name");return e.next(),new Qe(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null)}}function Je(e){this.test=e}function et(e,t){this.itemType=e||null,this.occurence=t||null}function tt(e,t){if(!e.eof()){if("empty-sequence"!=e.peek()||"("!=e.peek(1))return!e.eof()&&(n=function(e,t){if(!e.eof()){var n;if("item"!=e.peek()||"("!=e.peek(1))return(n=be(e))||(n=We(e,t))?new Je(n):void 0;if(e.next(2),")"!=e.peek())throw new T("XPST0003","Expected ')' token in item type expression");return e.next(),new Je}}(e,t))?("?"==(i=e.peek())||"*"==i||"+"==i?e.next():i=null,new et(n,i)):void 0;var n,i;if(e.next(2),")"!=e.peek())throw new T("XPST0003","Expected ')' token in sequence type");return e.next(),new et}}function nt(e,t){this.itemType=e||null,this.occurence=t||null}function it(e,t){var n,i;if(!e.eof()&&(n=We(e,t)))return"?"==(i=e.peek())?e.next():i=null,new nt(n,i)}function rt(){}function ot(){}function at(){}function st(e){return e instanceof kt||e instanceof St||e instanceof Dt}function ut(e,t,n,i,r){this.scheme=e,this.authority=t,this.path=n,this.query=i,this.fragment=r}Ue.prototype.left=null,Ue.prototype.items=null,Ue.prototype.evaluate=function(e){for(var t,n=this.left.evaluate(e),i=0,r=this.items.length;i<r;i++)n=A[(t=this.items[i])[0]].call(e,n,t[1].evaluate(e));return n},Le.prototype.left=null,Le.prototype.right=null,Le.prototype.evaluate=function(e){var t=this.left.evaluate(e);if(!t.length)return[];var n;Ye(0,t,"?","first operand of 'to'"),ze(e,t,ln,"first operand of 'to'");var i=this.right.evaluate(e);return i.length?(Ye(0,i,"?",n="second operand of 'to'"),ze(e,i,ln,n),A.to.call(e,t[0],i[0])):[]},Be.prototype.left=null,Be.prototype.items=null,Be.prototype.evaluate=function(e){for(var t=this.left.evaluate(e),n=0,i=this.items.length;n<i;n++)t=A.union.call(e,t,this.items[n].evaluate(e));return t},Ke.prototype.expression=null,Ke.prototype.type=null,Ke.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,i=this.type.occurence;if(!n)return[new pt(!t.length)];if(!t.length)return[new pt("?"==i||"*"==i)];if(1!=t.length&&"+"!=i&&"*"!=i)return[new pt(!1)];if(!n.test)return[new pt(!0)];for(var r=!0,o=0,a=t.length;o<a&&r;o++)r=n.test.test(t[o],e);return[new pt(r)]},He.prototype.expression=null,He.prototype.type=null,He.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,i=this.type.occurence;if(!n){if(t.length)throw new T("XPDY0050","The only value allowed for the value in 'treat as' expression is an empty sequence");return t}if("?"!=i&&"*"!=i&&!t.length)throw new T("XPDY0050","An empty sequence is not allowed as the value in 'treat as' expression");if("+"!=i&&"*"!=i&&1!=t.length)throw new T("XPDY0050","A sequence of more than one item is not allowed as the value in 'treat as' expression");if(!n.test)return t;for(var r=0,o=t.length;r<o;r++)if(!n.test.test(t[r],e))throw new T("XPDY0050","Required item type of value in 'treat as' expression is "+(n.test.prefix?n.test.prefix+":":"")+n.test.localName);return t},$e.prototype.expression=null,$e.prototype.type=null,$e.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,i=this.type.occurence;if(1<t.length)return[new pt(!1)];if(!t.length)return[new pt("?"==i)];try{n.cast(ni(t,e)[0])}catch(r){if("XPST0051"==r.code)throw r;if("XPST0017"==r.code)throw new T("XPST0080","No value is castable to "+(n.prefix?n.prefix+":":"")+n.localName);return[new pt(!1)]}return[new pt(!0)]},Ze.prototype.expression=null,Ze.prototype.type=null,Ze.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return Ye(0,t,this.type.occurence,"'cast as' expression operand"),t.length?[this.type.itemType.cast(ni(t,e)[0],e)]:[]},Qe.prototype.prefix=null,Qe.prototype.localName=null,Qe.prototype.namespaceURI=null,Qe.prototype.test=function(e,t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,i=this.namespaceURI==w?S[this.localName]:t.staticContext.getDataType(n);if(i)return e instanceof i;throw new T("XPST0051","Unknown simple type "+(this.prefix?this.prefix+":":"")+this.localName)},Qe.prototype.cast=function(e,t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,i=this.namespaceURI==w?S[this.localName]:t.staticContext.getDataType(n);if(i)return i.cast(e);throw new T("XPST0051","Unknown atomic type "+(this.prefix?this.prefix+":":"")+this.localName)},et.prototype.itemType=Je.prototype.test=null,nt.prototype.itemType=et.prototype.occurence=null,nt.prototype.occurence=null,rt.prototype.builtInKind=k.ANYTYPE_DT,(ot.prototype=new rt).builtInKind=k.ANYSIMPLETYPE_DT,ot.prototype.primitiveKind=null,ot.PRIMITIVE_ANYURI="anyURI",ot.PRIMITIVE_BASE64BINARY="base64Binary",ot.PRIMITIVE_BOOLEAN="boolean",ot.PRIMITIVE_DATE="date",ot.PRIMITIVE_DATETIME="dateTime",ot.PRIMITIVE_DECIMAL="decimal",ot.PRIMITIVE_DOUBLE="double",ot.PRIMITIVE_DURATION="duration",ot.PRIMITIVE_FLOAT="float",ot.PRIMITIVE_GDAY="gDay",ot.PRIMITIVE_GMONTH="gMonth",ot.PRIMITIVE_GMONTHDAY="gMonthDay",ot.PRIMITIVE_GYEAR="gYear",ot.PRIMITIVE_GYEARMONTH="gYearMonth",ot.PRIMITIVE_HEXBINARY="hexBinary",ot.PRIMITIVE_NOTATION="NOTATION",ot.PRIMITIVE_QNAME="QName",ot.PRIMITIVE_STRING="string",ot.PRIMITIVE_TIME="time",(at.prototype=new ot).builtInKind=k.ANYATOMICTYPE_DT,at.cast=function(e){throw new T("XPST0017","Abstract type used in constructor function xs:anyAtomicType")},R("anyAtomicType",at),(ut.prototype=new at).builtInKind=k.ANYURI_DT,ut.prototype.primitiveKind=ot.PRIMITIVE_ANYURI,ut.prototype.scheme=null,ut.prototype.authority=null,ut.prototype.path=null,ut.prototype.query=null,ut.prototype.fragment=null,ut.prototype.toString=function(){return(this.scheme?this.scheme+":":"")+(this.authority?"//"+this.authority:"")+(this.path?this.path:"")+(this.query?"?"+this.query:"")+(this.fragment?"#"+this.fragment:"")};var lt=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;function ct(e){this.value=e}ut.cast=function(e){if(e instanceof ut)return e;if(e instanceof Qt||e instanceof tn){var t;if(t=d(e).match(lt))return new ut(t[2],t[4],t[5],t[7],t[9]);throw new T("FORG0001")}throw new T("XPTY0004","Casting value '"+e+"' to xs:anyURI can never succeed")},R("anyURI",ut),(ct.prototype=new at).builtInKind=k.BASE64BINARY_DT,ct.prototype.primitiveKind=ot.PRIMITIVE_BASE64BINARY,ct.prototype.value=null,ct.prototype.valueOf=function(){return this.value},ct.prototype.toString=function(){return this.value};var ft=/^((([A-Za-z0-9+\/]\s*){4})*(([A-Za-z0-9+\/]\s*){3}[A-Za-z0-9+\/]|([A-Za-z0-9+\/]\s*){2}[AEIMQUYcgkosw048]\s*=|[A-Za-z0-9+\/]\s*[AQgw]\s*=\s*=))?$/;function pt(e){this.value=e}ct.cast=function(e){if(e instanceof ct)return e;if(e instanceof Qt||e instanceof tn){if(t=d(e).match(ft))return new ct(t[0]);throw new T("FORG0001")}if(e instanceof Kt){for(var t,n=[],i=0,r=(t=e.valueOf().match(/.{2}/g)).length;i<r;i++)n.push(p.fromCharCode(h(t[i],16)));return new ct(c(n.join("")))}throw new T("XPTY0004","Casting value '"+e+"' to xs:hexBinary can never succeed")},R("base64Binary",ct),(pt.prototype=new at).builtInKind=k.BOOLEAN_DT,pt.prototype.primitiveKind=ot.PRIMITIVE_BOOLEAN,pt.prototype.value=null,pt.prototype.valueOf=function(){return this.value},pt.prototype.toString=function(){return p(this.value)};var ht=/^(0|1|true|false)$/;function dt(e,t,n,i,r){this.year=e,this.month=t,this.day=n,this.timezone=i,this.negative=r}pt.cast=function(e){if(e instanceof pt)return e;if(e instanceof Qt||e instanceof tn){var t;if(t=d(e).match(ht))return new pt("1"==t[1]||"true"==t[1]);throw new T("FORG0001")}if(st(e))return new pt(0!=e);throw new T("XPTY0004","Casting value '"+e+"' to xs:boolean can never succeed")},R("boolean",pt),(dt.prototype=new at).builtInKind=k.DATE_DT,dt.prototype.primitiveKind=ot.PRIMITIVE_DATE,dt.prototype.year=null,dt.prototype.month=null,dt.prototype.day=null,dt.prototype.timezone=null,dt.prototype.negative=null,dt.prototype.toString=function(){return Nt(this)+bt(this)};var mt=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;dt.cast=function(e){if(e instanceof dt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(mt);if(t){var n=+t[2],i=+t[3],r=+t[4];if(r-1<vt(n,i))return new dt(n,i,r,t[5]?"Z"==t[5]?0:("-"==t[6]?-1:1)*(60*t[7]+ +t[8]):null,"-"==t[1]);throw new T("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new T("FORG0001")}if(e instanceof gt)return new dt(e.year,e.month,e.day,e.timezone,e.negative);throw new T("XPTY0004","Casting value '"+e+"' to xs:date can never succeed")};var yt=[31,28,31,30,31,30,31,31,30,31,30,31];function vt(e,t){return 2==t&&(e%400==0||e%100!=0&&e%4==0)?29:yt[t-1]}function wt(e,t){if(!t){var n=vt(e.year,e.month);if(e.day>n)for(;e.day>n;)e.month+=1,12<e.month&&(e.year+=1,0==e.year&&(e.year=1),e.month=1),e.day-=n,n=vt(e.year,e.month);else if(e.day<1)for(;e.day<1;)--e.month,e.month<1&&(--e.year,0==e.year&&(e.year=-1),e.month=12),n=vt(e.year,e.month),e.day+=n}return 12<e.month?(e.year+=~~(e.month/12),0==e.year&&(e.year=1),e.month=e.month%12):e.month<1&&(e.year+=~~(e.month/12)-1,0==e.year&&(e.year=-1),e.month=e.month%12+12),e}function gt(e,t,n,i,r,o,a,s){this.year=e,this.month=t,this.day=n,this.hours=i,this.minutes=r,this.seconds=o,this.timezone=a,this.negative=s}R("date",dt),(gt.prototype=new at).builtInKind=k.DATETIME_DT,gt.prototype.primitiveKind=ot.PRIMITIVE_DATETIME,gt.prototype.year=null,gt.prototype.month=null,gt.prototype.day=null,gt.prototype.hours=null,gt.prototype.minutes=null,gt.prototype.seconds=null,gt.prototype.timezone=null,gt.prototype.negative=null,gt.prototype.toString=function(){return Nt(this)+"T"+It(this)+bt(this)};var Tt=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])T(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function xt(e,t){var n=p(e);return arguments.length<2&&(t=2),(n.length<t+1?new u(t+1-n.length).join("0"):"")+n}function bt(e){var t=e.timezone;return null==t?"":t?(0<t?"+":"-")+xt(m.abs(~~(t/60)))+":"+xt(m.abs(t%60)):"Z"}function Nt(e){return(e.negative?"-":"")+xt(e.year,4)+"-"+xt(e.month)+"-"+xt(e.day)}function It(e){var t=p(e.seconds).split(".");return xt(e.hours)+":"+xt(e.minutes)+":"+xt(t[0])+(1<t.length?"."+t[1]:"")}function Et(e){return wt(en(e))}function Dt(e){this.value=e}gt.cast=function(e){if(e instanceof gt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Tt);if(t){var n=+t[2],i=+t[3],r=+t[4],o=!!t[10];if(r-1<vt(n,i))return Et(new gt(n,i,r,o?24:+t[6],o?0:+t[7],a((o?0:t[8])+"."+(!o&&t[9]||0)),t[12]?"Z"==t[12]?0:("-"==t[13]?-1:1)*(60*t[14]+ +t[15]):null,"-"==t[1]));throw new T("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new T("FORG0001")}if(e instanceof dt)return new gt(e.year,e.month,e.day,0,0,0,e.timezone,e.negative);throw new T("XPTY0004","Casting value '"+e+"' to xs:dateTime can never succeed")},R("dateTime",gt),(Dt.prototype=new at).builtInKind=k.DECIMAL_DT,Dt.prototype.primitiveKind=ot.PRIMITIVE_DECIMAL,Dt.prototype.value=null,Dt.prototype.valueOf=function(){return this.value},Dt.prototype.toString=function(){return p(this.value)};var Ot=/^[+\-]?((\d+(\.\d*)?)|(\.\d+))$/;function St(e){this.value=e}Dt.cast=function(e){if(e instanceof Dt)return e;if(e instanceof Qt||e instanceof tn){if(d(e).match(Ot))return new Dt(+e);throw new T("FORG0001")}if(e instanceof pt)return new Dt(+e);if(st(e)){if(o(e)||!t(e))throw new T("FOCA0002","Cannot convert '"+e+"' to xs:decimal");return new Dt(+e)}throw new T("XPTY0004","Casting value '"+e+"' to xs:decimal can never succeed")},R("decimal",Dt),(St.prototype=new at).builtInKind=k.DOUBLE_DT,St.prototype.primitiveKind=ot.PRIMITIVE_DOUBLE,St.prototype.value=null,St.prototype.valueOf=function(){return this.value},St.prototype.toString=function(){return p(this.value)};var At=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;function Pt(e,t,n,i,r,o,a){this.year=e,this.month=t,this.day=n,this.hours=i,this.minutes=r,this.seconds=o,this.negative=a}St.cast=function(e){if(e instanceof St)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(At);if(t)return new St(t[7]?+t[7].replace("INF","Infinity"):+e);throw new T("FORG0001")}if(e instanceof pt)return new St(+e);if(st(e))return new St(e.value);throw new T("XPTY0004","Casting value '"+e+"' to xs:double can never succeed")},R("double",St),(Pt.prototype=new at).builtInKind=k.DURATION_DT,Pt.prototype.primitiveKind=ot.PRIMITIVE_DURATION,Pt.prototype.year=null,Pt.prototype.month=null,Pt.prototype.day=null,Pt.prototype.hours=null,Pt.prototype.minutes=null,Pt.prototype.seconds=null,Pt.prototype.negative=null,Pt.prototype.toString=function(){return(this.negative?"-":"")+"P"+(Mt(this)+Ct(this)||"T0S")};var Rt=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;function Mt(e){return(e.year?e.year+"Y":"")+(e.month?e.month+"M":"")}function Ct(e){return(e.day?e.day+"D":"")+(e.hours||e.minutes||e.seconds?"T"+(e.hours?e.hours+"H":"")+(e.minutes?e.minutes+"M":"")+(e.seconds?e.seconds+"S":""):"")}function kt(e){this.value=e}Pt.cast=function(e){if(e instanceof nn)return new Pt(e.year,e.month,0,0,0,0,e.negative);if(e instanceof an)return new Pt(0,0,e.day,e.hours,e.minutes,e.seconds,e.negative);if(e instanceof Pt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Rt);if(t)return on(un(new Pt(+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||0,+t[6]||0,+t[7]||0,"-"==t[1])));throw new T("FORG0001")}throw new T("XPTY0004","Casting value '"+e+"' to xs:duration can never succeed")},R("duration",Pt),(kt.prototype=new at).builtInKind=k.FLOAT_DT,kt.prototype.primitiveKind=ot.PRIMITIVE_FLOAT,kt.prototype.value=null,kt.prototype.valueOf=function(){return this.value},kt.prototype.toString=function(){return p(this.value)};var Xt=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;function Ft(e,t){this.day=e,this.timezone=t}kt.cast=function(e){if(e instanceof kt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Xt);if(t)return new kt(t[7]?+t[7].replace("INF","Infinity"):+e);throw new T("FORG0001")}if(e instanceof pt)return new kt(+e);if(st(e))return new kt(e.value);throw new T("XPTY0004","Casting value '"+e+"' to xs:float can never succeed")},R("float",kt),(Ft.prototype=new at).builtInKind=k.GDAY_DT,Ft.prototype.primitiveKind=ot.PRIMITIVE_GDAY,Ft.prototype.day=null,Ft.prototype.timezone=null,Ft.prototype.toString=function(){return"---"+xt(this.day)+bt(this)};var _t=/^---(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function zt(e,t){this.month=e,this.timezone=t}Ft.cast=function(e){if(e instanceof Ft)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(_t);if(t)return new Ft(+t[1],t[2]?"Z"==t[2]?0:("-"==t[3]?-1:1)*(60*t[4]+ +t[5]):null);throw new T("FORG0001")}if(e instanceof dt||e instanceof gt)return new Ft(e.day,e.timezone);throw new T("XPTY0004","Casting value '"+e+"' to xs:gDay can never succeed")},R("gDay",Ft),(zt.prototype=new at).builtInKind=k.GMONTH_DT,zt.prototype.primitiveKind=ot.PRIMITIVE_GMONTH,zt.prototype.month=null,zt.prototype.timezone=null,zt.prototype.toString=function(){return"--"+xt(this.month)+bt(this)};var Yt=/^--(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function Ut(e,t,n){this.month=e,this.day=t,this.timezone=n}zt.cast=function(e){if(e instanceof zt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Yt);if(t)return new zt(+t[1],t[2]?"Z"==t[2]?0:("-"==t[3]?-1:1)*(60*t[4]+ +t[5]):null);throw new T("FORG0001")}if(e instanceof dt||e instanceof gt)return new zt(e.month,e.timezone);throw new T("XPTY0004","Casting value '"+e+"' to xs:gMonth can never succeed")},R("gMonth",zt),(Ut.prototype=new at).builtInKind=k.GMONTHDAY_DT,Ut.prototype.primitiveKind=ot.PRIMITIVE_GMONTHDAY,Ut.prototype.month=null,Ut.prototype.day=null,Ut.prototype.timezone=null,Ut.prototype.toString=function(){return"--"+xt(this.month)+"-"+xt(this.day)+bt(this)};var qt=/^--(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function Lt(e,t){this.year=e,this.timezone=t}Ut.cast=function(e){if(e instanceof Ut)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(qt);if(t){var n=+t[1],i=+t[2];if(i-1<vt(1976,n))return new Ut(n,i,t[3]?"Z"==t[3]?0:("-"==t[4]?-1:1)*(60*t[5]+ +t[6]):null);throw new T("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new T("FORG0001")}if(e instanceof dt||e instanceof gt)return new Ut(e.month,e.day,e.timezone);throw new T("XPTY0004","Casting value '"+e+"' to xs:gMonthDay can never succeed")},R("gMonthDay",Ut),(Lt.prototype=new at).builtInKind=k.GYEAR_DT,Lt.prototype.primitiveKind=ot.PRIMITIVE_GYEAR,Lt.prototype.year=null,Lt.prototype.timezone=null,Lt.prototype.toString=function(){return xt(this.year)+bt(this)};var Gt=/^-?([1-9]\d\d\d+|0\d\d\d)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function Bt(e,t,n){this.year=e,this.month=t,this.timezone=n}Lt.cast=function(e){if(e instanceof Lt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Gt);if(t)return new Lt(+t[1],t[2]?"Z"==t[2]?0:("-"==t[3]?-1:1)*(60*t[4]+ +t[5]):null);throw new T("FORG0001")}if(e instanceof dt||e instanceof gt)return new Lt(e.year,e.timezone);throw new T("XPTY0004","Casting value '"+e+"' to xs:gYear can never succeed")},R("gYear",Lt),(Bt.prototype=new at).builtInKind=k.GYEARMONTH_DT,Bt.prototype.primitiveKind=ot.PRIMITIVE_GYEARMONTH,Bt.prototype.year=null,Bt.prototype.month=null,Bt.prototype.timezone=null,Bt.prototype.toString=function(){return xt(this.year)+"-"+xt(this.month)+bt(this)};var jt=/^-?([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function Kt(e){this.value=e}Bt.cast=function(e){if(e instanceof Bt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(jt);if(t)return new Bt(+t[1],+t[2],t[3]?"Z"==t[3]?0:("-"==t[4]?-1:1)*(60*t[5]+ +t[6]):null);throw new T("FORG0001")}if(e instanceof dt||e instanceof gt)return new Bt(e.year,e.month,e.timezone);throw new T("XPTY0004","Casting value '"+e+"' to xs:gYearMonth can never succeed")},R("gYearMonth",Bt),(Kt.prototype=new at).builtInKind=k.HEXBINARY_DT,Kt.prototype.primitiveKind=ot.PRIMITIVE_HEXBINARY,Kt.prototype.value=null,Kt.prototype.valueOf=function(){return this.value},Kt.prototype.toString=function(){return this.value};var Vt=/^([0-9a-fA-F]{2})*$/;function Ht(){}function $t(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}Kt.cast=function(e){if(e instanceof Kt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Vt);if(t)return new Kt(t[0].toUpperCase());throw new T("FORG0001")}if(e instanceof ct){for(var n,i=f(e.valueOf()),r=[],o=0,a=i.length;o<a;o++)n=i.charCodeAt(o).toString(16),r.push(new u(3-n.length).join("0")+n);return new Kt(r.join(""))}throw new T("XPTY0004","Casting value '"+e+"' to xs:hexBinary can never succeed")},R("hexBinary",Kt),(Ht.prototype=new at).builtInKind=k.NOTATION_DT,Ht.prototype.primitiveKind=ot.PRIMITIVE_NOTATION,Ht.cast=function(e){throw new T("XPST0017","Abstract type used in constructor function xs:NOTATION")},R("NOTATION",Ht),($t.prototype=new at).builtInKind=k.QNAME_DT,$t.prototype.primitiveKind=ot.PRIMITIVE_QNAME,$t.prototype.prefix=null,$t.prototype.localName=null,$t.prototype.namespaceURI=null,$t.prototype.toString=function(){return(this.prefix?this.prefix+":":"")+this.localName};var Zt=/^(?:(?![0-9-])([\w-]+)\:)?(?![0-9-])([\w-]+)$/;function Qt(e){this.value=e}function Wt(e,t,n,i){this.hours=e,this.minutes=t,this.seconds=n,this.timezone=i}$t.cast=function(e){if(e instanceof $t)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Zt);if(t)return new $t(t[1]||null,t[2],null);throw new T("FORG0001")}throw new T("XPTY0004","Casting value '"+e+"' to xs:QName can never succeed")},R("QName",$t),(Qt.prototype=new at).value=null,Qt.prototype.builtInKind=k.STRING_DT,Qt.prototype.primitiveKind=ot.PRIMITIVE_STRING,Qt.prototype.valueOf=function(){return this.value},Qt.prototype.toString=function(){return this.value},Qt.cast=function(e){return new Qt(p(e))},R("string",Qt),(Wt.prototype=new at).builtInKind=k.TIME_DT,Wt.prototype.primitiveKind=ot.PRIMITIVE_TIME,Wt.prototype.hours=null,Wt.prototype.minutes=null,Wt.prototype.seconds=null,Wt.prototype.timezone=null,Wt.prototype.toString=function(){return It(this)+bt(this)};var Jt=/^(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;function en(e){return(60<=e.seconds||e.seconds<0)&&(e.minutes+=~~(e.seconds/60)-(e.seconds<0&&e.seconds%60?1:0),e.seconds=e.seconds%60+(e.seconds<0&&e.seconds%60?60:0)),(60<=e.minutes||e.minutes<0)&&(e.hours+=~~(e.minutes/60)-(e.minutes<0&&e.minutes%60?1:0),e.minutes=e.minutes%60+(e.minutes<0&&e.minutes%60?60:0)),(24<=e.hours||e.hours<0)&&(e instanceof gt&&(e.day+=~~(e.hours/24)-(e.hours<0&&e.hours%24?1:0)),e.hours=e.hours%24+(e.hours<0&&e.hours%24?24:0)),e}function tn(e){this.value=e}function nn(e,t,n){Pt.call(this,e,t,0,0,0,0,n)}Wt.cast=function(e){if(e instanceof Wt)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(Jt);if(t){var n=!!t[6];return new Wt(n?0:+t[2],n?0:+t[3],a((n?0:t[4])+"."+(!n&&t[5]||0)),t[8]?"Z"==t[8]?0:("-"==t[9]?-1:1)*(60*t[10]+ +t[11]):null)}throw new T("FORG0001")}if(e instanceof gt)return new Wt(e.hours,e.minutes,e.seconds,e.timezone);throw new T("XPTY0004","Casting value '"+e+"' to xs:time can never succeed")},R("time",Wt),(tn.prototype=new at).builtInKind=k.XT_UNTYPEDATOMIC_DT,tn.prototype.toString=function(){return p(this.value)},tn.cast=function(e){return e instanceof tn?e:new tn(p(e))},R("untypedAtomic",tn),(nn.prototype=new Pt).builtInKind=k.XT_YEARMONTHDURATION_DT,nn.prototype.toString=function(){return(this.negative?"-":"")+"P"+(Mt(this)||"0M")};var rn=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/;function on(e){return 12<=e.month&&(e.year+=~~(e.month/12),e.month%=12),e}function an(e,t,n,i,r){Pt.call(this,0,0,e,t,n,i,r)}nn.cast=function(e){if(e instanceof nn)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(rn);if(t)return on(new nn(+t[2]||0,+t[3]||0,"-"==t[1]));throw new T("FORG0001")}if(e instanceof an)return new nn(0,0);if(e instanceof Pt)return new nn(e.year,e.month,e.negative);throw new T("XPTY0004","Casting value '"+e+"' to xs:yearMonthDuration can never succeed")},R("yearMonthDuration",nn),(an.prototype=new Pt).builtInKind=k.DAYTIMEDURATION_DT,an.prototype.toString=function(){return(this.negative?"-":"")+"P"+(Ct(this)||"T0S")};var sn=/^(-)?P(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;function un(e){return 60<=e.seconds&&(e.minutes+=~~(e.seconds/60),e.seconds%=60),60<=e.minutes&&(e.hours+=~~(e.minutes/60),e.minutes%=60),24<=e.hours&&(e.day+=~~(e.hours/24),e.hours%=24),e}function ln(e){this.value=e}an.cast=function(e){if(e instanceof an)return e;if(e instanceof Qt||e instanceof tn){var t=d(e).match(sn);if(t)return un(new an(+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||0,"-"==t[1]));throw new T("FORG0001")}if(e instanceof nn)return new an(0,0,0,0);if(e instanceof Pt)return new an(e.day,e.hours,e.minutes,e.seconds,e.negative);throw new T("XPTY0004","Casting value '"+e+"' to xs:dayTimeDuration can never succeed")},R("dayTimeDuration",an),(ln.prototype=new Dt).builtInKind=k.INTEGER_DT;var cn=/^[-+]?[0-9]+$/;function fn(e){this.value=e}function pn(e){this.value=e}function hn(e){this.value=e}function dn(e){this.value=e}function mn(e){this.value=e}function yn(e){this.value=e}function vn(e){this.value=e}function wn(e){this.value=e}function gn(e){this.value=e}function Tn(e){this.value=e}function xn(e){this.value=e}function bn(e){this.value=e}function Nn(e){this.value=e}function In(e){this.value=e}function En(e){this.value=e}function Dn(e){this.value=e}function On(e){this.value=e}function Sn(e){this.value=e}function An(e){this.value=e}function Pn(e){this.value=e}function Rn(){}function Mn(){}function Cn(){}function kn(){}function Xn(){}function Fn(){}function _n(){}function zn(){}function Yn(e,t,n){var i=Hn(e),r=Hn(t);return new pt("lt"==n?i<r:"gt"==n?r<i:i==r)}function Un(e,t,n){return qn(gt.cast(e),gt.cast(t),n)}function qn(e,t,n){var i=new an(0,0,0,0),r=ei(e,i).toString(),o=ei(t,i).toString();return new pt("lt"==n?r<o:"gt"==n?o<r:r==o)}function Ln(e,t,n){var i;e instanceof dt?i=new dt(e.year,e.month,e.day,e.timezone,e.negative):e instanceof gt&&(i=new gt(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)),i.year=i.year+t.year*("-"==n?-1:1),i.month=i.month+t.month*("-"==n?-1:1),wt(i,!0);var r=vt(i.year,i.month);return i.day>r&&(i.day=r),i}function Gn(e,t,n){var i,r;return e instanceof dt?(i=60*(60*t.hours+t.minutes)+t.seconds,(r=new dt(e.year,e.month,e.day,e.timezone,e.negative)).day=r.day+t.day*("-"==n?-1:1)-(i&&"-"==n),wt(r)):e instanceof gt&&((r=new gt(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)).seconds=r.seconds+t.seconds*("-"==n?-1:1),r.minutes=r.minutes+t.minutes*("-"==n?-1:1),r.hours=r.hours+t.hours*("-"==n?-1:1),r.day=r.day+t.day*("-"==n?-1:1),Et(r)),r}function Bn(e){return(60*(60*(24*e.day+e.hours)+e.minutes)+e.seconds)*(e.negative?-1:1)}function jn(e){var t=(e=m.round(e))<0,n=~~((e=m.abs(e))/86400),i=~~((e-=3600*n*24)/3600),r=~~((e-=3600*i)/60);return new an(n,i,r,e-=60*r,t)}function Kn(e){return(12*e.year+e.month)*(e.negative?-1:1)}function Vn(e){var t=(e=m.round(e))<0,n=~~((e=m.abs(e))/12);return new nn(n,e-=12*n,t)}function Hn(e){return e.seconds+60*(e.minutes-(null!=e.timezone?e.timezone%60:0)+60*(e.hours-(null!=e.timezone?~~(e.timezone/60):0)))}function $n(e){var t=new s((e.negative?-1:1)*e.year,e.month,e.day,0,0,0,0);return e instanceof gt&&(t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds)),null!=e.timezone&&t.setMinutes(t.getMinutes()-e.timezone),t.getTime()/1e3}function Zn(e,t){if(o(e)||m.abs(e)==l||o(t)||m.abs(t)==l)return 0;var n=p(e).match(Ae),i=p(t).match(Ae),r=m.max(1,(n[2]||n[3]||"").length+(n[5]||0)*("+"==n[4]?-1:1),(i[2]||i[3]||"").length+(i[5]||0)*("+"==i[4]?-1:1));return r+(r%2?0:1)}function Qn(e,t,n){return new(e instanceof ln&&t instanceof ln&&n==m.round(n)?ln:Dt)(n)}function Wn(e,t){if(null==e)return null;var n=e[t]*(e.negative?-1:1);return new("seconds"==t?Dt:ln)(n)}function Jn(e,t){if(null==e)return null;if("timezone"==t){var n=e.timezone;return null==n?null:new an(0,m.abs(~~(n/60)),m.abs(n%60),0,n<0)}var i=e[t];return e instanceof dt||"hours"==t&&24==i&&(i=0),e instanceof Wt||(i*=e.negative?-1:1),new("seconds"==t?Dt:ln)(i)}function ei(e,t){if(null==e)return null;var n,i,r=e instanceof dt?new dt(e.year,e.month,e.day,e.timezone,e.negative):e instanceof Wt?new Wt(e.hours,e.minutes,e.seconds,e.timezone,e.negative):new gt(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative);return null==t?r.timezone=null:(n=Bn(t)/60,null!=e.timezone&&(i=n-e.timezone,e instanceof dt?i<0&&r.day--:(r.minutes+=i%60,r.hours+=~~(i/60)),Et(r)),r.timezone=n),r}function ti(e,t){if(!e.length)return!1;var n=e[0];if(t.DOMAdapter.isNode(n))return!0;if(1!=e.length)throw new T("FORG0006","Effective boolean value is not defined for a sequence of two or more items");if(n instanceof pt)return n.value.valueOf();if(n instanceof Qt)return!!n.valueOf().length;if(st(n))return!(o(n.valueOf())||0==n.valueOf());throw new T("FORG0006","Effective boolean value is defined only for sequences containing booleans, strings, numbers, URIs, or nodes")}function ni(e,t){for(var n,i=[],r=0,o=e.length;r<o;r++){if((u=null)==(n=e[r]))u=null;else if(t.DOMAdapter.isNode(n)){var a=t.DOMAdapter.getProperty;switch(a(n,"nodeType")){case 1:u=new tn(a(n,"textContent"));break;case 2:u=new tn(a(n,"value"));break;case 3:case 4:case 8:case 7:u=new tn(a(n,"data"));break;case 9:var s=a(n,"documentElement"),u=new tn(s?a(s,"textContent"):"")}}else n instanceof at&&(u=n);null!=u&&i.push(u)}return i}function ii(e,i){return e.sort(function(e,t){var n=i.DOMAdapter.compareDocumentPosition(e,t);return 2&n?1:4&n?-1:0})}function ri(e,t){var n="À-ÖØ-öø-˿",i="Ͱ-ͽͿ-῿‌-‍",r="⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",o="A-Z_a-z\\-.0-9·"+n+"̀-ͯ"+i+"‿-⁀"+r,a="A-Z_a-z"+n+i+r;if(e=e.replace(/\[\\i-\[:\]\]/g,"["+a+"]").replace(/\[\\c-\[:\]\]/g,"["+o+"]").replace(/\\i/g,"[:"+a+"]").replace(/\\I/g,"[^:"+a+"]").replace(/\\c/g,"[:"+o+"]").replace(/\\C/g,"[^:"+o+"]"),t&&!t.match(/^[smix]+$/))throw new T("FORX0001");var s=0<=t.indexOf("s"),u=0<=t.indexOf("x");if(s||u){t=t.replace(/[sx]/g,"");for(var l,c=[],f=/\s/,p=0,h=e.length,d=!1,m="";p<h;p++)l=e.charAt(p),"\\"!=m&&("["==l?d=!0:"]"==l&&(d=!1)),!d&&u&&f.test(l)||(c[c.length]=!d&&s&&"."==l&&"\\"!=m?"(?:.|\\s)":l),m=l;e=c.join("")}return new y(e,t+"g")}ln.cast=function(e){if(e instanceof ln)return e;if(e instanceof Qt||e instanceof tn){if(d(e).match(cn))return new ln(~~e);throw new T("FORG0001")}if(e instanceof pt)return new ln(+e);if(st(e)){if(o(e)||!t(e))throw new T("FOCA0002","Cannot convert '"+e+"' to xs:integer");return new ln(~~e)}throw new T("XPTY0004","Casting value '"+e+"' to xs:integer can never succeed")},R("integer",ln),(fn.prototype=new ln).builtInKind=k.NONPOSITIVEINTEGER_DT,fn.cast=function(e){return new fn(a(e))},R("nonPositiveInteger",fn),(pn.prototype=new fn).builtInKind=k.NEGATIVEINTEGER_DT,pn.cast=function(e){return new pn(a(e))},R("negativeInteger",pn),(hn.prototype=new ln).builtInKind=k.LONG_DT,hn.cast=function(e){return new hn(a(e))},R("long",hn),(dn.prototype=new hn).builtInKind=k.INT_DT,dn.cast=function(e){return new dn(a(e))},R("int",dn),(mn.prototype=new dn).builtInKind=k.SHORT_DT,mn.cast=function(e){return new mn(a(e))},R("short",mn),(yn.prototype=new mn).builtInKind=k.BYTE_DT,yn.cast=function(e){return new yn(a(e))},R("byte",yn),(vn.prototype=new ln).builtInKind=k.NONNEGATIVEINTEGER_DT,vn.cast=function(e){return new vn(a(e))},R("nonNegativeInteger",vn),(wn.prototype=new vn).builtInKind=k.POSITIVEINTEGER_DT,wn.cast=function(e){return new wn(a(e))},R("positiveInteger",wn),(gn.prototype=new vn).builtInKind=k.UNSIGNEDLONG_DT,gn.cast=function(e){return new gn(a(e))},R("unsignedLong",gn),(Tn.prototype=new vn).builtInKind=k.UNSIGNEDINT_DT,Tn.cast=function(e){return new Tn(a(e))},R("unsignedInt",Tn),(xn.prototype=new Tn).builtInKind=k.UNSIGNEDSHORT_DT,xn.cast=function(e){return new xn(a(e))},R("unsignedShort",xn),(bn.prototype=new xn).builtInKind=k.UNSIGNEDBYTE_DT,bn.cast=function(e){return new bn(a(e))},R("unsignedByte",bn),(Nn.prototype=new Qt).builtInKind=k.NORMALIZEDSTRING_DT,Nn.cast=function(e){return new Nn(p(e))},R("normalizedString",Nn),(In.prototype=new Nn).builtInKind=k.TOKEN_DT,In.cast=function(e){return new In(p(e))},R("token",In),(En.prototype=new In).builtInKind=k.NAME_DT,En.cast=function(e){return new En(p(e))},R("Name",En),(Dn.prototype=new En).builtInKind=k.NCNAME_DT,Dn.cast=function(e){return new Dn(p(e))},R("NCName",Dn),(On.prototype=new Dn).builtInKind=k.ENTITY_DT,On.cast=function(e){return new On(p(e))},R("ENTITY",On),(Sn.prototype=new Dn).builtInKind=k.ID_DT,Sn.cast=function(e){return new Sn(p(e))},R("ID",Sn),(An.prototype=new In).builtInKind=k.LANGUAGE_DT,An.cast=function(e){return new An(p(e))},R("language",An),(Pn.prototype=new In).builtInKind=k.NMTOKEN_DT,Pn.cast=function(e){return new Pn(p(e))},R("NMTOKEN",Pn),Mn.prototype=new Rn,Cn.prototype=new Mn,kn.prototype=new Mn,Xn.prototype=new Mn,Fn.prototype=new Mn,_n.prototype=new Mn,zn.prototype=new Mn,A["hexBinary-equal"]=function(e,t){return new pt(e.valueOf()==t.valueOf())},A["base64Binary-equal"]=function(e,t){return new pt(e.valueOf()==t.valueOf())},A["boolean-equal"]=function(e,t){return new pt(e.valueOf()==t.valueOf())},A["boolean-less-than"]=function(e,t){return new pt(e.valueOf()<t.valueOf())},A["boolean-greater-than"]=function(e,t){return new pt(e.valueOf()>t.valueOf())},A["yearMonthDuration-less-than"]=function(e,t){return new pt(Kn(e)<Kn(t))},A["yearMonthDuration-greater-than"]=function(e,t){return new pt(Kn(e)>Kn(t))},A["dayTimeDuration-less-than"]=function(e,t){return new pt(Bn(e)<Bn(t))},A["dayTimeDuration-greater-than"]=function(e,t){return new pt(Bn(e)>Bn(t))},A["duration-equal"]=function(e,t){return new pt(e.negative==t.negative&&Kn(e)==Kn(t)&&Bn(e)==Bn(t))},A["dateTime-equal"]=function(e,t){return qn(e,t,"eq")},A["dateTime-less-than"]=function(e,t){return qn(e,t,"lt")},A["dateTime-greater-than"]=function(e,t){return qn(e,t,"gt")},A["date-equal"]=function(e,t){return Un(e,t,"eq")},A["date-less-than"]=function(e,t){return Un(e,t,"lt")},A["date-greater-than"]=function(e,t){return Un(e,t,"gt")},A["time-equal"]=function(e,t){return Yn(e,t,"eq")},A["time-less-than"]=function(e,t){return Yn(e,t,"lt")},A["time-greater-than"]=function(e,t){return Yn(e,t,"gt")},A["gYearMonth-equal"]=function(e,t){return qn(new gt(e.year,e.month,vt(e.year,e.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new gt(t.year,t.month,vt(t.year,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},A["gYear-equal"]=function(e,t){return qn(new gt(e.year,1,1,0,0,0,null==e.timezone?this.timezone:e.timezone),new gt(t.year,1,1,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},A["gMonthDay-equal"]=function(e,t){return qn(new gt(1972,e.month,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new gt(1972,t.month,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},A["gMonth-equal"]=function(e,t){return qn(new gt(1972,e.month,vt(1972,t.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new gt(1972,t.month,vt(1972,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},A["gDay-equal"]=function(e,t){return qn(new gt(1972,12,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new gt(1972,12,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},A["add-yearMonthDurations"]=function(e,t){return Vn(Kn(e)+Kn(t))},A["subtract-yearMonthDurations"]=function(e,t){return Vn(Kn(e)-Kn(t))},A["multiply-yearMonthDuration"]=function(e,t){return Vn(Kn(e)*t)},A["divide-yearMonthDuration"]=function(e,t){return Vn(Kn(e)/t)},A["divide-yearMonthDuration-by-yearMonthDuration"]=function(e,t){return new Dt(Kn(e)/Kn(t))},A["add-dayTimeDurations"]=function(e,t){return jn(Bn(e)+Bn(t))},A["subtract-dayTimeDurations"]=function(e,t){return jn(Bn(e)-Bn(t))},A["multiply-dayTimeDuration"]=function(e,t){return jn(Bn(e)*t)},A["divide-dayTimeDuration"]=function(e,t){return jn(Bn(e)/t)},A["divide-dayTimeDuration-by-dayTimeDuration"]=function(e,t){return new Dt(Bn(e)/Bn(t))},A["subtract-dateTimes"]=function(e,t){return jn($n(e)-$n(t))},A["subtract-dates"]=function(e,t){return jn($n(e)-$n(t))},A["subtract-times"]=function(e,t){return jn(Hn(e)-Hn(t))},A["add-yearMonthDuration-to-dateTime"]=function(e,t){return Ln(e,t,"+")},A["add-dayTimeDuration-to-dateTime"]=function(e,t){return Gn(e,t,"+")},A["subtract-yearMonthDuration-from-dateTime"]=function(e,t){return Ln(e,t,"-")},A["subtract-dayTimeDuration-from-dateTime"]=function(e,t){return Gn(e,t,"-")},A["add-yearMonthDuration-to-date"]=function(e,t){return Ln(e,t,"+")},A["add-dayTimeDuration-to-date"]=function(e,t){return Gn(e,t,"+")},A["subtract-yearMonthDuration-from-date"]=function(e,t){return Ln(e,t,"-")},A["subtract-dayTimeDuration-from-date"]=function(e,t){return Gn(e,t,"-")},A["add-dayTimeDuration-to-time"]=function(e,t){var n=new Wt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours+=t.hours,n.minutes+=t.minutes,n.seconds+=t.seconds,en(n)},A["subtract-dayTimeDuration-from-time"]=function(e,t){var n=new Wt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours-=t.hours,n.minutes-=t.minutes,n.seconds-=t.seconds,en(n)},A["is-same-node"]=function(e,t){return new pt(this.DOMAdapter.isSameNode(e,t))},A["node-before"]=function(e,t){return new pt(!!(4&this.DOMAdapter.compareDocumentPosition(e,t)))},A["node-after"]=function(e,t){return new pt(!!(2&this.DOMAdapter.compareDocumentPosition(e,t)))},A["numeric-add"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),r=m.pow(10,Zn(n,i));return Qn(e,t,(n*r+i*r)/r)},A["numeric-subtract"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),r=m.pow(10,Zn(n,i));return Qn(e,t,(n*r-i*r)/r)},A["numeric-multiply"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),r=m.pow(10,Zn(n,i));return Qn(e,t,n*r*(i*r)/(r*r))},A["numeric-divide"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),r=m.pow(10,Zn(n,i));return Qn(e,t,e*r/(t*r))},A["numeric-integer-divide"]=function(e,t){return new ln(~~(e/t))},A["numeric-mod"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),r=m.pow(10,Zn(n,i));return Qn(e,t,n*r%(i*r)/r)},A["numeric-unary-plus"]=function(e){return e},A["numeric-unary-minus"]=function(e){return e.value*=-1,e},A["numeric-equal"]=function(e,t){return new pt(e.valueOf()==t.valueOf())},A["numeric-less-than"]=function(e,t){return new pt(e.valueOf()<t.valueOf())},A["numeric-greater-than"]=function(e,t){return new pt(e.valueOf()>t.valueOf())},A["QName-equal"]=function(e,t){return new pt(e.localName==t.localName&&e.namespaceURI==t.namespaceURI)},A.concatenate=function(e,t){return e.concat(t)},A.union=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){if(!this.DOMAdapter.isNode(o=e[i]))throw new T("XPTY0004","Required item type of first operand of 'union' is node()");-1==v(n,o)&&n.push(o)}for(var o,i=0,r=t.length;i<r;i++){if(!this.DOMAdapter.isNode(o=t[i]))throw new T("XPTY0004","Required item type of second operand of 'union' is node()");-1==v(n,o)&&n.push(o)}return ii(n,this)},A.intersect=function(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++){if(!this.DOMAdapter.isNode(n=e[o]))throw new T("XPTY0004","Required item type of second operand of 'intersect' is node()");i=!1;for(var s=0,u=t.length;s<u&&!i;s++){if(!this.DOMAdapter.isNode(t[s]))throw new T("XPTY0004","Required item type of first operand of 'intersect' is node()");i=this.DOMAdapter.isSameNode(t[s],n)}i&&-1==v(r,n)&&r.push(n)}return ii(r,this)},A.except=function(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++){if(!this.DOMAdapter.isNode(n=e[o]))throw new T("XPTY0004","Required item type of second operand of 'except' is node()");i=!1;for(var s=0,u=t.length;s<u&&!i;s++){if(!this.DOMAdapter.isNode(t[s]))throw new T("XPTY0004","Required item type of first operand of 'except' is node()");i=this.DOMAdapter.isSameNode(t[s],n)}i||-1!=v(r,n)||r.push(n)}return ii(r,this)},A.to=function(e,t){for(var n=[],i=e.valueOf(),r=t.valueOf();i<=r;i++)n.push(new ln(i));return n},P("node-name",[[Mn,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;switch(t(e,"nodeType")){case 1:case 2:return new $t(t(e,"prefix"),t(e,"localName"),t(e,"namespaceURI"));case 5:case 6:throw"Not implemented";case 7:return new $t(null,t(e,"target"),null);case 10:return new $t(null,t(e,"name"),null)}}return null}),P("nilled",[[Mn,"?"]],function(e){return null!=e&&1==this.DOMAdapter.getProperty(e,"nodeType")?new pt(!1):null}),P("string",[[Rn,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new T("XPDY0002");e=this.item}return null==e?new Qt(""):Qt.cast(ni([e],this)[0])}),P("data",[[Rn,"*"]],function(e){return ni(e,this)}),P("base-uri",[[Mn,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","base-uri() function called when the context item is not a node");e=this.item}return ut.cast(new Qt(this.DOMAdapter.getProperty(e,"baseURI")||""))}),P("document-uri",[[Mn,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;if(9==t(e,"nodeType"))return ut.cast(new Qt(t(e,"documentURI")||""))}return null}),P("resolve-uri",[[Qt,"?"],[Qt,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","resolve-uri() function called when the context item is not a node");t=new Qt(this.DOMAdapter.getProperty(this.item,"baseURI")||"")}if(null==e)return null;if(""==e.valueOf()||"#"==e.valueOf().charAt(0))return ut.cast(t);var n=ut.cast(e);if(n.scheme)return n;var i=ut.cast(t);if(n.scheme=i.scheme,!n.authority&&(n.authority=i.authority,"/"!=n.path.charAt(0))){var r=n.path.split("/"),o=i.path.split("/");o.pop();for(var a=""==o[0]?1:0,s=0,u=r.length;s<u;s++)".."==r[s]?o.length>a?o.pop():(o.push(r[s]),a++):"."!=r[s]&&o.push(r[s]);".."!=r[--s]&&"."!=r[s]||o.push(""),n.path=o.join("/")}return n}),P("true",[],function(){return new pt(!0)}),P("false",[],function(){return new pt(!1)}),P("not",[[Rn,"*"]],function(e){return new pt(!ti(e,this))}),P("position",[],function(){return new ln(this.position)}),P("last",[],function(){return new ln(this.size)}),P("current-dateTime",[],function(){return this.dateTime}),P("current-date",[],function(){return dt.cast(this.dateTime)}),P("current-time",[],function(){return Wt.cast(this.dateTime)}),P("implicit-timezone",[],function(){return this.timezone}),P("default-collation",[],function(){return new Qt(this.staticContext.defaultCollationName)}),P("static-base-uri",[],function(){return ut.cast(new Qt(this.staticContext.baseURI||""))}),P("years-from-duration",[[Pt,"?"]],function(e){return Wn(e,"year")}),P("months-from-duration",[[Pt,"?"]],function(e){return Wn(e,"month")}),P("days-from-duration",[[Pt,"?"]],function(e){return Wn(e,"day")}),P("hours-from-duration",[[Pt,"?"]],function(e){return Wn(e,"hours")}),P("minutes-from-duration",[[Pt,"?"]],function(e){return Wn(e,"minutes")}),P("seconds-from-duration",[[Pt,"?"]],function(e){return Wn(e,"seconds")}),P("year-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"year")}),P("month-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"month")}),P("day-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"day")}),P("hours-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"hours")}),P("minutes-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"minutes")}),P("seconds-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"seconds")}),P("timezone-from-dateTime",[[gt,"?"]],function(e){return Jn(e,"timezone")}),P("year-from-date",[[dt,"?"]],function(e){return Jn(e,"year")}),P("month-from-date",[[dt,"?"]],function(e){return Jn(e,"month")}),P("day-from-date",[[dt,"?"]],function(e){return Jn(e,"day")}),P("timezone-from-date",[[dt,"?"]],function(e){return Jn(e,"timezone")}),P("hours-from-time",[[Wt,"?"]],function(e){return Jn(e,"hours")}),P("minutes-from-time",[[Wt,"?"]],function(e){return Jn(e,"minutes")}),P("seconds-from-time",[[Wt,"?"]],function(e){return Jn(e,"seconds")}),P("timezone-from-time",[[Wt,"?"]],function(e){return Jn(e,"timezone")}),P("adjust-dateTime-to-timezone",[[gt,"?"],[an,"?",!0]],function(e,t){return ei(e,1<arguments.length&&null!=t?1<arguments.length?t:this.timezone:null)}),P("adjust-date-to-timezone",[[dt,"?"],[an,"?",!0]],function(e,t){return ei(e,1<arguments.length&&null!=t?1<arguments.length?t:this.timezone:null)}),P("adjust-time-to-timezone",[[Wt,"?"],[an,"?",!0]],function(e,t){return ei(e,1<arguments.length&&null!=t?1<arguments.length?t:this.timezone:null)}),P("name",[[Mn,"?",!0]],function(e){if(arguments.length){if(null==e)return new Qt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","name() function called when the context item is not a node");e=this.item}var t=D["node-name"].call(this,e);return new Qt(null==t?"":t.toString())}),P("local-name",[[Mn,"?",!0]],function(e){if(arguments.length){if(null==e)return new Qt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","local-name() function called when the context item is not a node");e=this.item}return new Qt(this.DOMAdapter.getProperty(e,"localName")||"")}),P("namespace-uri",[[Mn,"?",!0]],function(e){if(arguments.length){if(null==e)return ut.cast(new Qt(""))}else{if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","namespace-uri() function called when the context item is not a node");e=this.item}return ut.cast(new Qt(this.DOMAdapter.getProperty(e,"namespaceURI")||""))}),P("number",[[at,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new T("XPDY0002");e=ni([this.item],this)[0]}var t=new St(i);if(null!=e)try{t=St.cast(e)}catch(n){}return t}),P("lang",[[Qt,"?"],[Mn,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","lang() function called when the context item is not a node");t=this.item}var n,i=this.DOMAdapter.getProperty;for(2==i(t,"nodeType")&&(t=i(t,"ownerElement"));t;t=i(t,"parentNode"))if(n=i(t,"attributes"))for(var r=0,o=n.length;r<o;r++)if("xml:lang"==i(n[r],"nodeName"))return new pt(i(n[r],"value").replace(/-.+/,"").toLowerCase()==e.valueOf().replace(/-.+/,"").toLowerCase());return new pt(!1)}),P("root",[[Mn,"?",!0]],function(e){if(arguments.length){if(null==e)return null}else{if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","root() function called when the context item is not a node");e=this.item}var t=this.DOMAdapter.getProperty;2==t(e,"nodeType")&&(e=t(e,"ownerElement"));for(var n=e;n;n=t(e,"parentNode"))e=n;return e}),P("abs",[[St,"?"]],function(e){return new Dt(m.abs(e))}),P("ceiling",[[St,"?"]],function(e){return new Dt(m.ceil(e))}),P("floor",[[St,"?"]],function(e){return new Dt(m.floor(e))}),P("round",[[St,"?"]],function(e){return new Dt(m.round(e))}),P("round-half-to-even",[[St,"?"],[ln,"",!0]],function(e,t){var n=1<arguments.length?t.valueOf():0;if(n<0){var i=new ln(m.pow(10,-n)),r=new ln(o=m.round(A["numeric-divide"].call(this,e,i)));return nDecimal=m.abs(A["numeric-subtract"].call(this,r,A["numeric-divide"].call(this,e,i))),A["numeric-multiply"].call(this,A["numeric-add"].call(this,r,new Dt(.5==nDecimal&&o%2?-1:0)),i)}var o,i=new ln(m.pow(10,n)),r=new ln(o=m.round(A["numeric-multiply"].call(this,e,i)));return nDecimal=m.abs(A["numeric-subtract"].call(this,r,A["numeric-multiply"].call(this,e,i))),A["numeric-divide"].call(this,A["numeric-add"].call(this,r,new Dt(.5==nDecimal&&o%2?-1:0)),i)}),P("resolve-QName",[[Qt,"?"],[Fn]],function(e,t){if(null==e)return null;var n=e.valueOf(),i=n.match(Zt);if(!i)throw new T("FOCA0002","Invalid QName '"+n+"'");var r=i[1]||null,o=i[2],a=this.DOMAdapter.lookupNamespaceURI(t,r);if(null!=r&&!a)throw new T("FONS0004","Namespace prefix '"+r+"' has not been declared");return new $t(r,o,a||null)}),P("QName",[[Qt,"?"],[Qt]],function(e,t){var n=t.valueOf(),i=n.match(Zt);if(!i)throw new T("FOCA0002","Invalid QName '"+n+"'");return new $t(i[1]||null,i[2]||null,null==e?"":e.valueOf())}),P("prefix-from-QName",[[$t,"?"]],function(e){return null!=e&&e.prefix?new Dn(e.prefix):null}),P("local-name-from-QName",[[$t,"?"]],function(e){return null==e?null:new Dn(e.localName)}),P("namespace-uri-from-QName",[[$t,"?"]],function(e){return null==e?null:ut.cast(new Qt(e.namespaceURI||""))}),P("namespace-uri-for-prefix",[[Qt,"?"],[Fn]],function(e,t){var n=null==e?"":e.valueOf(),i=this.DOMAdapter.lookupNamespaceURI(t,n||null);return null==i?null:ut.cast(new Qt(i))}),P("in-scope-prefixes",[[Fn]],function(e){throw"Function 'in-scope-prefixes' not implemented"}),P("boolean",[[Rn,"*"]],function(e){return new pt(ti(e,this))}),P("index-of",[[at,"*"],[at],[Qt,"",!0]],function(e,t,n){if(!e.length||null==t)return[];var i=t;i instanceof tn&&(i=Qt.cast(i));for(var r,o=[],a=0,s=e.length;a<s;a++)(r=e[a])instanceof tn&&(r=Qt.cast(r)),r.valueOf()===i.valueOf()&&o.push(new ln(a+1));return o}),P("empty",[[Rn,"*"]],function(e){return new pt(!e.length)}),P("exists",[[Rn,"*"]],function(e){return new pt(!!e.length)}),P("distinct-values",[[at,"*"],[Qt,"",!0]],function(e,t){if(!e.length)return null;for(var n,i=[],r=0,o=e.length;r<o;r++){(n=e[r])instanceof tn&&(n=Qt.cast(n));for(var a,s=0,u=i.length,l=!1;s<u&&!l;s++)(a=i[s])instanceof tn&&(a=Qt.cast(a)),a.valueOf()===n.valueOf()&&(l=!0);l||i.push(e[r])}return i}),P("insert-before",[[Rn,"*"],[ln],[Rn,"*"]],function(e,t,n){if(!e.length)return n;if(!n.length)return e;var i=e.length,r=t.valueOf();r<1?r=1:i<r&&(r=i+1);for(var o=[],a=0;a<i;a++)r==a+1&&(o=o.concat(n)),o.push(e[a]);return r==a+1&&(o=o.concat(n)),o}),P("remove",[[Rn,"*"],[ln]],function(e,t){if(!e.length)return[];var n=e.length,i=t.valueOf();if(i<1||n<i)return e;for(var r=[],o=0;o<n;o++)i!=o+1&&r.push(e[o]);return r}),P("reverse",[[Rn,"*"]],function(e){return e.reverse(),e}),P("subsequence",[[Rn,"*"],[St,""],[St,"",!0]],function(e,t,n){var i=m.round(t),r=2<arguments.length?m.round(n):e.length-i+1;return e.slice(i-1,i-1+r)}),P("unordered",[[Rn,"*"]],function(e){return e}),P("zero-or-one",[[Rn,"*"]],function(e){if(1<e.length)throw new T("FORG0003");return e}),P("one-or-more",[[Rn,"*"]],function(e){if(!e.length)throw new T("FORG0004");return e}),P("exactly-one",[[Rn,"*"]],function(e){if(1!=e.length)throw new T("FORG0005");return e}),P("deep-equal",[[Rn,"*"],[Rn,"*"],[Qt,"",!0]],function(e,t,n){throw"Function 'deep-equal' not implemented"}),P("count",[[Rn,"*"]],function(e){return new ln(e.length)}),P("avg",[[at,"*"]],function(e){if(!e.length)return null;try{var t=e[0];t instanceof tn&&(t=St.cast(t));for(var n,i=1,r=e.length;i<r;i++)(n=e[i])instanceof tn&&(n=St.cast(n)),t=J["+"](t,n,this);return ne.div(t,new ln(r),this)}catch(o){throw"XPTY0004"!=o.code?o:new T("FORG0006","Input to avg() contains a mix of types")}}),P("max",[[at,"*"],[Qt,"",!0]],function(e,t){if(!e.length)return null;try{for(var n=e[0],i=1,r=e.length;i<r;i++)H.ge(e[i],n,this).valueOf()&&(n=e[i]);return n}catch(o){throw"XPTY0004"!=o.code?o:new T("FORG0006","Input to max() contains a mix of not comparable values")}}),P("min",[[at,"*"],[Qt,"",!0]],function(e,t){if(!e.length)return null;try{for(var n=e[0],i=1,r=e.length;i<r;i++)H.le(e[i],n,this).valueOf()&&(n=e[i]);return n}catch(o){throw"XPTY0004"!=o.code?o:new T("FORG0006","Input to min() contains a mix of not comparable values")}}),P("sum",[[at,"*"],[at,"?",!0]],function(e,t){if(!e.length)return 1<arguments.length?t:new St(0);try{var n=e[0];n instanceof tn&&(n=St.cast(n));for(var i,r=1,o=e.length;r<o;r++)(i=e[r])instanceof tn&&(i=St.cast(i)),n=J["+"](n,i,this);return n}catch(a){throw"XPTY0004"!=a.code?a:new T("FORG0006","Input to sum() contains a mix of types")}}),P("id",[[Qt,"*"],[Mn,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new T("XPTY0004","id() function called when the context item is not a node");t=this.item}var n=D.root.call(this,t);if(9!=this.DOMAdapter.getProperty(n,"nodeType"))throw new T("FODC0001");for(var i=[],r=0;r<e.length;r++)for(var o=0,a=d(e[r]).split(/\s+/),s=a.length;o<s;o++)(t=this.DOMAdapter.getElementById(n,a[o]))&&-1==v(i,t)&&i.push(t);return ii(i,this)}),P("idref",[[Qt,"*"],[Mn,"",!0]],function(e,t){throw"Function 'idref' not implemented"}),P("doc",[[Qt,"?",!0]],function(e){throw"Function 'doc' not implemented"}),P("doc-available",[[Qt,"?",!0]],function(e){throw"Function 'doc-available' not implemented"}),P("collection",[[Qt,"?",!0]],function(e){throw"Function 'collection' not implemented"}),P("element-with-id",[[Qt,"*"],[Mn,"",!0]],function(e,t){throw"Function 'element-with-id' not implemented"}),P("codepoints-to-string",[[ln,"*"]],function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(p.fromCharCode(e[n]));return new Qt(t.join(""))}),P("string-to-codepoints",[[Qt,"?"]],function(e){if(null==e)return null;var t=e.valueOf();if(""==t)return[];for(var n=[],i=0,r=t.length;i<r;i++)n.push(new ln(t.charCodeAt(i)));return n}),P("compare",[[Qt,"?"],[Qt,"?"],[Qt,"",!0]],function(e,t,n){if(null==e||null==t)return null;var i,r=this.staticContext.defaultCollationName;if(2<arguments.length&&(r=n.valueOf()),!(i=r==g+"/collation/codepoint"?oi:this.staticContext.getCollation(r)))throw new T("FOCH0002","Unknown collation {"+r+"}");return new ln(i.compare(e.valueOf(),t.valueOf()))}),P("codepoint-equal",[[Qt,"?"],[Qt,"?"]],function(e,t){return null==e||null==t?null:new pt(e.valueOf()==t.valueOf())}),P("concat",null,function(){if(arguments.length<2)throw new T("XPST0017","Function concat() must have at least 2 arguments");for(var e,t=[],n=0,i=arguments.length;n<i;n++)Ye(0,e=arguments[n],"?","each argument of concat()"),e.length&&(t[t.length]=Qt.cast(ni(e,this)[0]).valueOf());return new Qt(t.join(""))}),P("string-join",[[Qt,"*"],[Qt]],function(e,t){return new Qt(e.join(t))}),P("substring",[[Qt,"?"],[St],[St,"",!0]],function(e,t,n){var i=null==e?"":e.valueOf(),r=m.round(t)-1,o=2<arguments.length?r+m.round(n):i.length;return new Qt(r<o?i.substring(r,o):"")}),P("string-length",[[Qt,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new T("XPDY0002");e=Qt.cast(ni([this.item],this)[0])}return new ln(null==e?0:e.valueOf().length)}),P("normalize-space",[[Qt,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new T("XPDY0002");e=Qt.cast(ni([this.item],this)[0])}return new Qt(null==e?"":d(e).replace(/\s\s+/g," "))}),P("normalize-unicode",[[Qt,"?"],[Qt,"",!0]],function(e,t){throw"Function 'normalize-unicode' not implemented"}),P("upper-case",[[Qt,"?"]],function(e){return new Qt(null==e?"":e.valueOf().toUpperCase())}),P("lower-case",[[Qt,"?"]],function(e){return new Qt(null==e?"":e.valueOf().toLowerCase())}),P("translate",[[Qt,"?"],[Qt],[Qt]],function(e,t,n){if(null==e)return new Qt("");for(var i,r=e.valueOf().split(""),o=t.valueOf().split(""),a=n.valueOf().split(""),s=a.length,u=[],l=0,c=r.length;l<c;l++)-1==(i=o.indexOf(r[l]))?u[u.length]=r[l]:i<s&&(u[u.length]=a[i]);return new Qt(u.join(""))}),P("encode-for-uri",[[Qt,"?"]],function(e){return new Qt(null==e?"":window.encodeURIComponent(e))}),P("iri-to-uri",[[Qt,"?"]],function(e){return new Qt(null==e?"":window.encodeURI(window.decodeURI(e)))}),P("escape-html-uri",[[Qt,"?"]],function(e){if(null==e||""==e.valueOf())return new Qt("");for(var t,n=e.valueOf().split(""),i=0,r=n.length;i<r;i++)((t=n[i].charCodeAt(0))<32||126<t)&&(n[i]=window.encodeURIComponent(n[i]));return new Qt(n.join(""))}),P("contains",[[Qt,"?"],[Qt,"?"],[Qt,"",!0]],function(e,t,n){return new pt(0<=(null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf()))}),P("starts-with",[[Qt,"?"],[Qt,"?"],[Qt,"",!0]],function(e,t,n){return new pt(0==(null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf()))}),P("ends-with",[[Qt,"?"],[Qt,"?"],[Qt,"",!0]],function(e,t,n){var i=null==e?"":e.valueOf(),r=null==t?"":t.valueOf();return new pt(i.indexOf(r)==i.length-r.length)}),P("substring-before",[[Qt,"?"],[Qt,"?"],[Qt,"",!0]],function(e,t,n){var i,r=null==e?"":e.valueOf(),o=null==t?"":t.valueOf();return new Qt(0<=(i=r.indexOf(o))?r.substring(0,i):"")}),P("substring-after",[[Qt,"?"],[Qt,"?"],[Qt,"",!0]],function(e,t,n){var i,r=null==e?"":e.valueOf(),o=null==t?"":t.valueOf();return new Qt(0<=(i=r.indexOf(o))?r.substring(i+o.length):"")}),P("matches",[[Qt,"?"],[Qt],[Qt,"",!0]],function(e,t,n){var i=null==e?"":e.valueOf();return new pt(ri(t.valueOf(),2<arguments.length?n.valueOf():"").test(i))}),P("replace",[[Qt,"?"],[Qt],[Qt],[Qt,"",!0]],function(e,t,n,i){var r=null==e?"":e.valueOf(),o=ri(t.valueOf(),3<arguments.length?i.valueOf():"");return new pt(r.replace(o,n.valueOf()))}),P("tokenize",[[Qt,"?"],[Qt],[Qt,"",!0]],function(e,t,n){for(var i=null==e?"":e.valueOf(),r=ri(t.valueOf(),2<arguments.length?n.valueOf():""),o=[],a=0,s=i.split(r),u=s.length;a<u;a++)o.push(new Qt(s[a]));return o}),P("trace",[[Rn,"*"],[Qt]],function(e,t){var n=window.console;return n&&n.log&&n.log(t.valueOf(),e),e});var oi=new C;oi.equals=function(e,t){return e==t},oi.compare=function(e,t){return e==t?0:t<e?1:-1};var ai=function(){};function si(){}ai.prototype.nodeType=2,ai.prototype.nodeName=ai.prototype.nodeValue=ai.prototype.ownerDocument=ai.prototype.localName=ai.prototype.namespaceURI=ai.prototype.prefix=ai.prototype.attributes=ai.prototype.childNodes=ai.prototype.firstChild=ai.prototype.lastChild=ai.prototype.previousSibling=ai.prototype.nextSibling=ai.prototype.parentNode=ai.prototype.name=ai.prototype.specified=ai.prototype.value=ai.prototype.ownerElement=null,si.prototype=new b;var ui=new I;si.prototype.getProperty=function(e,t){if(t in e)return e[t];if("baseURI"==t){for(var n,i="",r=ui.getFunction("{http://www.w3.org/2005/xpath-functions}resolve-uri"),o=ui.getDataType("{http://www.w3.org/2001/XMLSchema}string"),a=e;a;a=a.parentNode)1==a.nodeType&&(n=a.getAttribute("xml:base"))&&(i=r(new o(n),new o(i)).toString());return i}if("textContent"==t){var s=[];return function(e){for(var t,n=0;t=e.childNodes[n];n++)3==t.nodeType||4==t.nodeType?s.push(t.data):1==t.nodeType&&t.firstChild&&arguments.callee(t)}(e),s.join("")}},si.prototype.compareDocumentPosition=function(e,t){if("compareDocumentPosition"in e)return e.compareDocumentPosition(t);if(t==e)return 0;var n,i,r,o,a,s=null,u=null;if(2==e.nodeType&&(s=e,e=this.getProperty(s,"ownerElement")),2==t.nodeType&&(u=t,t=this.getProperty(u,"ownerElement")),s&&u&&e&&e==t)for(o=0,a=(n=this.getProperty(e,"attributes")).length;o<a;o++){if((i=n[o])==s)return 36;if(i==u)return 34}var l,c,f,p,h=[],d=[];for(s&&h.push(s),r=e;r;r=r.parentNode)h.push(r);for(u&&d.push(u),r=t;r;r=r.parentNode)d.push(r);if((e.ownerDocument||e)!=(t.ownerDocument||t)||h[h.length-1]!=d[d.length-1])return 33;for(o=m.min(l=h.length,f=d.length);o;--o)if((c=h[--l])!=(p=d[--f])){if(2==c.nodeType)return 4;if(2==p.nodeType)return 2;if(!p.nextSibling)return 4;if(!c.nextSibling)return 2;for(r=p.previousSibling;r;r=r.previousSibling)if(r==c)return 4;return 2}return l<f?20:10},si.prototype.lookupNamespaceURI=function(e,t){if("lookupNamespaceURI"in e)return e.lookupNamespaceURI(t);for(;e&&9!=e.nodeType;e=e.parentNode){if(t==this.getProperty(oChild,"prefix"))return this.getProperty(e,"namespaceURI");if(1==e.nodeType)for(var n=this.getProperty(e,"attributes"),i=0,r=n.length,o="xmlns:"+t;i<r;i++)if(this.getProperty(n[i],"nodeName")==o)return this.getProperty(n[i],"value")}return null},si.prototype.getElementsByTagNameNS=function(e,i,r){if("getElementsByTagNameNS"in e)return e.getElementsByTagNameNS(i,r);var o=[],a="*"==i,s="*"==r;return function(e){for(var t,n=0;t=e.childNodes[n];n++)1==t.nodeType&&(!s&&r!=this.getProperty(t,"localName")||!a&&i!=this.getProperty(t,"namespaceURI")||(o[o.length]=t),t.firstChild&&arguments.callee(t))}(e),o};var li=new si,ci=new si;ci.getProperty=function(e,t){return"localName"==t&&1==e.nodeType?e.localName.toLowerCase():"namespaceURI"==t?1==e.nodeType?"http://www.w3.org/1999/xhtml":null:si.prototype.getProperty.call(this,e,t)};var fi=new si;fi.getProperty=function(e,t){if("localName"==t&&1==e.nodeType)return e.nodeName.toLowerCase();if("prefix"==t)return null;if("namespaceURI"==t)return 1==e.nodeType?"http://www.w3.org/1999/xhtml":null;if("textContent"==t)return e.innerText;if("attributes"!=t||1!=e.nodeType)return si.prototype.getProperty.call(this,e,t);for(var n,i,r=[],o=0,a=e.attributes,s=a.length;o<s;o++)(n=a[o]).specified&&((i=new ai).ownerElement=e,i.ownerDocument=e.ownerDocument,i.specified=!0,i.value=i.nodeValue=n.nodeValue,i.name=i.nodeName=i.localName=n.nodeName.toLowerCase(),r[r.length]=i);return r};var pi=new si;pi.getProperty=function(e,t){if("localName"==t){if(7==e.nodeType)return null;if(1==e.nodeType)return e.baseName}if("prefix"==t||"namespaceURI"==t)return e[t]||null;if("textContent"==t)return e.text;if("attributes"!=t||1!=e.nodeType)return si.prototype.getProperty.call(this,e,t);for(var n,i,r=[],o=0,a=e.attributes,s=a.length;o<s;o++)(n=a[o]).specified&&((i=new ai).nodeType=2,i.ownerElement=e,i.ownerDocument=e.ownerDocument,i.specified=!0,i.value=i.nodeValue=n.nodeValue,i.name=i.nodeName=n.nodeName,i.localName=n.baseName,i.prefix=n.prefix||null,i.namespaceURI=n.namespaceURI||null,r[r.length]=i);return r},pi.getElementById=function(e,t){return e.nodeFromID(t)};var hi=bi,di=window.document,mi=!1;try{mi=!!di.namespaces&&!di.createElementNS}catch(xi){mi=!di.createElementNS}var yi=!mi&&"http://www.w3.org/1999/xhtml"!=di.documentElement.namespaceURI,vi=new I,wi=new I;function gi(e,t,n){null==t&&(t="");var i=e[0];void 0===i&&(i=null);var r=i&&"DIV"==(9==i.nodeType?i:i.ownerDocument).createElement("div").tagName?vi:wi;r.namespaceResolver=n;var o=new M(p(t),r);r.namespaceResolver=null;var a,s=new hi,u=li;mi?u=r==vi?fi:pi:yi&&r==vi&&(u=ci);for(var l,c=0,f=(a=o.evaluate(new N(r,i,null,u))).length;c<f;c++)s.push(u.isNode(l=a[c])?l:I.xs2js(l));return s}vi.baseURI=di.location.href,vi.defaultFunctionNamespace="http://www.w3.org/2005/xpath-functions",vi.defaultElementNamespace="http://www.w3.org/1999/xhtml",wi.defaultFunctionNamespace=vi.defaultFunctionNamespace;var Ti={xpath:function(e,t,n){return gi(e instanceof hi?e:new hi(e),t,n)}};hi.extend(hi,Ti),Ti={xpath:function(e,t){return gi(this,e,t)}},hi.extend(hi.prototype,Ti)}(),"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("common/jquery/jquery",function(){return bi})}();
var __decorate=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(t,e,n,r){r===undefined&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===undefined&&(r=n),t[r]=e[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),__importStar=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&__createBinding(e,t,n);return __setModuleDefault(e,t),e};define("common/point",["require","exports"],function(t,e){"use strict";e.__esModule=!0,e.ofPoint=e.Point=void 0;var n=(r.prototype.scale=function(t){return o(this.x*t,this.y*t)},r.prototype.scaleInv=function(t){return o(this.x/t,this.y/t)},r.prototype.mathRound=function(){return o(Math.round(this.x),Math.round(this.y))},r.prototype.offset=function(t,e){return o(this.x+t,this.y+e)},r);function r(t,e){this.x=t,this.y=e}function o(t,e){return new n(t,e)}e.Point=n,e.ofPoint=o}),define("common/decorators",["require","exports","common/context"],function(t,e,u){"use strict";e.__esModule=!0,e.log=void 0,e.log=function(a){return void 0===a&&(a="trace"),function(t,e,n){var r,o,i;t[e]=(o=t[r=e],i=a,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.context.logger[i](function(){return r+" called args: "},t);var n=o.apply(this,t);return u.context.logger[i](function(){return r+" finished relult: "},n),n}),n&&n.value&&(n.value=t[e])}}}),define("common/customId",["require","exports","./jquery/jquery","common/context","common/decorators"],function(t,e,o,n,r){"use strict";e.__esModule=!0,e.CustomId=void 0,o=__importDefault(o);var i=(a.prototype.guid=function(){return"xxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},a.prototype.getPrefix=function(){return this.uniquePrefix||(this.uniquePrefix=this.guid()),this.uniquePrefix},a.prototype.generateCustomId=function(t){return t.toLowerCase()+"."+this.getPrefix()+(++this.customeIdCrtValue).toString()},a.prototype.generateCustomIdForElement=function(t,e){if(void 0===e&&(e=""),null===t||t===undefined||1!==t.nodeType)return"";var n=o["default"](t);if(n.attr(this.CUSTOM_ID_ATTR_NAME))return n.attr(this.CUSTOM_ID_ATTR_NAME);var r=e+this.generateCustomId(t.tagName);return n.attr(this.CUSTOM_ID_ATTR_NAME,r),this.cache[r]=t,r},a.prototype.getCustomIdFromElement=function(t){return null===t||t===undefined||1!==t.nodeType?(n.context.logger.trace("getCustomIdFromElement: not dom element"),""):o["default"](t).attr(this.CUSTOM_ID_ATTR_NAME)||""},a.prototype.getShortCustomId=function(t){if(!t)return t;var e=n.context.lodash(t).split("|").last();return n.context.lodash(e).split("_").last()},a.prototype.isCustomIdEqual=function(t,e){return this.getShortCustomId(t)===this.getShortCustomId(e)},a.prototype.testCustomIdInHtml=function(t){var e=this.getShortCustomId(t);return!!o["default"]("["+this.CUSTOM_ID_ATTR_NAME+"='"+e+"']").get(0)},a.prototype.getElementByCustomId=function(t){var e=this.getShortCustomId(t),n=this.cache[e];return n||(n=o["default"]("["+this.CUSTOM_ID_ATTR_NAME+"='"+e+"']").get(0))&&(this.cache[e]=n),n},__decorate([r.log()],a.prototype,"getShortCustomId"),a);function a(){if(this.CUSTOM_ID_ATTR_NAME="clicknium_custom_id",this.cache={},this.customeIdCrtValue=0,this.constructor.instance)return this.constructor.instance;this.constructor.instance=this}e.CustomId=i}),define("common/utils",["require","exports","common/context"],function(require,exports,context_3){"use strict";function getDevicePixelRatio(){if(null!==window.devicePixelRatio&&window.devicePixelRatio!==undefined)return window.devicePixelRatio;var t,e,n;return t=0,e=window.screen,n=navigator.userAgent.toLowerCase(),window.devicePixelRatio!==undefined?t=window.devicePixelRatio:-1!==n.indexOf("msie")?e.deviceXDPI&&e.logicalXDPI&&(t=e.deviceXDPI/e.logicalXDPI):window.outerWidth!==undefined&&window.innerWidth!==undefined&&(t=window.outerWidth/window.innerWidth),+t}function isInSpecialIframe(t){return"IE"!=browserType&&(null==t?void 0:t.sendToFrame)&&"about:blank"==(null==t?void 0:t.additionInfo)}function getCoFrameInfo(t){try{if(!t.sendToFrame&&!t.sendToParent)return{sendToFrame:!1,srcFrameId:t.crtFrameId||0};var e="";if(t.sendToParent){try{e=window.location.href}catch(u){e=""}var n,r=-1;try{window.parent!=window&&null!=window&&(n=window.parent.frames,context_3.context.lodash.forEach(n,function(t,e){try{t==window&&(r=e)}catch(n){}}))}catch(c){}return{srcFrameId:t.crtFrameId||0,sendToChildrenFrameIndex:-1,sendToFrame:!0,sendToParent:t.sendToParent||!1,additionInfo:e,childIndex:r}}var o=-1;if(t.targetFrameElement&&("iframe"===t.targetFrameElement.tagName.toLowerCase()||"frame"===t.targetFrameElement.tagName.toLowerCase())){for(var i=0;i<window.frames.length;++i)if(window.frames[i].window==t.targetFrameElement.contentWindow){o=i;break}try{e=t.targetFrameElement.contentWindow.location.href}catch(u){e=t.targetFrameElement.src}}return{srcFrameId:t.crtFrameId||0,sendToChildrenFrameIndex:o,sendToFrame:-1!==o,sendToParent:t.sendToParent||!1,additionInfo:e,childIndex:getChildFrameIndexByDom(t.targetFrameElement)}}catch(u){context_3.context.logger.debug("getCoFrameInfo using contentWindow error: "+(u.message?u.message:u)+", "+u.stack);try{o=-1;if(t.targetFrameElement&&("iframe"===t.targetFrameElement.tagName.toLowerCase()||"frame"===t.targetFrameElement.tagName.toLowerCase()))for(var a=context_3.context.jQuery(t.targetFrameElement.tagName.toLowerCase()).get(),i=0;i<a.length;++i)if(a[i]===t.targetFrameElement){o=i;break}return{srcFrameId:t.crtFrameId||0,sendToChildrenFrameIndex:o,sendToFrame:-1!==o,sendToParent:t.sendToParent||!1,childIndex:getChildFrameIndexByDom(t.targetFrameElement)}}catch(u){return context_3.context.logger.error("getCoFrameInfo error: "+(u.message?u.message:u)+", "+u.stack),{srcFrameId:t.crtFrameId||0,sendToChildrenFrameIndex:-1,sendToFrame:!1,sendToParent:!1,childIndex:-1}}}}function getChildFrameIndexByDom(t){for(var e=-1,n=context_3.context.jQuery(t.tagName.toLowerCase()).get(),r=0;r<n.length;++r)if(n[r]===t){e=r;break}return e}function getAdditionInfo(t){var e;try{return(e=t.src)!=t.contentWindow.location.href&&(e=t.contentWindow.location.href),e}catch(n){return e}}function getIFrameElementByCoFrameInfo(t){if(-1===(null==t?void 0:t.srcFrameIndex)||(null==t?void 0:t.srcFrameIndex)===undefined)return undefined;var e=window.frames[t.srcFrameIndex],n=undefined;if(!e)return undefined;for(var r=context_3.context.jQuery("iframe").get(),o=0;o<r.length;++o)if(r[o].contentWindow===e){n=r[o];break}for(var i=context_3.context.jQuery("frame").get(),o=0;o<i.length;++o)if(i[o].contentWindow===e){n=i[o];break}if(n!=undefined&&t.additionInfo)try{if(t.additionInfo!=getAdditionInfo(n)){for(o=0;o<r.length;++o)if(t.additionInfo==getAdditionInfo(r[o]))return n=r[o];for(o=0;o<i.length;++o)if(t.additionInfo==getAdditionInfo(i[o]))return n=i[o]}}catch(a){return n}return n}function removeLineBreakCharacters(t,e,n){if(void 0===e&&(e=" "),void 0===n&&(n=""),!t)return"";var r=t.replace(/\r/g,e);return r=(r=r.replace(/\n/g,e)).replace(/[^\x09\x0A\x0D\x20-\x7E\x85\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]/gm,n)}function truncateStringUsingWildcard(t,e){if(null==t)return"";if(t.length<=e)return t;var n=t.slice(0,e);return n+="*"}function trimWhiteSpaces(t){return context_3.context.lodash.trim(t,"‎•‏ ")}function trimAndRemoveLineBreakCharacters(t){return trimWhiteSpaces(removeLineBreakCharacters(t))}function isWhiteSpaceCharacte(t){return"\t"===t||"\r"===t||"\n"===t||" "===t||"‎"===t||"•"===t}function isCroFrameAvaiable(){return!0}function isFromeCroFrame(t){var e,n;return isCroFrameAvaiable()&&null!==(n=null===(e=t.coFrameInfo)||void 0===e?void 0:e.sendToFrame)&&void 0!==n&&n}function isMainFrame(){return window.parent==window||null==window.parent}function isFrameElement(t){return"iframe"===t.tagName.toLowerCase()||"frame"===t.tagName.toLowerCase()}function isIEBrowser(){return"IE"===window.browserType||"IE"===browserType}function clickniumJSONStringfy(t,e){void 0===e&&(e=0);var n,r=Object.prototype.toString,o={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};if(50<=e)return context_3.context.logger.warn("max deep index: "+e),undefined;if(null===t)return"null";if("number"==typeof t)return context_3.context.lodash.isNumber(t)?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"==typeof t){if(t&&t.nodeType&&"string"==typeof t.nodeName)return undefined;if(t instanceof Date)return'"'+(n=t,window.isFinite&&window.isFinite(n.valueOf())?n.getUTCFullYear()+"-"+l(n.getUTCMonth()+1)+"-"+l(n.getUTCDate())+"T"+l(n.getUTCHours())+":"+l(n.getUTCMinutes())+":"+l(n.getUTCSeconds())+"."+l(n.getMilliseconds(),3)+"Z":null)+'"';if(context_3.context.lodash.isArray(t)||context_3.context.lodash.isArguments(t))return"["+context_3.context.lodash.map(t,function(t){return t===undefined?clickniumJSONStringfy(null):clickniumJSONStringfy(t,e+1)}).join(",")+"]";if("[object Object]"===r.call(t)){for(var i=[],a=context_3.context.lodash.keys(t),u=0;u<a.length;++u){var c=a[u],s=t[c];s!==undefined&&clickniumJSONStringfy(s,e+1)!==undefined&&i.push(clickniumJSONStringfy(c,e+1)+":"+clickniumJSONStringfy(s,e+1))}return"{"+i.join(",")+"}"}}function l(t,e){return void 0===e&&(e=2),2!==e&&3===e?t<10?"00"+t:t<100?"0"+t:t:t<10?"0"+t:t}return"string"==typeof t?'"'+t.toString().replace(/[\\"\u0000-\u001F\u2028\u2029]/g,function(t){return o[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)})+'"':undefined}function clickniumJSONParse(sJSON){try{return eval("("+sJSON+")")}catch(e){throw context_3.context.logger.error("clickniumJSONParse JSON parse Error："+sJSON),new Error("clickniumJSONParse JSON parse Error："+sJSON)}}function JSONStringfy(t){return!context_3.context.utils.isIEBrowser()&&window.JSON&&window.JSON.stringify&&-1!=window.JSON.stringify.toString().indexOf("[native code]")?JSON.stringify(t):clickniumJSONStringfy(t)}function JSONParse(t){return!context_3.context.utils.isIEBrowser()&&window.JSON&&window.JSON.parse&&-1!=window.JSON.parse.toString().indexOf("[native code]")?JSON.parse(t):clickniumJSONParse(t)}function getCustomIdWithTabAndFrameId(t,e,n){return context_3.context.utils.isIEBrowser()?n:"t"+t+"|"+e+"|"+n}function getFramePathByParentId(t){var e=t.split("|")[0]||"",n=[];return context_3.context.lodash.forEach(e.split("-"),function(t){""!==t&&t!==undefined&&null!==t&&0<=parseInt(t,10)&&n.push(parseInt(t,10))}),n}exports.__esModule=!0,exports.getFramePathByParentId=exports.getCustomIdWithTabAndFrameId=exports.JSONParse=exports.JSONStringfy=exports.isIEBrowser=exports.isFrameElement=exports.isMainFrame=exports.isFromeCroFrame=exports.isCroFrameAvaiable=exports.isWhiteSpaceCharacte=exports.trimAndRemoveLineBreakCharacters=exports.trimWhiteSpaces=exports.truncateStringUsingWildcard=exports.removeLineBreakCharacters=exports.getIFrameElementByCoFrameInfo=exports.getCoFrameInfo=exports.isInSpecialIframe=exports.getDevicePixelRatio=void 0,exports.getDevicePixelRatio=getDevicePixelRatio,exports.isInSpecialIframe=isInSpecialIframe,exports.getCoFrameInfo=getCoFrameInfo,exports.getIFrameElementByCoFrameInfo=getIFrameElementByCoFrameInfo,exports.removeLineBreakCharacters=removeLineBreakCharacters,exports.truncateStringUsingWildcard=truncateStringUsingWildcard,exports.trimWhiteSpaces=trimWhiteSpaces,exports.trimAndRemoveLineBreakCharacters=trimAndRemoveLineBreakCharacters,exports.isWhiteSpaceCharacte=isWhiteSpaceCharacte,exports.isCroFrameAvaiable=isCroFrameAvaiable,exports.isFromeCroFrame=isFromeCroFrame,exports.isMainFrame=isMainFrame,exports.isFrameElement=isFrameElement,exports.isIEBrowser=isIEBrowser,exports.JSONStringfy=JSONStringfy,exports.JSONParse=JSONParse,exports.getCustomIdWithTabAndFrameId=getCustomIdWithTabAndFrameId,exports.getFramePathByParentId=getFramePathByParentId}),define("common/uiRect",["require","exports","./lodash/lodash"],function(t,e,n){"use strict";e.__esModule=!0,e.getBoundingClientRect=e.uiRectOfElement=e.ofUIRect=e.UIRect=void 0,n=__importDefault(n);var o=(r.prototype.getWidth=function(){return this.right-this.left},r.prototype.getHeight=function(){return this.bottom-this.top},r.prototype.intersects=function(t){return this.right>t.left&&this.left<t.right&&this.bottom>t.top&&this.top<t.bottom},r.prototype.contains=function(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom},r.prototype.scale=function(t){return i(this.left*t,this.top*t,this.getWidth()*t,this.getHeight()*t)},r.prototype.scaleInv=function(t){return i(this.left/t,this.top/t,this.getWidth()/t,this.getHeight()/t)},r.prototype.isEqual=function(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom},r.prototype.offset=function(t,e){return i(this.left+t,this.top+e,this.getWidth(),this.getHeight())},r.prototype.mathRound=function(){return i(Math.round(this.left),Math.round(this.top),Math.round(this.getWidth()),Math.round(this.getHeight()))},r.prototype.toString=function(){return"("+this.left+" "+this.top+" "+this.width+" "+this.height+")"},r);function r(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r,this.right=t+n,this.bottom=e+r}function i(t,e,n,r){return new o(t,e,n,r)}e.UIRect=o,e.ofUIRect=i,e.uiRectOfElement=function(t){var e=u(t);return new o(e.left,e.top,e.width,e.height)};var a=n["default"].memoize(function(){var t=window.clickniumRootDocument||document,e=t.body.scrollTop,n=t.documentElement.scrollTop,r=e||n,o=t.createElement("div");o.style.cssText="position:absolute;left:0;top:0;",t.body.appendChild(o);var i=-o.getBoundingClientRect().top-r;return t.body.removeChild(o),3<Math.abs(i)?0:i});function u(t){var e=a(),n=t.getBoundingClientRect();return{top:n.top+e,bottom:n.bottom+e,left:n.left+e,right:n.right+e,width:n.width||n.right-n.left,height:n.height||n.bottom-n.top}}e.getBoundingClientRect=u}),define("common/position",["require","exports","common/context","common/utils","common/decorators"],function(t,e,c,s,n){"use strict";e.__esModule=!0,e.Position=void 0;var r=(o.prototype.getPageRenderOffsets=function(t,e,n){if(0<=t||0<=e)return{x:t,y:e};n=s.getDevicePixelRatio();var r=c.context.jQuery("html").innerWidth()*n,o=c.context.jQuery("html").innerHeight()*n,i=(window.outerWidth-r)/2;return{x:i,y:window.outerHeight-o-i}},o.prototype.getPageRenderOffsetInfo=function(t){if(0<=t.pageRenderOfsX||0<=t.pageRenderOfsY)return{x:t.pageRenderOfsX,y:t.pageRenderOfsY};var e=s.getDevicePixelRatio();if(0<=t.outerHeight||0<=t.outerHeight){var n=window.outerWidth*e,r=window.outerHeight*e,o=window.innerWidth*e,i=window.innerHeight*e;return{x:(t.outerWidth-n)/2+(n-o)/2,y:r-i+(t.outerHeight-r)/2}}n=window.outerWidth*e,r=window.outerHeight*e;return{x:(n-(o=window.innerWidth*e))/2,y:r-(i=window.innerHeight*e)}},o.prototype.cssRectToClientRect=function(t){var e=s.getDevicePixelRatio();return t.scale(e||1)},o.prototype.cssRectToScreenRect=function(t,e){c.context.logger.trace("cssRectToScreenRect-cssRect:"+c.context.utils.JSONStringfy(t)+", options: "+c.context.utils.JSONStringfy(e));var n=s.getDevicePixelRatio(),r=this.cssRectToClientRect(t);c.context.logger.trace("cssRectToScreenRect-finalRectangle:"+c.context.utils.JSONStringfy(r));var o=window.mozInnerScreenX!==undefined;if(e.useClientCoordinates){i=this.getPageRenderOffsetInfo(e);return r.offset(i.x,i.y)}if(o)return r.offset(window.mozInnerScreenX*n,window.mozInnerScreenY*n);var i=this.getPageRenderOffsetInfo(e),a=e.windowLeft+i.x,u=e.windowTop+i.y;return r.offset(a,u)},o.prototype.clientRectToCssRect=function(t,e){return t.scaleInv(e).mathRound()},o.prototype.screenRectToCssRect=function(t,e){var n=s.getDevicePixelRatio(),r=this.clientRectToCssRect(t,n),o=window.mozInnerScreenX!==undefined;if(e.useClientCoordinates){i=this.getPageRenderOffsetInfo(e);return r.offset(-i.x,-i.y)}if(o)return r.offset(-window.mozInnerScreenX*n,-window.mozInnerScreenY*n);var i=this.getPageRenderOffsetInfo(e),a=e.windowLeft+i.x,u=e.windowTop+i.y;return r.offset(-a,-u)},o.prototype.clientPointToCssPoint=function(t,e){return t.scaleInv(e).mathRound()},o.prototype.screenPointToCssPoint=function(t,e){var n,r=c.context.utils.getDevicePixelRatio(),o=t;return o=(o=window.mozInnerScreenX!==undefined?o.offset(-window.mozInnerScreenX*r,-window.mozInnerScreenY*r):(n=this.getPageRenderOffsetInfo(e),o.offset(-(e.windowLeft+n.x),-(e.windowTop+n.y)))).scaleInv(r)},__decorate([n.log("debug")],o.prototype,"getPageRenderOffsetInfo"),__decorate([n.log()],o.prototype,"screenPointToCssPoint"),o);function o(){}e.Position=r}),define("common/element",["require","exports","common/context"],function(t,e,f){"use strict";e.__esModule=!0,e.ElementHelper=void 0;var u={url:function(t){return t.ownerDocument?t.ownerDocument.URL:""},htmlwindowname:function(t){return window.name?window.name:""},title:function(t){return"iframe"==t.tagName.toLowerCase()||"frame"==t.tagName.toLowerCase()?t.contentWindow.document.title:t.title},pagetitle:function(t){return t.ownerDocument?t.ownerDocument.title:""},cookie:function(t){return t.ownerDocument?t.ownerDocument.cookie:""},readystate:function(t){return!!t.ownerDocument&&"complete"===t.ownerDocument.readyState},innertext:function(t){var e=t.textContent?t.textContent:t.innerText;return f.context.utils.removeLineBreakCharacters(e)},innertextshort:function(t){return(new n).getAttributeShortValue(t,"innertext")},outertext:function(t){var e=t.textContent?t.textContent:t.innerText;return f.context.utils.removeLineBreakCharacters(e)},outertextshort:function(t){return(new n).getAttributeShortValue(t,"outertext")},innerhtml:function(t){return t.innerHTML},innerhtmlshort:function(t){return(new n).getAttributeShortValue(t,"innerhtml")},outerhtml:function(t){return t.outerHTML},outerhtmlshort:function(t){return(new n).getAttributeShortValue(t,"outerhtml")},tag:function(t){return t.tagName},ancestorid:function(t){return(new n).getParentAttributeValue(t,"id")},ancestorname:function(t){return(new n).getParentAttributeValue(t,"name")},ancestorclass:function(t){return(new n).getParentAttributeValue(t,"class")},parentcustomid:function(t){var e=f.context.jQuery(t).parent().get(0);return f.context.elementHelper.isHTMLElement(t)?f.context.customIdHelper.generateCustomIdForElement(e):""},tablerow:function(t){var e=(new n).getTableRowAndCol(t,{getRow:!0}).row;return e<0?"":e},tablecol:function(t){var e=(new n).getTableRowAndCol(t,{getCol:!0}).col;return e<0?"":e},rowname:function(t){return(new n).getTableRowName(t)},colname:function(t){return(new n).getTableColName(t)},columncount:function(t){return(new n).getTableColCount(t)},rowcount:function(t){return(new n).getTableRowCount(t)},ischecked:function(t){return"checkbox"!==t.type&&"radio"!==t.type?null:t.checked},sinfostate:function(t){if(!0===t.disabled)return"disabled";if(window.getComputedStyle){var e=window.getComputedStyle(t);if("not-allowed"===e.cursor||"none"===e["pointer-events"])return"disabled"}else{var n=f.context.jQuery(t).css("cursor"),r=f.context.jQuery(t).css("pointer-events"),o=t.className;if("not-allowed"===n||"none"===r)return"disabled";if(!f.context.lodash.isEmpty(o)&&-1!==f.context.lodash.indexOf(o,"diasble"))return"disabled"}return"enabled"},sinfo:function(t){return f.context.sinfoHelper.getSInfo(t)},sinfoshort:function(t){return f.context.utils.truncateStringUsingWildcard(f.context.sinfoHelper.getSInfo(t),512)},css_selector:function(t){return(new n).getCssSelector(t)},selecteditem:function(t){var e=f.context.jQuery(t).find("option").get(),n=f.context.lodash(e).filter(function(t){return t.selected}).map(function(t){return f.context.utils.trimAndRemoveLineBreakCharacters(f.context.jQuery(t).text())}).value();return f.context.lodash.first(n)},selecteditems:function(t){var e=f.context.jQuery(t).find("option").get(),n=f.context.lodash(e).filter(function(t){return t.selected}).map(function(t){return f.context.utils.trimAndRemoveLineBreakCharacters(f.context.jQuery(t).text())}).value();return f.context.utils.JSONStringfy(n)},optionstext:function(t){var e=f.context.jQuery(t).find("option").get();return f.context.utils.JSONStringfy(f.context.lodash.map(e,function(t){return f.context.utils.trimAndRemoveLineBreakCharacters(f.context.jQuery(t).text())}))},isleaf:function(t){return(new n).isLeafElement(t)},childrencount:function(t){return(new n).getChildrenCount(t)},caninput:function(t){return(new n).getCanInput(t)},canselect:function(t){return(new n).getCanSelect(t)},cancheck:function(t){return(new n).getCanCheck(t)},multiple:function(t){return f.context.jQuery(t).attr("multiple")?TRUE_CODE.toString():FALSE_CODE.toString()},xpathlist:function(t){return f.context.utils.JSONStringfy(f.context.xpathHelper.getElementXPathList(t))},xpath:function(t){var e=window.clickniumRootDocument||document;return f.context.lodash.first(f.context.xpathHelper.getXPathStr(t,e.documentElement,"autoBest"))},isvisible:function(t){var e=f.context.jQuery(t);if(!e.is(":visible")||"hidden"===e.css("visibility"))return!1;if("inherit"===e.css("visibility"))for(var n=e.parent();n.get(0);){if("hidden"===n.css("visibility"))return!1;n=n.parent()}return!0}},n=(r.prototype.getAttributeValue=function(t,e,n){var r;try{var o=u[e.toLowerCase()],i=void 0;return o?i="boolean"==typeof(i=o(t))&&-1===f.context.lodash.indexOf(["isvisible"],e)?i?"1":"0":i:(i=f.context.jQuery(t).attr(e))&&"string"!=typeof i&&(i=null===(r=t.attributes)||void 0===r?void 0:r[e].value),null!=i?i:n}catch(a){return f.context.logger.warn("getAttribute error: "+a.message+", currentAttrName: "+e),n}},r.prototype.getAttributeShortValue=function(t,e,n){void 0===n&&(n=512);var r=this.getAttributeValue(t,e);return"string"==typeof r&&(r=f.context.utils.truncateStringUsingWildcard(r,n)),r},r.prototype.getParentAttributeValue=function(t,e,n){for(var r,o=f.context.jQuery(t).parent().get(0);f.context.elementHelper.isHTMLElement(o)&&((r=this.getAttributeValue(o,e))===undefined||null===r||""===r);)o=f.context.jQuery(o).parent().get(0);return null!=r?r:n},r.prototype.getElementPadding=function(t){return window.getComputedStyle?{paddingTop:parseInt(window.getComputedStyle(t).paddingTop),paddingLeft:parseInt(window.getComputedStyle(t).paddingLeft)}:{paddingTop:parseInt(f.context.jQuery(t).css("padding-top")),paddingLeft:parseInt(f.context.jQuery(t).css("padding-left"))}},r.prototype.getBorderWidthInfo=function(t){function e(t){return-1!==t.indexOf("px")?parseInt(t,10):-1!==t.indexOf("em")?16*parseInt(t,10):"medium"===t?2:"thin"===t?1:"thick"===t?4:0}try{return{borderLeftWidth:e(f.context.jQuery(t).css("borderLeftWidth")),borderTopWidth:e(f.context.jQuery(t).css("borderTopWidth"))}}catch(t){return f.context.logger.warn("getBorderWidthInfo error: "+t.message),{borderLeftWidth:0,borderTopWidth:0}}},r.prototype.isIframeElement=function(t){return 1===t.nodeType&&("iframe"===t.tagName.toLowerCase()||"frame"===t.tagName.toLowerCase())},r.prototype.isLeafElement=function(t){return!!t&&(t.children?0===t.children.length:0===t.childNodes.length)},r.prototype.isHTMLElement=function(t){return null!==t&&t!==undefined&&1===t.nodeType&&t!==document},r.prototype.getAttrValueListForElement=function(t,n,e){function r(e){return f.context.lodash.some(n,function(t){return t===e})}void 0===n&&(n=[]),void 0===e&&(e=!1);var o={};if(t)for(var i=this.getAttributeListForElement(t),a=e?i:["type","innertext","outertext","innerhtml","outerhtml","tag","ancestorid","class","ancestorname","ancestorclass","sinfo","sinfostate","cookie","ischecked","isleaf","css_selector","url"].concat(i),u=0;u<a.length;++u){var c,s,l=a[u];l===f.context.customIdHelper.CUSTOM_ID_ATTR_NAME||r(l)||(c=this.getAttrNameShort(l),null!==(s=this.getAttributeValue(t,c))&&s!==undefined&&""!==s&&(o[l]=s))}else r("url")||(o.url=document.URL),r("cookies")||(o.cookies=document.cookie),r("readystate")||(o.readystate="complete"===document.readyState?"1":"0"),r("text")||(o.text=f.context.utils.removeLineBreakCharacters(f.context.jQuery("html").text()));return o},r.prototype.getAttrNameShort=function(t){return"innertext"===t?"innertextshort":"outertext"===t?"outertextshort":"innerhtml"===t?"innerhtmlshort":"outerhtml"===t?"outerhtmlshort":"sinfo"===t?"sinfoshort":t},r.prototype.getAttributeListForElement=function(t){var e=[];if(null==t||null==t.attributes)return e;var n=t.tagName.toLowerCase();("th"===n||"td"===n||f.context.jQuery(t).parent("td").get(0)||f.context.jQuery(t).parent("th").get(0))&&(e.push("tableRow"),e.push("tableCol"),e.push("rowName"),e.push("colName")),"table"===n&&(e.push("rowCount"),e.push("columnCount"));for(var r=0;r<t.attributes.length;++r){var o=t.attributes.item(r).nodeName;null!=o&&0<o.length&&"checked"!==o.toLowerCase()&&o!==f.context.customIdHelper.CUSTOM_ID_ATTR_NAME&&e.push(o)}return e},r.prototype.getTableRowAndCol=function(t,e){function n(t,e){var n,r=-1,o=f.context.jQuery(e).find(t.tagName).get();if(null==o)return r;for(n=0;n<o.length;++n)if(o[n]===t){r=n+1;break}return r}var r={row:-1,col:-1},o=t.tagName.toLowerCase();if("td"!==o&&"th"!==o){var i=f.context.jQuery(t).parent("td").get(0);if(!(null!=i&&i!=undefined||null!=(i=f.context.jQuery(t).parent("th").get(0))&&i!=undefined))return r;t=i}var a=f.context.jQuery(t).parent("tr").get(0);if(null==a)return r;if(!0===e.getCol&&(r.col=n(t,a)),!0===e.getRow){var u=f.context.jQuery(a).parents("table").get(0);if(null==u)return r;r.row=n(a,u)}return r},r.prototype.getChildrenCount=function(t){for(var e=t.firstChild,n=0;e;)e&&1===e.nodeType&&n++,e=e.nextSibling;return n},r.prototype.getCanInput=function(t){var e=t.tagName.toLowerCase();if("textarea"===e)return!0;if("input"===e){var n=t.type.toLowerCase();if(!n||"text"===n||"password"===n||"search"===n||-1===f.context.lodash.indexOf(["button","checkbox","file","hidden","image","password","radio","reset","submit","text"],n))return!t.readonly}return!1},r.prototype.getCanCheck=function(t){if("input"===t.tagName.toLowerCase()){var e=t.type.toLowerCase();if("checkbox"===e||"radio"===e)return!t.readonly}return!1},r.prototype.getCanSelect=function(t){return"select"===t.tagName.toLowerCase()},r.prototype.getTableRowCount=function(t){if("table"!==t.tagName.toLowerCase())return"";var e=f.context.jQuery(t).find("tr").get();return null!==e?e.length:""},r.prototype.getTableColCount=function(t){if("table"!==t.tagName.toLowerCase())return"";var e=f.context.jQuery(t).find("tr").get();if(null!==e&&0<e.length){var n=f.context.jQuery(e[0]).find("td").get();if(null!==n&&0<n.length)return n.length.toString();var r=f.context.jQuery(e[0]).find("th").get();if(null!==r&&0<r.length)return r.length.toString()}return""},r.prototype.getTableRowName=function(t){var e=f.context.jQuery(t).parent("tr").get(0);if(!e)return"";var n=this.getChildText(e,"th",0);return""===n&&(n=this.getChildText(e,"td",0)),n},r.prototype.getTableColName=function(t){var e=f.context.jQuery(t).parent("table").get(0);if(!e)return"";var n=this.getTableRowAndCol(t,{getCol:!0}).col;if(n<1)return"";var r=this.getChildText(e,"th",n-1);return""===r&&(r=this.getChildText(e,"td",n-1)),r},r.prototype.getChildText=function(t,e,n){var r=f.context.jQuery(t).find(e).get();if(null==r)return"";if(n>r.length-1)return"";var o=f.context.jQuery(r[n]).text();return f.context.utils.removeLineBreakCharacters(o)},r.prototype.getCssSelector=function(t){for(var e="";;){var n=t.tagName.toLowerCase();if("html"===n)break;if(n=n.replace(/:/g,"\\:"),e=""===e?n:n+">"+e,"body"===n)break;var r=f.context.jQuery(t).parent().get(0);if(!f.context.elementHelper.isHTMLElement(r))break;t=r}return e},r.prototype.isElementVisible=function(t){var e=f.context.uiRectUtil.getBoundingClientRect(t),n=f.context.jQuery(window).height(),r=f.context.jQuery(window).width();return f.context.logger.trace("isElementVisible viewHeiht: "+n+",viewWidth: "+r+",rect-top: "+e.top+",rect-bottom: "+e.bottom+",rect-left: "+e.left+",rect-right: "+e.right),!(e.bottom<=0||e.top>=n||e.left>=r||e.right<=0)},r.prototype.findElementBySelector=function(t,e){try{var n=window.clickniumRootDocument||document;if((e=e||n.documentElement).querySelectorAll&&f.context.lodash.isNative(e.querySelectorAll)){var r=void 0;try{r=e.querySelectorAll(t)}catch(o){}return r&&0<r.length?r:f.context.jQuery(e).find(t).get()}return f.context.jQuery(e).find(t).get()}catch(o){return f.context.logger.warn("findElementBySelector error: "+o.message),[]}},r);function r(){if(this.customAttrMap=u,this.constructor.instance)return this.constructor.instance;this.constructor.instance=this}e.ElementHelper=n}),define("common/logger",["require","exports"],function(t,e){"use strict";e.__esModule=!0;var l={};!function(){var n,r={},t=function(t,e){return function(){return e.apply(t,arguments)}},o=function(){for(var t,e=arguments,n=e[0],r=1;r<e.length;r++)for(t in e[r])t in n||!e[r].hasOwnProperty(t)||(n[t]=e[r][t]);return n},e=function(t,e){return{value:t,name:e}};l.TRACE=e(1,"TRACE"),l.DEBUG=e(2,"DEBUG"),l.INFO=e(3,"INFO"),l.TIME=e(4,"TIME"),l.WARN=e(5,"WARN"),l.ERROR=e(8,"ERROR"),l.OFF=e(99,"OFF");var i=(a.prototype.setLevel=function(t){t&&"value"in t&&(this.context.filterLevel=t)},a.prototype.getLevel=function(){return this.context.filterLevel},a.prototype.enabledFor=function(t){var e=this.context.filterLevel;return t.value>=e.value},a.prototype.trace=function(){this.invoke(l.TRACE,arguments)},a.prototype.debug=function(){this.invoke(l.DEBUG,arguments)},a.prototype.info=function(){this.invoke(l.INFO,arguments)},a.prototype.warn=function(){this.invoke(l.WARN,arguments)},a.prototype.error=function(){this.invoke(l.ERROR,arguments)},a.prototype.time=function(t){"string"==typeof t&&0<t.length&&this.invoke(l.TIME,[t,"start"])},a.prototype.timeEnd=function(t){"string"==typeof t&&0<t.length&&this.invoke(l.TIME,[t,"end"])},a.prototype.invoke=function(t,e){n&&this.enabledFor(t)&&n(e,o({level:t},this.context))},a);function a(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info}var u,c=new i({filterLevel:l.OFF});(u=l).enabledFor=t(c,c.enabledFor),u.trace=t(c,c.trace),u.debug=t(c,c.debug),u.time=t(c,c.time),u.timeEnd=t(c,c.timeEnd),u.info=t(c,c.info),u.warn=t(c,c.warn),u.error=t(c,c.error),u.log=u.info,l.setHandler=function(t){n=t},l.setLevel=function(t){for(var e in c.setLevel(t),r)r.hasOwnProperty(e)&&r[e].setLevel(t)},l.getLevel=function(){return c.getLevel()},l.get=function(t){return r[t]||(r[t]=new i(o({name:t},c.context)))},l.createDefaultHandler=function(o){(o=o||{}).formatter=o.formatter||function(t,e){e.name&&t.unshift("["+e.name+"]")};var i={},a=function(t,e){if(t&&console){for(var n=0;n<e.length;++n)"function"==typeof e[n]&&(e[n]=e[n].call(undefined));Function.prototype.apply.call(t,console,e)}};return function(t,e){t=Array.prototype.slice.call(t);var n,r=window.console&&console.log;e.level===l.TIME?(n=(e.name?"["+e.name+"] ":"")+t[0],"start"===t[1]?console.time?console.time(n):i[n]=(new Date).getTime():console.timeEnd?console.timeEnd(n):a(r,[n+": "+((new Date).getTime()-i[n])+"ms"])):(e.level===l.WARN&&window.console&&console.warn?r=console.warn:e.level===l.ERROR&&window.console&&console.error?r=console.error:e.level===l.INFO&&window.console&&console.info?r=console.info:e.level===l.DEBUG&&window.console&&console.debug?r=console.debug:e.level===l.TRACE&&window.console&&console.log&&(r=console.log),o.formatter(t,e),a(r,t))}},l.useDefaults=function(t){l.setLevel(t&&t.defaultLevel||l.INFO),l.setHandler(l.createDefaultHandler(t))};var s={defaultLevel:l.INFO,formatter:function(t,e){t.unshift("[ClickniumLogger-"+e.level.name+"]")}};l.setLevel(s.defaultLevel||l.INFO)}(window),e["default"]=l}),define("common/sinfo",["require","exports","common/context"],function(t,e,h){"use strict";e.__esModule=!0,e.SInfo=void 0;var n=(r.prototype.shouldSInfo=function(t){var e=t.tagName.toLowerCase();if(h.context.logger.trace("shouldSInfo current tag: "+e),-1!==h.context.lodash.indexOf(["a","label","img","input","button","textarea","area","select","table","th"],e))return!0;if(("div"===e||"span"===e)&&h.context.jQuery(t).text().length<=32)return!0;for(var n=["a","label","button","select","th"],r=t,o=100;0<--o;){var i=h.context.jQuery(r).parent().get(0);if(!h.context.elementHelper.isHTMLElement(i))break;if(e=i.tagName.toLowerCase(),-1!==h.context.lodash.indexOf(n,e))return!0;r=i}return!1},r.prototype.getSInfo=function(r){if(!r)return"";var o=h.context.jQuery,i=r.tagName.toUpperCase(),t=o(r);return"A"!==i&&"INPUT"!==i&&"IMG"!==i&&"BUTTON"!==i&&"TEXTAREA"!==i&&"AREA"!==i&&"SELECT"!==i&&"TABLE"!==i?a(function(){var t=r.firstChild,e=[];for(;t;)3===t.nodeType&&e.push(t.data),t=t.nextSibling;return e.join("")}()):function(){if("TABLE"===i)return function(){var t=l();if(""!==t)return t;var e=h.context.jQuery(r).children("caption").get();if(e&&0<e.length)return a(o(e[0]).text());var n=h.context.jQuery(r).children("th").get();return a(h.context.lodash(n).map(function(t){return h.context.utils.trimWhiteSpaces(h.context.jQuery(t).text())}).value().join(" "))}();var t=u();if("BUTTON"===t||"RESET"===t||"SUBMIT"===t||"BUTTON"===i)return m(l,d);if("IMAGE"===t)return m(l,f,c,s);if("IMG"!==i)return m(c,d,l,f);var e=m(l,f,c,s);if(""!==e)return e;var n=h.context.jQuery(r).parent("a").get(0);return n?this.getSInfo(n):""}();function a(t){return t?(t=h.context.utils.removeLineBreakCharacters(t),t=h.context.utils.trimWhiteSpaces(t)):""}function u(){return"INPUT"===i&&o(r).attr("type")?r.type.toUpperCase():""}function c(){var t=u();if("A"===i||"BUTTON"===i||"SUBMIT"===t||"RESET"===t||"BUTTON"===t)return"";if(r.id&&""!==r.id){var e=h.context.jQuery("[for="+r.id+"]").get(0);if(e)return a(h.context.jQuery(e).text())}return""}function s(){return h.context.jQuery(r).attr("src")}function l(){return o(r).attr("title")?a(o(r).attr("title")):""}function f(){return t.attr("alt")?a(t.attr("alt")):""}function d(){var t=u();return"BUTTON"===t||"SUBMIT"===t||"RESET"===t?a(r.value):"A"===i||"BUTTON"===i?a(h.context.jQuery(r).text()):""}function m(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n){var r=t[n],o=r;if("function"==typeof r&&(o=r()),o&&""!==o)return o}return""}},r);function r(){}e.SInfo=n}),define("common/matcher",["require","exports","common/context"],function(t,e,l){"use strict";function f(t,e){return"?"===t||t===e}function d(t,e){return"?"===t||"?"===e||t===e}function r(t,e){if(null==t||null==e)return!1;if("string"!=typeof e&&(e=String(e)),""===t)return""===e;var n=0,r=0,o=t.length-1,i=e.length-1;if("*"!=t.charAt(n))for(;"*"!=t.charAt(n)&&n<=o&&r<=i;){if(!f(t.charAt(n),e.charAt(r)))return!1;++n,++r}if("*"!=t.charAt(o))for(;"*"!=t.charAt(o)&&n<=o&&r<=i;){if(!f(t.charAt(o),e.charAt(i)))return!1;--o,--i}if(o<n)return i<r;if("*"!=t.charAt(n)||"*"!=t.charAt(o))return!1;for(;n<=o;){for(;"*"==t.charAt(n)&&n<=o;)n++;if(o<n)break;for(var a=0;"*"!=t.charAt(n+a);)++a;for(var u=function(t,e,n){var r,o=-1,i=new Array(n);for(i[0]=o,r=1;r<n;++r){for(;-1<o&&!d(t.charAt(e+o+1),t.charAt(e+r));)o=i[o];d(t.charAt(e+r),t.charAt(e+o+1))&&o++,i[r]=o}return i}(t,n,a),c=-1,s=!1;r<=i;++r){for(;-1<c&&!f(t.charAt(n+c+1),e.charAt(r));)c=u[c];if(f(t.charAt(n+c+1),e.charAt(r))&&c++,c==a-1){s=!0;break}}if(!s)return!1;n+=a,++r}return!0}e.__esModule=!0,e.elementIsMachingAttrbuteMap=e.ofActiveStringMap=e.getActiveValueString=e.hasAttributeValue=e.ofAttributeValueMap=e.AttributeValue=e.RegexMatcher=e.NormalMatcher=e.stringWildcardMatch=e.EMatchingType=void 0,e.EMatchingType={Normal:1,Regex:2},e.stringWildcardMatch=r;var n=(o.prototype.matches=function(t,e,n){return void 0===n&&(n=!0),n?r(String(t.value),e):r(String(t.value).toLowerCase(),null==e?void 0:e.toLowerCase())},o);function o(){}e.NormalMatcher=n;var i=(a.prototype.setPattern=function(t,e){t="^"+t+"$",null!==this.m_regex&&this.mPattern===t&&this.mCaseSensitive===e||(this.mPattern=t,this.mCaseSensitive=e,this.m_regex=RegExp(this.mPattern,e?"":"i"))},a.prototype.matches=function(t,e,n){return n=void 0===n||n,this.setPattern(t.value,n),this.m_regex.test(e)},a);function a(){}e.RegexMatcher=i;var u=(c.prototype.init=function(){this.matcher=null,this.aInfo.isNull||(this.aInfo.matchingType===e.EMatchingType.Regex?this.matcher=new i:this.matcher=new n)},c.prototype.getInfo=function(){return this.aInfo},c.prototype.setInfo=function(t){this.aInfo=t,this.init()},c.prototype.matches=function(t,e){return!(!this.aInfo||this.aInfo.isNull)&&("string"!=typeof t&&(t="number"==typeof t?String(t):l.context.utils.JSONStringfy(t)),this.matcher.matches(this.aInfo,t,e))},c);function c(t){"string"==typeof t||"number"==typeof t?this.aInfo={isNull:!1,isActive:!0,matchingType:e.EMatchingType.Normal,value:t}:t===undefined||null===t?this.aInfo={isNull:!0,isActive:!0,matchingType:e.EMatchingType.Normal,value:""}:this.aInfo=t,this.matcher=null,this.init()}function m(t){if(void 0===t)return!1;if(!(t instanceof u))return!1;var e=t.getInfo();return(null==e||!e.isNull)&&e.isActive}function s(t){return m(t)?t.getInfo().value:null}e.AttributeValue=u,e.ofAttributeValueMap=function(t){var n={};return l.context.lodash.forOwn(t,function(t,e){n[e]=new u(t)}),n},e.hasAttributeValue=m,e.getActiveValueString=s,e.ofActiveStringMap=function(t){var n={};return l.context.lodash.forOwn(t,function(t,e){n[e]=s(t)}),n},e.elementIsMachingAttrbuteMap=function(t,e,n){if(!t)return l.context.logger.warn("elementIsMachingAttrbuteMap: no element"),!1;for(var r=l.context.lodash(e).keys().filter(function(e){return!l.context.lodash.some(n,function(t){return t===e})}).value(),o=!0,i=0;i<r.length;++i){var a=r[i],u=e[a],c=l.context.elementHelper.getAttributeValue(t,a);if(u&&m(u)){var s="tag"===a?!1:!0;if(!u.matches(c,s)){o=!1;break}}}return o}}),define("common/selector",["require","exports","common/context","common/decorators"],function(t,e,p,n){"use strict";e.__esModule=!0,e.Selector=void 0;var r=(o.prototype.getAttributeNamePriorityArray=function(t){var e=["tag","id","title","name","type","ancestorid","ancestorname"],n=t.tagName.toLowerCase(),r=p.context.jQuery(t).parents("table").get();return r&&0<r.length&&(e.push("tablerow"),e.push("tablecol")),"img"!==n&&"image"!==n||e.push("src"),p.context.sinfoHelper.shouldSInfo(t)&&e.push("sinfo"),p.context.elementHelper.isLeafElement(t)&&e.push("isleaf"),e.push("tabindex"),e.push("href"),p.context.utils.isFrameElement(t)?e.splice(3,0,"src"):e.push("src"),e.push("class"),e.push("ancestorclass"),e.push("css_selector"),p.context.lodash.uniq(e)},o.prototype.getSelectorByCustomId=function(t,e){var n=e.targetTagName||"*";if(p.context.lodash.isEmpty(t))throw new Error("getSelectorByCustomId error: customId is required!");var r=p.context.customIdHelper.getElementByCustomId(t);if(!r)throw new Error("getSelectorByCustomId error: Target element not found!");var o=this.getHtmlCollectionByParentIdOrCssSelector(n,{parentId:e.parentId,cssSelector:undefined});if(0===o.length)throw new Error("getSelectorByCustomId error: No element found!");var i=1e4;e.computeIndex||(i=0);for(var a=this.getAttributeNamePriorityArray(r),u={},c=0;c<a.length;++c){var s=a[c],l="css_selector"===s?p.context.elementHelper.getAttributeValue(r,"css_selector"):p.context.elementHelper.getAttributeShortValue(r,s,64);if(""!==l&&l!==undefined&&null!==l){if("css_selector"===s&&e.computeIndex){if(i<=1)continue;if(0===(o=this.getHtmlCollectionByParentIdOrCssSelector(n,{parentId:e.parentId,cssSelector:l})).length)throw new Error("getSelectorByCustomId error: No element found by css_selector! currentCssSelect: "+l)}if(u[s]=l,e.computeIndex){var f=this.getIndexByAttributeList(o,t,p.context.matcherHelper.ofAttributeValueMap(u));if(-1===f)throw new Error("getSelectorByCustomId error: target element is not found in htmlCollection !");if(f<i?i=f:delete u[s],0===i){if("iframe"===r.tagName.toLowerCase()||"frame"===r.tagName.toLowerCase())for(var d=["name","title","src"],m=0;m<d.length;m++){var h=d[m],g=p.context.elementHelper.getAttributeShortValue(r,h,48);if(g){u[h]=g;break}}break}}}}return{index:e.computeIndex?i:0,attrMap:u,tag:r.tagName.toLowerCase()}},o.prototype.getHtmlCollectionByParentIdOrCssSelector=function(e,t){var n=window.clickniumRootDocument||document;if(p.context.lodash.isEmpty(t.parentId)||(n=p.context.customIdHelper.getElementByCustomId(t.parentId)),e=(e=e||"*").toLowerCase(),p.context.lodash.isEmpty(t.cssSelector)&&p.context.lodash.isEmpty(t.xpath))return"*"===e?p.context.jQuery(n).find(e).get():p.context.elementHelper.findElementBySelector(e.toLowerCase(),n);var r=undefined;t.cssSelector&&(r=p.context.elementHelper.findElementBySelector(t.cssSelector,n));var o=undefined;t.xpath&&(o=p.context.xpathHelper.getElementNodesByXPath(t.xpath,n));var i=[];return null!=r&&null!=o?i=p.context.lodash.filter(r,function(e){return p.context.lodash.some(o,function(t){return t===e})}):null!=r?i=r:null!=o&&(i=o),"*"===e?i:p.context.lodash.filter(i,function(t){return e===t.tagName.toLowerCase()})},o.prototype.getIndexByAttributeList=function(t,e,n){for(var r=0,o=0,i=!1,a=!0,o=0;o<t.length;++o){var u=t[o],c=p.context.customIdHelper.getCustomIdFromElement(u);if(!1===i&&p.context.customIdHelper.isCustomIdEqual(c,e)){if(i=!0,1<++r){a=!1;break}}else if(p.context.matcherHelper.elementIsMachingAttrbuteMap(u,n)){if(i){a=!1;break}++r}}return!1===i?r=-1:!0===a&&1===r&&(r=0),p.context.logger.trace("getIndexByAttributeList: htmlCollection: "+t.length+",unique "+a+", currentIndex: "+r),r},o.prototype.getInterestingParentElement=function(t){var e,n=t.tagName.toLowerCase();return"td"===n||"th"===n||"tr"===n?e=p.context.jQuery(t).parents("table").get(0):"option"===n&&(e=p.context.jQuery(t).parents("select").get(0)),e},o.prototype.getIntermediateParents=function(t,e){var n=[];if(!e)return n;for(var r=p.context.jQuery(t).parent().get(0);null!==r&&r!==undefined&&p.context.elementHelper.isHTMLElement(r)&&r!==e;)p.context.elementHelper.isHTMLElement(r)&&n.push(r),r=p.context.jQuery(r).parent().get(0);return n},o.prototype.findElementUsingAttributes=function(t,e,n){var r;if(0===t.length)return undefined;var o=0;if(0<(n=n||1))for(r=0;r<t.length;++r){var i=t[r];if(!0===p.context.matcherHelper.elementIsMachingAttrbuteMap(i,e)&&++o===n)return i}else for(r=t.length-1;0<=r;--r){i=t[r];if(!0===p.context.matcherHelper.elementIsMachingAttrbuteMap(i,e)&&(--o,Math.abs(o)===Math.abs(n)))return i}return undefined},o.prototype.findElementsUsingAttributes=function(t,e){return 0===t.length?[]:p.context.lodash.filter(t,function(t){return p.context.matcherHelper.elementIsMachingAttrbuteMap(t,e)})},o.prototype.findElementCollectionUsingAttributes=function(t,e,n){var r=[];return p.context.lodash.forEach(t,function(t){if(!0===p.context.matcherHelper.elementIsMachingAttrbuteMap(t,e,["css_selector"])&&r.push(t),r.length>=n)return!1}),r},__decorate([n.log()],o.prototype,"getAttributeNamePriorityArray"),__decorate([n.log()],o.prototype,"getSelectorByCustomId"),__decorate([n.log()],o.prototype,"getInterestingParentElement"),__decorate([n.log()],o.prototype,"getIntermediateParents"),__decorate([n.log()],o.prototype,"findElementUsingAttributes"),__decorate([n.log()],o.prototype,"findElementsUsingAttributes"),__decorate([n.log()],o.prototype,"findElementCollectionUsingAttributes"),o);function o(){}e.Selector=r}),define("common/xpath",["require","exports","common/context"],function(t,e,c){"use strict";function a(n,t){switch(t){case"tag":return n.tagName.toLowerCase();case"tagIndexInfo":var e=c.context.jQuery(n).parent().children(n.tagName.toLowerCase()),r=0;return e.each(function(t,e){e===n&&(r=t)}),{acc:e.length,index:r+1};case"xpathtext":return function(t){var e=t.childNodes;if(0===e.length||1<e.length)return"";var n=e[0];return 3===n.nodeType?n.nodeValue:""}(n)}return c.context.jQuery(n).attr(t)}function s(o,t){var e,n,r,i=[],a=c.context.lodash(o).keys().filter(function(t){return null!==o[t]&&o[t]!==undefined&&""!==o[t]}).value();return 2===a.length||t?(r=(e=o.tagIndexInfo||{}).index,1<(n=e.acc)&&(n===r?i.push(t?r:"last()"):i.push(r))):c.context.lodash.each(a,function(t){var e,n,r;"tagIndexInfo"===t?(r=(e=o.tagIndexInfo||{}).index,1<(n=e.acc)&&(n===r?i.push("last()"):i.push("position()="+r))):"xpathtext"===t?i.push('text()="'+o[t]+'"'):"tag"!==t&&t!==c.context.customIdHelper.CUSTOM_ID_ATTR_NAME&&("boolean"==typeof o[t]?i.push("@"+t):i.push("@"+t+'="'+o[t]+'"'))}),0<i.length?"["+i.join(" and ")+"]":""}function l(t,e,n){for(var r=[],o=t,i=function(){var e={};c.context.lodash.each(function(t,e){var n=["tag","id","name","title","tagIndexInfo","class"];if(e&&t.attributes)return c.context.lodash(t.attributes).map(function(t){return t.name}).filter(function(t){return!c.context.lodash.startsWith(t,"on")}).value().concat(n);switch(t.tagName.toLowerCase()){case"img":case"image":return n.push("src","alt"),n;case"input":var r=c.context.jQuery(t).attr("type");return n.push("type"),"image"===r&&n.push("src","alt"),n;case"iframe":case"frame":return n.push("src"),n;case"a":return n.push("href","xpathtext"),n;case"li":case"option":return n.push("xpathtext"),n;default:return n}}(o,n),function(t){e[t]=a(o,t)}),r.push(e),o=c.context.jQuery(o).parent().get(0)};c.context.elementHelper.isHTMLElement(o)&&o!==e;)i();return r.reverse()}function f(t,e,n){if("simpleFullPath"===n){var r=l(t,e);return"/html/"+c.context.lodash.map(r,function(t){return""+t.tag+s(t,!0)}).join("/")}if("autoBest"===n){var r=l(t,e),o=-1;if(c.context.lodash.each(r,function(t,e){!t.id&&0!==t.id||(o=e)}),-1===o)return f(t,e,"simpleFullPath");var i=(u=r.slice(o)).shift();return 0<u.length?'id("'+i.id+'")/'+c.context.lodash.map(u,function(t){return""+t.tag+s(t,!0)}).join("/"):'id("'+i.id+'")'}if("simplePath"===n){var r=l(t,e),a=-1;if(c.context.lodash.each(r,function(t,e){!t.id&&0!==t.id||(a=e)}),-1===a)return f(t,e,"simpleFullPath");var u,i=(u=r.slice(a)).shift();return 0<u.length?'//*[@id="'+i.id+'"]/'+c.context.lodash.map(u,function(t){return""+t.tag+s(t,!0)}).join("/"):'//*[@id="'+i.id+'"]'}if("fullPath"===n){r=l(t,e);return"/html/"+c.context.lodash.map(r,function(t){return""+t.tag+s(t,!1)}).join("/")}if("fullPathWithAllAttrs"===n){r=l(t,e,!0);return"/html/"+c.context.lodash.map(r,function(t){return""+t.tag+s(t,!1)}).join("/")}}e.__esModule=!0,e.xpathHelper=void 0,e.xpathHelper={getElementNodesByXPath:function(t,e){if(c.context.utils.isIEBrowser()){t=function(t){try{return"string"!=typeof t?t:t.replace(/(\/)[A-Z]*(\[)?/g,function(t){return t.toLowerCase()})}catch(e){return c.context.logger.warn("replaceUperCaseTag error: "+e.message+",currentInput: "+t),t}}(t);var n=c.context.jQuery(e||window.clickniumRootDocument.documentElement||document.documentElement).xpath(t).get();return n&&1<n.length?c.context.lodash.filter(c.context.lodash.drop(n,1),function(t){return 1===t.nodeType}):[]}for(var r=window.clickniumRootDocument||document,o=r.evaluate(t,e||r,null,XPathResult.ANY_TYPE,null),i=[],a=o.iterateNext();a;)1===a.nodeType&&i.push(a),a=o.iterateNext();return i},getElementXPathList:function(t){var e=window.clickniumRootDocument||document,n=[f(t,e.documentElement,"autoBest"),f(t,e.documentElement,"simplePath"),f(t,e.documentElement,"simpleFullPath"),f(t,e.documentElement,"fullPath")],r=[];return c.context.lodash.each(n,function(e){c.context.lodash.some(r,function(t){return t===e})||r.push(e)}),r},getXPathStr:f}}),define("common/event",["require","exports","common/context"],function(t,e,c){"use strict";e.__esModule=!0,e.Event=void 0;var n=(r.prototype.raiseMouseEventAsync=function(n,t,e,r,o){if(null===n||n===undefined)throw new Error("raiseClickEvent Error :  Target element is undefined!");var i=[],i=t===this.HTML_RIGHT_BUTTON&&e===this.HTML_CLICK_SINGLE?["mouseover","mousemove","mousedown","mouseup","contextmenu"]:e===this.HTML_CLICK_DOUBLE?["mouseover","mousemove","mousedown","mouseup","click","mousedown","mouseup","click","dblclick"]:e===this.HTML_CLICK_HOVERONLY?["mouseover","mouseenter","mousemove"]:e===this.HTML_CLICK_MOUSE_DOWN?["mouseover","mousemove","mousedown"]:e===this.HTML_CLICK_MOUSE_UP?["mouseover","mousemove","mouseup"]:["mouseover","mousemove","mousedown","mouseup","click"],a={bubbles:!0,cancelable:!0,detail:1,relatedTarget:null,view:window,screenX:r.screenX||0,screenY:r.screenY||0,clientX:r.clientX||0,clientY:r.clientY||0,ctrlKey:r.ctrlOn||!1,altKey:r.altOn||!1,shiftKey:r.shiftOn||!1,metaKey:!1,button:t};c.context.logger.trace("raiseClickEvent： params",a);try{document.createEvent||window.MouseEvent?c.context.lodash.each(i,function(t,e){setTimeout(function(){n.dispatchEvent(function(t,e){try{return new MouseEvent(t,e)}catch(r){c.context.logger.warn("ofMouseEvent warning: not support W3C MouseEvent!")}var n=(window.clickniumRootDocument||document).createEvent("MouseEvent");return n.initMouseEvent(t,e.bubbles,e.cancelable,e.view,e.detail||0,e.screenX||0,e.screenY||0,e.clientX||0,e.clientY||0,e.ctrlKey||!1,e.altKey||!1,e.shiftKey||!1,e.metaKey||!1,e.button||0,e.relatedTarget||null),n}(t,a)),e===i.length-1&&o&&o()},e)}):c.context.lodash.each(i,function(t,e){setTimeout(function(){"click"===t?n.click():n.fireEvent("on"+t),e===i.length-1&&o&&o()},e)})}catch(u){throw c.context.logger.error("raiseClickEvent error: "+u.message),u}},r.prototype.raiseUiEventAsync=function(t,e,n,r){if(t==undefined||null==t)throw new Error("raiseUiEvent Error :  Target element is undefined!");n=n===undefined?{}:n;try{document.createEvent||window.UIEvent?setTimeout(function(){t.dispatchEvent(function(t,e){try{return new UIEvent(t,e)}catch(r){c.context.logger.warn("ofUiEvent warning: not support W3C UIEvent!")}var n=(window.clickniumRootDocument||document).createEvent("UIEvent");return n.initUIEvent(t,e.bubbles,e.cancelable,e.view,e.detail),n}(e,{cancelable:n.cancelable!==undefined&&n.cancelable,bubbles:n.bubbles===undefined||n.bubbles,detail:n.detail===undefined?1:n.detail,view:n.view===undefined?window:n.view})),r&&r()}):setTimeout(function(){e="input"===e?"onpropertychange":"on"+e,t.fireEvent(e),r&&r()})}catch(o){throw c.context.logger.error("raiseClickEvent error: "+o.message),o}},r.prototype.raiseKeyEventAsync=function(t,e,n,r){if(t==undefined||null==t)throw new Error("raiseKeyEventAsync Error :  Target element is undefined!");document.createEvent||window.KeyboardEvent?setTimeout(function(){t.dispatchEvent(function(t,e){try{return new KeyboardEvent(t,e)}catch(r){c.context.logger.warn("ofKeyboardEvent warning: not support W3C KeyboardEvent!")}var n=(window.clickniumRootDocument||document).createEvent("KeyboardEvent");return n.initKeyboardEvent?n.initKeyboardEvent(t,e.bubbles||!0,e.cancelable||!1,e.view||window,e.ctrlKey||!1,e.altKey||!1,e.shiftKey||!1,e.metaKey||!1,e.key,e.code):n.initKeyEvent(t,e.bubbles||!0,e.cancelable||!1,e.view||window,e.ctrlKey||!1,e.altKey||!1,e.shiftKey||!1,e.metaKey||!1,e.key,e.code),n}(e,__assign(__assign({},n),{cancelable:n.cancelable!==undefined&&n.cancelable,bubbles:n.bubbles===undefined||n.bubbles,detail:n.detail===undefined?1:n.detail,view:n.view===undefined?window:n.view}))),r&&r()}):setTimeout(function(){t.fireEvent("on"+e),r&&r()})},r.prototype.raiseKeyEventByChartAync=function(n,r,o){var i=this;c.context.lodash.each(["keydown","Keypress","keyup"],function(t,e){setTimeout(function(){i.raiseKeyEventAsync(n,t,{key:r}),o&&o()})})},r);function r(){this.CLICK_OFFSET_X=2,this.CLICK_OFFSET_Y=2,this.HTML_LEFT_BUTTON=0,this.HTML_MIDDLE_BUTTON=1,this.HTML_RIGHT_BUTTON=2,this.HTML_CLICK_SINGLE=0,this.HTML_CLICK_DOUBLE=1,this.HTML_CLICK_HOVERONLY=2,this.HTML_CLICK_MOUSE_DOWN=3,this.HTML_CLICK_MOUSE_UP=4}e.Event=n}),define("common/dataScraping",["require","exports","common/context"],function(t,e,C){"use strict";e.__esModule=!0;var n=(r.prototype.firstScrape=function(t){for(var e=t;e;){switch(e.tagName.toLowerCase()){case"table":return e;case"html":return null;default:e=e.parentElement;continue}}return null},r.prototype.createXmlDocument=function(t){if(window.DOMParser)return(new window.DOMParser).parseFromString(t,"text/xml");var e=new ActiveXObject("Microsoft.XMLDOM");if(e.async=!1,e.loadXML(t),0!=e.parseError.errorCode)throw e.parseError.reason;return e},r.prototype.scrapeData=function(t,e){var n=this.createXmlDocument(e),r="extract-table"===n.documentElement.tagName,o=n.documentElement.getAttribute("session_id")||"";return r?this.scrapeFromTable(t,n,o):this.scrapeFromPath(t,n,o)},r.prototype.createRowXML=function(n,s,l,f){var d=this,m=[],h=!1;C.context.lodash.forEach(s.columns,function(t){for(var e=t.path[t.path.length-1].tag,n=d.getAllElesByTag(f,e),r=0;r<n.length;r++){var o=n[r];if(d.checkHierarchy(o,l,t)){var i=s.sessionID;if(i){if(d.hasSessionAttribute(o,i,t.attr)||t.attr2&&t.name2&&d.hasSessionAttribute(o,i,t.attr2)){h=!0;break}d.setSessionAttribute(o,i,t.attr),t.attr2&&t.name2&&d.setSessionAttribute(o,i,t.attr2)}m.push({name:t.name,extrData:d.getElemAttribute(o,t.attr)});for(var a=2;a<100;a++){var u="name"+a,c="attr"+a;if(C.context.logger.trace("Data Script",t[u],t[c],u),!t[u]||!t[c])break;m.push({name:t[u],extrData:d.getElemAttribute(o,t[c])})}"1"===s.addResultAttr&&o.setAttribute("data-extract-result-name",t.name);break}}});var r=null;return m.length&&(r=n.createElement("row"),C.context.lodash.map(m,function(t){var e=n.createElement("column");e.setAttribute("name",t.name),e.appendChild(n.createTextNode(t.extrData)),r.appendChild(e)})),r?{isSameSession:h,rowXml:r}:{isSameSession:h}},r.prototype.scrapeFromPath=function(n,t,e){var r=this,o=!1,i=this.getScrapeFromPathInput(t,n,e),a=this.createXmlDocument("<extract></extract>"),u=a.documentElement;if(i.row){var c=i.row.path,s=c[c.length-1].tag,l=this.getAllElesByTag(n,s);C.context.lodash.forEach(l,function(t){var e;r.checkHierarchy(t,n,i.row)&&((e=r.createRowXML(a,i,n,t)).rowXml&&u.appendChild(e.rowXml),o=e.isSameSession)})}else{if(1!==i.columns.length)throw"No row info provided";for(var f=i.columns[0],d=f.path[f.path.length-1].tag,m=this.getAllElesByTag(n,d),h=0;h<m.length;h++){var g=m[h];if(this.checkHierarchy(g,n,f)){if(i.sessionID){if(this.hasSessionAttribute(g,i.sessionID,f.attr)||f.name2&&f.attr2&&this.hasSessionAttribute(g,i.sessionID,f.attr2)){o=!0;continue}this.setSessionAttribute(g,i.sessionID,f.attr),f.attr2&&f.name2&&this.setSessionAttribute(g,i.sessionID,f.attr2)}var p=a.createElement("row"),x=a.createElement("column");x.setAttribute("name",f.name),x.appendChild(a.createTextNode(this.getElemAttribute(g,f.attr))),p.appendChild(x);for(var v=2;v<100;v++){var y="name"+v,w="attr"+v;if(C.context.logger.trace("Data Script",f[y],f[w],y),!f[y]||!f[w])break;var b=a.createElement("column");b.setAttribute("name",f[y]),b.appendChild(a.createTextNode(this.getElemAttribute(g,f[w]))),p.appendChild(b)}u.appendChild(p),"1"===i.addResultAttr&&g.setAttribute("data-extract-result-name",f.name)}}}return o&&u.setAttribute("same-session-encountered","1"),this.SanitizeStringForXML(a.xml?a.xml:(new XMLSerializer).serializeToString(a))},r.prototype.setSessionAttribute=function(t,e,n){t.setAttribute(this.getSessionAttributeName(e,n),"true")},r.prototype.removeSessionAttribute=function(t,e,n){t.removeAttribute(this.getSessionAttributeName(e,n))},r.prototype.getSessionAttributeName=function(t,e){return"data-scrape-session-"+e+"-"+t},r.prototype.hasSessionAttribute=function(t,e,n){return 1===t.nodeType&&!!t.getAttribute(this.getSessionAttributeName(e,n))},r.prototype.checkHierarchy=function(t,e,n){var r=t,o=n.path.length-1;if(!this.checkElementData(r,n.path[o]))return!1;for(--o;0<=o;){if(!(r=r.parentElement)||this.isSameNode(r,e))return!1;var i=n.path[o];if(this.checkElementData(r,i))--o;else if(n.exact)return!1}return!0},r.prototype.getScrapeFromPathInput=function(t,e,n){var f={columns:[],addResultAttr:t.documentElement.getAttribute("add_res_attr")||"0",sessionID:n},d=function(t){var e=t.getElementsByTagName("webctrl");if(!e.length)throw"Invalid path in XML.";return C.context.lodash.map(e,function(t){var e={},n=t.getAttribute("tag"),r=t.getAttribute("idx"),o=t.getAttribute("class"),i=t.getAttribute("text");if(!n)throw"Invalid tag name in XML data.";if(C.context.lodash.assign(e,{tag:n}),o&&C.context.lodash.assign(e,{cls:o}),i&&C.context.lodash.assign(e,{text:i}),r){var a=parseInt(r)-1;if(isNaN(a))throw"Invalid index in XML data.";C.context.lodash.assign(e,{index:a})}return e})};C.context.lodash.forEach(t.getElementsByTagName("column"),function(t){var e=t.getAttribute("name"),n=t.getAttribute("attr")||"text",r="1"===t.getAttribute("exact");if(!e)throw"Column name required in XML input data.";for(var o={name:e,attr:n,exact:r,path:d(t)},i={},a=2;a<100;a++){var u="name"+a,c="attr"+a,s=t.getAttribute(u),l=t.getAttribute(c);s&&l&&(i[u]=s,i[c]=l)}C.context.lodash.assign(o,i),f.columns.push(o)});var r,o=t.getElementsByTagName("row")[0]||null;return o&&(r="1"===o.getAttribute("exact"),f.row={exact:r,path:d(o)}),f},r.prototype.getElemAttribute=function(t,e){var n=C.context.lodash.trim;if("text"===e)return n(C.context.jQuery(t).text());if("href"!==e)return n(C.context.elementHelper.getAttributeValue(t,n(e),""));for(var r=t;;){var o=r.getAttribute("href");if(o)return n(o);if(!(r=r.parentElement))return""}},r.prototype.scrapeFromTable=function(t,e,n){if("TABLE"!==t.tagName.toUpperCase())throw"Table object expected!";var r=e.documentElement,o="0"!==r.getAttribute("get_columns_name"),i="1"===r.getAttribute("get_empty_columns");return this.extractMatrix(t,"td",o,i,!1,!1,n).toXml()},r.prototype.extractMatrix=function(t,e,n,r,o,i,a){void 0===o&&(o=!1),void 0===i&&(i=!1);var u=this.createTableMatrix(t,n,r),c=t.rows;if(c)for(var s=0;s<c.length;s++){var l=c[s],f=this.getAllElesByTag(l,e);if(f)for(var d=0,m=0;m<f.length;m++){var h=f[m];for(!i&&a?this.hasSessionAttribute(h,a,"text"):this.setSessionAttribute(h,a,"text");u.getAt(s,d);)d++;for(var g=isNaN(h.colSpan)?1:h.colSpan,p=isNaN(h.rowSpan)?1:h.rowSpan,x=0;x<g;x++){for(var v=0;v<p;v++){var y=o&&0<v?"":C.context.lodash.trim(C.context.jQuery(h).text());u.setAt(s+v,d,y)}d++}}}return u},r.prototype.createTableMatrix=function(c,s,l){var f=[],d=!1,m=this;return{setSameSessionFlag:function(t){d=t},reset:function(){f.length=0,d=!1},setAt:function(t,e,n){f[t]===undefined&&(f[t]=[]),f[t][e]=n},getAt:function(t,e){return f[t]&&f[t][e]!==undefined?f[t][e]:null},toXml:function(){for(var t=m.createXmlDocument("<extract></extract>"),e=t.documentElement,n=m.getColumnsName(c,s,l),r=0;r<f.length;r++)if(f[r]){for(var o=t.createElement("row"),i=0;i<f[r].length;i++){var a,u=-1!==C.context.lodash.indexOf([undefined,null],f[r][i])?"":f[r][i];(u||l)&&((a=t.createElement("column")).setAttribute("name",n(i)),a.appendChild(t.createTextNode(u)),o.appendChild(a))}e.appendChild(o)}return d&&e.setAttribute("same-session-encountered","1"),m.SanitizeStringForXML(t.xml||(new XMLSerializer).serializeToString(t))},toColumnNames:function(){for(var t=[],e=0;e<f.length;e++)if(f[e])for(var n=0;n<f[e].length;n++)t[n]===undefined?t[n]=f[e][n]:t[n]+=" "+f[e][n];return t}}},r.prototype.getColumnsName=function(t,e,n){var r=e?this.extractMatrix(t,"th",e,n,!0,!0).toColumnNames():[];return function(t){return r[t]?r[t]:"Column-"+t}},r.prototype.isMutationObserverAvailable=function(){return MutationObserver&&"MutationObserver"in Window},r.prototype.getAllElesByTag=function(t,e){return t.getElementsByTagName(e)},r.prototype.SanitizeStringForXML=function(t){return t.replace(/[^\x09\x0A\x0D\x20-\x7E\x85\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]/gm,"")},r.prototype.getCommonPathAndTop=function(t){var n=this,r=this.getCommonPathInput(t),e=[],o=function(){var t=C.context.jQuery("[data-clicknium-common-parent='1']").get(0);if(t)return t;var e=[];return C.context.lodash.forEach(r,function(t){return e.push(t.elem1,t.elem2)}),n.getCommonParent(e)}();if(!o)throw"ErrParent: Cannot find pattern, not a common parent";for(var i=0;i<r.length;i++){var a=this.getElemPath(r[i].elem1,o),u=this.getElemPath(r[i].elem2,o),c=r[i],s=c.name,l=c.attr,f=c.attr2,d=c.name2,m=this.getCommonPath(a,u);C.context.lodash.assign(m,{name:s,attr:l}),f&&d&&C.context.lodash.assign(m,{attr2:f,name2:d}),e.push(m)}return{outputxml:this.renderCommonPathXML(o,r,e),topCustomId:C.context.customIdHelper.generateCustomIdForElement(o)}},r.prototype.renderCommonPathXML=function(t,e,n){var r=this.getCommonParent(C.context.lodash.map(e,function(t){return t.elem1})),o=this.getCommonParent(C.context.lodash.map(e,function(t){return t.elem2})),u=this.createXmlDocument("<extract></extract>"),a=u.documentElement,c=function(a,t){C.context.lodash.forEach(t.path,function(t){var e=u.createElement("webctrl"),n=t.tag,r=t.cls,o=t.text,i=t.index;e.setAttribute("tag",n),r&&e.setAttribute("class",r),o&&e.setAttribute("text",o),i!==undefined&&e.setAttribute("idx",(i+1).toString()),a.appendChild(e)}),t.exact?a.setAttribute("exact","1"):a.setAttribute("exact","0")};if(1<e.length){var i=this.getCommonPath(this.getElemPath(r,t),this.getElemPath(o,t));if(null===i)throw"ErrCorrelation: Please indicate fields that are correlated with the fields you indicated to define the first column.";var s=u.createElement("row");c(s,i),a.appendChild(s)}return C.context.lodash.forEach(n,function(t){var e=t.name,n=t.attr,r=t.attr2,o=t.name2,i=u.createElement("column");i.setAttribute("name",null!=e?e:"Colume-0"),i.setAttribute("attr",null!=n?n:"text"),r&&o&&(i.setAttribute("attr2",r),i.setAttribute("name2",o)),c(i,t),a.appendChild(i)}),u.xml?u.xml:(new XMLSerializer).serializeToString(u)},r.prototype.getCommonPath=function(t,e){if(-1<C.context.lodash.indexOf([t.length,e.length],0))return null;for(var n=[],r=Math.min(t.length,e.length),o=function(t,e){if(t.tag!==e.tag)return null;var n={tag:t.tag},r=!0;return t.cls===e.cls?t.cls&&(n.cls=t.cls):r=!1,t.text===e.text?t.text&&(n.text=t.text):r=!1,r&&t.index===e.index&&(n.index=t.index),n},i=t.pop(),a=e.pop(),u=0;u<r-1;u++){var c=o(t[u],e[u]);if(!c)break;n.push(c)}var s=o(i,a);if(!s)throw"ErrMatch: Pattern elements don't match";return n.push(s),{path:n,exact:t.length===e.length&&t.length===n.length-1}},r.prototype.getElemPath=function(t,e){for(var n=[],r=t,o=!0;r&&!this.isSameNode(r,e);){var i=this.getElemData(r,o),o=!1;i.index=this.indexInParent(r,i),n.push(i),r=r.parentElement}return n.reverse()},r.prototype.getChildrenByTag=function(t,e){var n=t.children;return C.context.lodash.filter(n,function(t){return t.tagName.toLowerCase()===e.toLowerCase()})},r.prototype.indexInParent=function(t,e){var n=this.getChildrenByTag(t.parentElement,t.tagName.toLowerCase()),r=e.tag,o=e.cls,i=e.text,a={tag:r};o&&C.context.lodash.assign(a,{cls:o}),i&&C.context.lodash.assign(a,{text:i});for(var u=0,c=0;c<n.length;c++){var s=n[c];if(this.isSameNode(t,s))break;this.checkElementData(t,a)&&u++}return u},r.prototype.checkElementData=function(t,e){return t.tagName.toLowerCase()===e.tag&&((!e.cls||e.cls===t.className)&&((!e.text||e.text===this.getDirectText(t))&&("number"!=typeof e.index||e.index===this.indexInParent(t,e))))},r.prototype.getElemData=function(t,e){var n={tag:t.tagName.toLowerCase(),cls:t.className||""};return e||C.context.lodash.assign(n,{text:this.getDirectText(t)}),n},r.prototype.getDirectText=function(t){for(var e="",n=t.firstChild;n;)3===n.nodeType&&(e+=n.nodeValue),n=n.nextSibling;return C.context.lodash.trim(e)},r.prototype.getCommonParent=function(t){for(var e,n=C.context.lodash.map(t,function(t){for(var e=[];t.parentElement;){var n=t.parentElement;e.push(n),t=n}return e.reverse()}),r=C.context.lodash(n).map(function(t){return t.length}).reduce(function(t,e){return Math.min(t,e)},1e6),o=!1,i=0;i<r;i++){for(var a=n[0][i],u=0;u<n.length;u++)if(!this.isSameNode(a,n[u][i])){o=!0;break}if(!1!==o)break;e=a}return e},r.prototype.getCommonPathInput=function(t){for(var r=this,e=this.createXmlDocument(t).getElementsByTagName("column"),n=[],o=0;o<e.length;o++){var i=e.item(o),a=i.getAttribute("clickniumid1"),u=i.getAttribute("clickniumid2"),c=i.getAttribute("name2"),s=i.getAttribute("attr2"),l=C.context.customIdHelper.getElementByCustomId(a),f=C.context.customIdHelper.getElementByCustomId(u);if(!a||!u)throw new Error("ErrId: Invalid clickniumId");var d={name:i.getAttribute("name"),attr:i.getAttribute("attr"),clickniumId1:a,clickniumId2:u};c&&s&&C.context.lodash.assign(d,{name2:c,attr2:s}),l&&C.context.lodash.assign(d,{elem1:l}),f&&C.context.lodash.assign(d,{elem2:f}),n.push(d)}if(C.context.lodash.some(n,function(t){return!t.elem1||!t.elem2}))throw"ErrPattern: Cannot find all pattern elements";return C.context.lodash.forEach(n,function(t){var e=t.elem1,n=t.elem2;if(r.skipInvalidElemforTag(e)!==r.skipInvalidElemforTag(n))throw"ErrTag: Cannot find pattern, elements differs by tag"}),n},r.prototype.skipInvalidElemforTag=function(t){return(-1<C.context.lodash.indexOf(["b","u","i","strong","font","em"],t.tagName.toLowerCase())?t.parentElement:t).tagName.toLowerCase()},r.prototype.isSameNode=function(t,e){return t===e},r);function r(){}e["default"]=n}),define("common/context",["require","exports","./lodash/lodash","./jquery/jquery","common/point","common/customId","common/position","common/element","common/uiRect","common/utils","common/logger","common/sinfo","common/selector","common/matcher","common/xpath","common/event","common/dataScraping"],function(t,i,e,n,r,o,a,u,c,s,l,f,d,m,h,g,p){"use strict";i.__esModule=!0,i.context=i.initialContext=void 0,e=__importDefault(e),n=__importDefault(n),r=__importStar(r),c=__importStar(c),s=__importStar(s),l=__importDefault(l),m=__importStar(m),p=__importDefault(p),i.initialContext=function(){(s.isIEBrowser()?function(){throw new Error("Not implement")}:function(){window.isLoaded=!0;var o,t={defaultLevel:l["default"].INFO,formatter:function(t,e){t.unshift("[ClickniumLogger-"+e.level.name+"]")}};l["default"].setHandler((o=l["default"].createDefaultHandler(t),function(t,e){var n=i.context.lodash(t).map(function(t){return"function"==typeof t&&(t=t.call(undefined)),t}),r=new Date;o(t,e),browser.runtime.sendMessage({type:"log",data:{time:r,logs:n,level:e.level.name,name:e.name}})})),l["default"].setLevel(l["default"].INFO)})()};i.context={lodash:e["default"],jQuery:n["default"],pointUtil:r,uiRectUtil:c,positionHelper:new a.Position,customIdHelper:new o.CustomId,elementHelper:new u.ElementHelper,sinfoHelper:new f.SInfo,selectorHelper:new d.Selector,matcherHelper:m,xpathHelper:h.xpathHelper,utils:s,logger:l["default"],dataScraping:new p["default"],setConfig:function(t){var e,n,r;"string"==typeof t&&(t=i.context.utils.JSONParse(t)),window.clickniumConfig={logLevel:t.logLevel},i.context.logger.setLevel(i.context.logger[null!==(r=null===(n=null===(e=window.clickniumConfig)||void 0===e?void 0:e.logLevel)||void 0===n?void 0:n.toUpperCase())&&void 0!==r?r:"INFO"])},cache:{},eventHelper:new g.Event,retCodeEnum:{TRUE_CODE:1,FALSE_CODE:0,SELECT_NOT_SUPPORTED:2,SELECT_ITEMS_NOT_FOUND:3,ELEMENT_NOT_FOUND:400,CUSTOMID_IS_REQUIRED:401,NOT_SUPPORTED_FEATURE:402,JS_RUNNING_TIME_ERROR:500}}}),define("internetExplorer/entry",["require","exports","common/context","../common/lodash/lodash"],function(t,e,c,i){"use strict";e.__esModule=!0,e.doInit=void 0,i=__importDefault(i);var a=!1;function n(){var t,e,n,r;function o(t){if(c.context.lodash.isEmpty(t))return c.context.logger.error("message is undefined."),c.context.utils.JSONStringfy({retCode:0,message:"message is undefined"});var e=c.context.lodash.isString(t)?c.context.utils.JSONParse(t):t,n=null==e?void 0:e.functionCall;if(i["default"].isEmpty(n))return c.context.logger.error("functionCall is undefined."),c.context.utils.JSONStringfy({retCode:0,message:"functionCall is undefined."});n=c.context.lodash.first(n.split("."));var r=c.context.lodash.get(SyncPluginsMap,n.toUpperCase());return"function"==typeof r?function(t,e,n){var r=c.context.logger;r.debug(function(){return n+" --↓↓-- function executing, arguments :"},e),e.requestData||(e.requestData=e);try{var o=(new Date).getTime(),i=t(e,c.context),i=__assign(__assign({},i),i.responseData);try{1!==i.retCode?r.error(function(){return n+" error, time: "+((new Date).getTime()-o).toString()+" ms, result :"},i):r.debug(function(){return n+" --↑↑-- function finished, time: "+((new Date).getTime()-o).toString()+" ms, result :"},i)}catch(a){}return c.context.utils.JSONStringfy(i)}catch(u){return u instanceof Error?c.context.logger.error("invokeFunction error- functionName: "+n+", message: "+u.message+", stack: "+u.stack):c.context.logger.error("invokeFunction error- functionName: "+n+", message: "+u),c.context.utils.JSONStringfy({retCode:FALSE_CODE,message:n+" error: "+("string"==typeof u?u:u.message)})}}(r,e,n):(c.context.logger.error("function "+n+" is not undefined."),c.context.utils.JSONStringfy({retCode:0,message:"function "+n+" is not support."}))}a||(a=!0,window.clicknium_sync_call=o,n=c.context.logger,r={defaultLevel:window.clickniumConfig.logLevel,formatter:function(t,e){t.unshift("[ClickniumLogger-"+e.level.name+"]")}},n.setLevel(n[null!==(e=null===(t=window.clickniumConfig)||void 0===t?void 0:t.logLevel.toUpperCase())&&void 0!==e?e:"INFO"]),n.setHandler(function(t){var o=n.createDefaultHandler(t);return function(t,e){var n=c.context.lodash(t).map(function(t){return"function"==typeof t&&(t=t()),null===t||t===undefined?"":"string"!=typeof t?c.context.utils.JSONStringfy(t):String(t)}).join(","),r="["+(new Date).toTimeString()+"]-["+(e.name||"main")+"]-["+e.level.name+"]-"+n;c.context.cache.logs||(c.context.cache.logs=[]);500<=c.context.cache.logs.length&&(c.context.cache.logs=c.context.lodash.drop(c.context.cache.logs)),c.context.cache.logs.push(r),o(t,e)}}(r)),c.context.jQuery("body").get(0)?c.context.jQuery("body").attr("clicknium_plugin","enable"):c.context.jQuery("html").attr("clicknium_plugin","enable"))}(e.doInit=n)()});
commonPluginSyncCall("checkElement.js",function(e,t){var r,n,o=t.customIdHelper.getElementByCustomId(e.requestData.customId);if(!o)return{retCode:FALSE_CODE,message:"Target element is not found!"};var a=null===(r=o.tagName)||void 0===r?void 0:r.toLowerCase();if("label"===a){var s=o.htmlFor;if(!t.lodash.isEmpty(s)){if(!(o=t.jQuery("#"+s).get(0)))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element is not found by label for id!"};a=null===(n=o.tagName)||void 0===n?void 0:n.toLowerCase()}}if("input"!==a)return{retCode:t.retCodeEnum.NOT_SUPPORTED_FEATURE,message:"Unsupport element: "+a};var u=t.jQuery(o).attr("type");if("checkbox"!==u&&"radio"!==u||null===o.checked||o.checked===undefined)return{retCode:t.retCodeEnum.NOT_SUPPORTED_FEATURE,message:"Unsupport input type: "+u};if((!0===o.checked?TRUE_CODE:FALSE_CODE)===e.requestData.doCheck)return t.logger.trace("Check element's value is not change"),{retCode:TRUE_CODE};var l=t.uiRectUtil.uiRectOfElement(o),i=t.positionHelper.cssRectToClientRect(l),d=e.requestData.windowLeft||0+i.left,c=e.requestData.windowTop||0+i.top,E=Math.round(l.left),m=Math.round(l.top);return t.eventHelper.raiseMouseEventAsync(o,t.eventHelper.HTML_LEFT_BUTTON,t.eventHelper.HTML_CLICK_SINGLE,{screenX:d,screenY:c,clientX:E,clientY:m}),{retCode:TRUE_CODE,responseData:{}}});
commonPluginSyncCall("clickElement.js",function(e,t){var n=e.requestData,r=n.customId,o=n.buttonType,l=n.eventType,a=e.requestData.windowLeft||0,c=e.requestData.windowTop||0,i=t.customIdHelper.getElementByCustomId(r),s=t.utils.getDevicePixelRatio(),u=e.requestData.x,m=e.requestData.y;if(!i)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};var d=t.uiRectUtil.uiRectOfElement(i),p=t.positionHelper.cssRectToClientRect(d),v=a+p.left+u,C=c+p.top+m,E=Math.round(d.left+u/s),D=Math.round(d.top+m/s);return t.logger.trace("Clict element,evtScreenX: "+v+",evtScreenY: "+C+", evtClientX: "+E+", evtClientY: "+D),t.eventHelper.raiseMouseEventAsync(i,o,l,{screenX:v,screenY:C,clientX:E,clientY:D}),{retCode:TRUE_CODE,responseData:{}}});
commonPluginSyncCall("firstScrape.js",function(e,t){var a=e.requestData.customId,r=t.customIdHelper.getElementByCustomId(a),m=t.utils.getFramePathByParentId(a);if(!r)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};var s=t.dataScraping.firstScrape(r);if(s){var n=t.customIdHelper.generateCustomIdForElement(s);return{retCode:TRUE_CODE,responseData:{tagName:s.tagName,customId:n,framePaths:m}}}return{retCode:TRUE_CODE,responseData:{tagName:"",customId:"",framePaths:[]}}});
commonPluginSyncCall("getCommonPath.js",function(t,o){var e=t.requestData.inputXML;try{var a=o.dataScraping.getCommonPathAndTop(e),n=a.outputxml,r=a.topCustomId;return{retCode:TRUE_CODE,responseData:{xml:n,topCustomId:r}}}catch(m){return{retCode:FALSE_CODE,message:m instanceof Error?m.message:m.toString()}}});
commonPluginSyncCall("getDevicePixelRatio.js",function(e,i){return{retCode:TRUE_CODE,responseData:{devicePixelRatioPercentage:Math.round(100*i.utils.getDevicePixelRatio())}}});
commonPluginSyncCall("getElementAncestryInfo.js",function(s,u){var e,t,n=1,r=2,o=4,a=8,m=u.customIdHelper.getShortCustomId(s.requestData.customId);window.clickniumRootDocument=document,window.clickniumRootWindow=window;var i,d=s.requestData.getFlags,l=0!=(d&n),c=0!=(d&r),I=0!=(d&o),g=0!=(d&a);function f(e,t,n,r){u.logger.trace("getElementAncestryInfo: getNodeInfo, targetElementId: "+t+",targetElement: "+(null==e?void 0:e.tagName)+",parentId: "+n+",isPresentInSelector: "+r);var o=!(!r||!I),a=u.selectorHelper.getSelectorByCustomId(t,{targetTagName:e.tagName.toLowerCase(),parentId:n,computeIndex:o}),m=u.selectorHelper.getAttributeNamePriorityArray(e),i=c?u.elementHelper.getAttrValueListForElement(e,["innerhtml","outerhtml","outertext","innertext"].concat(m),!0):{},d=window.clickniumRootDocument||document,l=u.xpathHelper.getXPathStr(e,d.documentElement,"autoBest");return{customId:u.utils.getCustomIdWithTabAndFrameId(s.tabId,s.frameId,t),framePaths:[],isPresentInSelector:r?TRUE_CODE:FALSE_CODE,selectorInfo:{tagName:a.tag,index:o?a.index:-1,attributes:a.attrMap},otherAttributes:i,xpathList:l?[l]:undefined}}var p,w,E=[];if(u.utils.isFromeCroFrame(s))E=null!==(t=null===(e=s.coFrameData)||void 0===e?void 0:e.nodeHierarchyInfo)&&void 0!==t?t:[],E=u.lodash.map(E,function(e){return e.framePaths&&e.framePaths.unshift(s.coFrameInfo.srcFrameIndex),e}),i=u.utils.getIFrameElementByCoFrameInfo(s.coFrameInfo),m=u.customIdHelper.generateCustomIdForElement(i);else{if(u.lodash.isEmpty(m))return{retCode:u.retCodeEnum.CUSTOMID_IS_REQUIRED,message:"CustomId is required!"};i=u.customIdHelper.getElementByCustomId(m),E=[]}if(!i)return{retCode:u.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element is not found!"};u.logger.trace("flags: requireIntermediateParents-"+l+",requireAllAttributes-"+c+",requireSelectorIndex-"+I+",xpathMode-"+g),-1!=m.indexOf(">")&&"IE"!=browserType&&(p=m.split(">")[0],w=window.frames[parseInt(p)].window,window.clickniumRootWindow=w,window.clickniumRootDocument=w.document);var h=i,C=m;if(g){var F=u.xpathHelper.getElementXPathList(i);if(E.push({customId:u.utils.getCustomIdWithTabAndFrameId(s.tabId,s.frameId,C),selectorInfo:{xpath:u.lodash.first(F)},xpathlist:F}),-1!=m.indexOf(">")&&"IE"!=browserType){window.clickniumRootWindow=window,window.clickniumRootDocument=document;for(var x=null,D=document.getElementsByTagName("iframe"),v=0;v<=D.length;++v)if(i.ownerDocument===D[v].contentDocument){x=D[v];break}var y=u.customIdHelper.generateCustomIdForElement(x),H=u.xpathHelper.getElementXPathList(x);E.push({customId:u.utils.getCustomIdWithTabAndFrameId(s.tabId,s.frameId,y),selectorInfo:{xpath:u.lodash.first(H)},xpathlist:H})}}else{for(var b=100;h&&0<--b;){var T=u.selectorHelper.getInterestingParentElement(h);u.logger.trace("getElementAncestryInfo: getNextInterestingParentElement, interestingParentElement: "+(null==T?void 0:T.tagName));var P=l&&-1==m.indexOf(">")?u.selectorHelper.getIntermediateParents(h,T||document.documentElement):[],A=T?u.customIdHelper.generateCustomIdForElement(T):undefined;if(E.push(f(h,C,A,!0)),P&&0<P.length)for(v=0;v<P.length;++v){var R=P[v];if(R===window.clickniumRootDocument.documentElement)break;var k=u.customIdHelper.generateCustomIdForElement(R);E.push(f(R,k,undefined,R===T))}h=T,C=A}if(-1!=m.indexOf(">")&&"IE"!=browserType){window.clickniumRootWindow=window,window.clickniumRootDocument=document;for(x=null,D=document.getElementsByTagName("iframe"),v=0;v<=D.length;++v)if(i.ownerDocument===D[v].contentDocument){x=D[v];break}y=u.customIdHelper.generateCustomIdForElement(x);E.push(f(x,y,undefined,!0))}}var N=u.utils.isCroFrameAvaiable()&&!u.utils.isMainFrame();return{retCode:TRUE_CODE,responseData:{nodeHierarchyInfo:E},coFrameData:{nodeHierarchyInfo:E},coFrameInfo:u.utils.getCoFrameInfo({sendToFrame:N,sendToParent:N,crtFrameId:s.frameId})}});
commonPluginSyncCall("getElementAttribute.js",function(e,t){var r,n,o,i=e.requestData.customId,a=t.lodash.trim(null===(n=null===(r=e.requestData)||void 0===r?void 0:r.attrName)||void 0===n?void 0:n.toLowerCase()),m={isfullscreen:function(){return document.body.scrollHeight===window.screen.height&&document.body.scrollWidth===window.screen.width?"1":"0"},ismaximize:function(){return window.outerHeight===screen.availHeight&&window.outerWidth===screen.availWidth?"1":"0"},readystate:function(){return"complete"===document.readyState?"1":"0"},url:function(){return document.URL},pagetitle:function(){return document.title},htmlwindowname:function(){return window.name},cookie:function(){return document.cookie}};if(!a)return{retCode:FALSE_CODE,message:"AttrName is undefined!!"};if(m[a])try{o=m[a]()}catch(d){t.logger.warn("getElementAttribute error: "+d.message),o=undefined}else{var l=void 0;if(t.lodash.isEmpty(i))l=document.documentElement;else if(!(l=e.coFrameInfo?t.utils.getIFrameElementByCoFrameInfo(e.coFrameInfo):t.customIdHelper.getElementByCustomId(i)))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Could not find the target element!"};switch(a){case"parentcustomid":var s=t.jQuery(l).parent().get(0);if(!t.elementHelper.isHTMLElement(s))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element has no parent"};o=t.customIdHelper.generateCustomIdForElement(s);break;case"followingsiblingcustomid":var u=t.jQuery(l).next().get(0);if(!t.elementHelper.isHTMLElement(u))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element has no following sibling"};o=t.customIdHelper.generateCustomIdForElement(u);break;case"precedingsiblingcustomid":u=t.jQuery(l).prev().get(0);if(!t.elementHelper.isHTMLElement(u))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element has no preceding sibling"};o=t.customIdHelper.generateCustomIdForElement(u);break;default:o=t.elementHelper.getAttributeValue(l,a)}if(-1<t.lodash.indexOf(["isvisible"],a)&&t.utils.isCroFrameAvaiable()&&!t.utils.isMainFrame()&&!0===o)return{retCode:TRUE_CODE,coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:!0,sendToParent:!0,crtFrameId:e.frameId})}}return{retCode:TRUE_CODE,responseData:{attrValue:o}}});
commonPluginSyncCall("getElementAttributes.js",function(e,n){var a=e.requestData.customId;try{var t={};return n.lodash.each(e.requestData.attrNames,function(e){t[e]=function(t){if(!n.lodash.some(["readystate","pagetitle","windowframe","url","htmlwindowname","cookie","isfullscreen","ismaximize"],function(e){return e===t})){var e=void 0;if(n.lodash.isEmpty(a))e=document.documentElement;else if(!(e=n.customIdHelper.getElementByCustomId(a)))throw new Error("Could not find the target element!");if("parentcustomid"!==t)return n.elementHelper.getAttributeValue(e,t);var r=n.jQuery(e).parent().get(0);if(!n.elementHelper.isHTMLElement(r))throw new Error("Target element has no parent");return n.customIdHelper.generateCustomIdForElement(r)}switch(t){case"readystate":return 1;case"pagetitle":return document.title;case"url":return document.URL;case"htmlwindowname":return window.name;case"cookie":return document.cookie;case"isfullscreen":return document.body.scrollHeight===window.screen.height&&document.body.scrollWidth===window.screen.width?"1":"0";case"ismaximize":return window.outerHeight===screen.availHeight&&window.outerWidth===screen.availWidth?"1":"0";default:return""}}(e)}),{retCode:TRUE_CODE,responseData:{attrValueMap:t}}}catch(r){return{retCode:FALSE_CODE,message:r.message}}});
commonPluginSyncCall("getElementAttrValuesList.js",function(e,t){var l=e.requestData.customId,r=t.customIdHelper.getElementByCustomId(l);return{retCode:TRUE_CODE,responseData:{htmlAttributes:t.elementHelper.getAttrValueListForElement(r)}}});
commonPluginSyncCall("getElementBySelector.js",function(e,t){var r,a,o,n,l,m,i=null!==(a=null===(r=e.coFrameData)||void 0===r?void 0:r.framePaths)&&void 0!==a?a:[];e.frameId!=undefined&&0<=e.frameId&&i.push(e.frameId);var d=(d=null===(o=t.matcherHelper.getActiveValueString(new t.matcherHelper.AttributeValue(e.requestData.tagName)))||void 0===o?void 0:o.toString().toLowerCase())||(null===(n=t.matcherHelper.getActiveValueString(new t.matcherHelper.AttributeValue(e.requestData.attrMap.tag)))||void 0===n?void 0:n.toString().toLowerCase()),s=e.requestData.index,u=e.requestData.parentCustomId;if(t.utils.isCroFrameAvaiable()&&t.utils.isFromeCroFrame(e)&&(u=e.coFrameData.parentCustomId),u){i=t.utils.getFramePathByParentId(u),e.frameId!=undefined&&0<=e.frameId&&i.push(e.frameId);var c=t.customIdHelper.getElementByCustomId(u);if(t.utils.isCroFrameAvaiable()&&t.elementHelper.isIframeElement(c))return{retCode:TRUE_CODE,responseData:{},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:!0,crtFrameId:e.frameId,targetFrameElement:c}),coFrameData:{parentCustomId:undefined,framePaths:i}}}window.clickniumRootWindow=window,window.clickniumRootDocument=document;var f,I,p="";null!==(l=e.coFrameInfo)&&void 0!==l&&l.sendToFrame&&"about:blank"===(null===(m=e.coFrameInfo)||void 0===m?void 0:m.additionInfo)&&"IE"!=browserType&&(f=e.coFrameInfo.sendToChildrenFrameIndex,I=window.frames[f].window,p=f+">",window.clickniumRootWindow=I,window.clickniumRootDocument=I.document);var g,E=t.matcherHelper.ofAttributeValueMap(e.requestData.attrMap),C=t.matcherHelper.getActiveValueString(E.css_selector),F=t.matcherHelper.getActiveValueString(E.xpath),h=t.selectorHelper.getHtmlCollectionByParentIdOrCssSelector(d,{parentId:u,cssSelector:C,xpath:F});if(null===h||h===undefined||0===h.length)throw new Error("GetElementBySelector.js ElementCollection is null!");if(C&&delete E.css_selector,F&&delete E.xpath,0!==s&&t.lodash.isEmpty(s)){var v=t.selectorHelper.findElementUsingAttributes(h,E,s);if(!v)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};w=[g=t.customIdHelper.generateCustomIdForElement(v,p)]}else{var w,D=t.selectorHelper.findElementsUsingAttributes(h,E);if((w=t.lodash.map(D,function(e){return t.customIdHelper.generateCustomIdForElement(e,p)})).length<1)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};g=t.lodash.first(w)}return{retCode:TRUE_CODE,responseData:{isDocumentReady:"complete"===document.readyState?TRUE_CODE:FALSE_CODE,customId:g,customIdList:w,framePaths:i},coFrameData:{currentFrameId:e.frameId}}});
commonPluginSyncCall("getElementByXPath.js",function(e,t){var a,r,o,n,m=null!==(r=null===(a=e.coFrameData)||void 0===a?void 0:a.framePaths)&&void 0!==r?r:[];e.frameId!=undefined&&0<=e.frameId&&m.push(e.frameId);var d,i=e.requestData.parentCustomId;if(t.utils.isCroFrameAvaiable()&&t.utils.isFromeCroFrame(e)&&(i=e.coFrameData.parentCustomId),i&&(m=t.utils.getFramePathByParentId(i),e.frameId!=undefined&&0<=e.frameId&&m.push(e.frameId),d=t.customIdHelper.getElementByCustomId(i),t.utils.isCroFrameAvaiable()&&t.elementHelper.isIframeElement(d)))return{retCode:TRUE_CODE,responseData:{},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:!0,crtFrameId:e.frameId,targetFrameElement:d}),coFrameData:{parentCustomId:undefined,framePaths:m,currentFrameId:e.frameId}};window.clickniumRootWindow=window,window.clickniumRootDocument=document;var u,s,l="";null!==(o=e.coFrameInfo)&&void 0!==o&&o.sendToFrame&&"about:blank"===(null===(n=e.coFrameInfo)||void 0===n?void 0:n.additionInfo)&&"IE"!=browserType&&(u=e.coFrameInfo.sendToChildrenFrameIndex,s=window.frames[u].window,l=u+">",window.clickniumRootWindow=s,window.clickniumRootDocument=s.document);var c=t.xpathHelper.getElementNodesByXPath(e.requestData.xpath,d);t.logger.trace("getElementNodesByXPath: found "+(c&&c.length)+" element");var I=t.lodash.map(c,function(e){return t.customIdHelper.generateCustomIdForElement(e,l)}),f=t.lodash.first(I);return e.requestData.index&&(I=0<e.requestData.index?[f=I[e.requestData.index-1]]:[f=I[I.length+e.requestData.index]]),I&&0<I.length?{retCode:TRUE_CODE,responseData:{customId:f,customIdList:I,framePaths:m,isDocumentReady:"complete"===document.readyState?TRUE_CODE:FALSE_CODE},coFrameData:{currentFrameId:e.frameId}}:{retCode:FALSE_CODE,message:"No element found!"}});
commonPluginSyncCall("getElementChildren.js",function(e,t){var n,r,o=e.requestData.customId,m=parseInt(null===(n=e.requestData)||void 0===n?void 0:n.index);if(t.lodash.isEmpty(o))r=document.documentElement;else if(!(r=e.coFrameInfo?t.utils.getIFrameElementByCoFrameInfo(e.coFrameInfo):t.customIdHelper.getElementByCustomId(o)))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Could not find the target element!"};if(null!=m&&0<=m){var l=t.jQuery(r).children().get(m);if(!t.elementHelper.isHTMLElement(l))return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element has no parent"};u=[t.customIdHelper.generateCustomIdForElement(l)]}else var s=t.jQuery(r).children().get(),u=t.lodash.map(s,function(e){return t.customIdHelper.generateCustomIdForElement(e)});return{retCode:TRUE_CODE,responseData:{customIdList:u}}});
commonPluginSyncCall("getElementCollectionBySelector.js",function(e,t){var r,a,o,l=t.matcherHelper,n=null!==(a=null===(r=e.coFrameData)||void 0===r?void 0:r.framePaths)&&void 0!==a?a:[];e.frameId!=undefined&&0<=e.frameId&&n.push(e.frameId);var s=null===(o=l.getActiveValueString(new l.AttributeValue(e.requestData.tagName)))||void 0===o?void 0:o.toString().toLowerCase(),m=e.requestData.parentCustomId;if(t.utils.isCroFrameAvaiable()&&t.utils.isFromeCroFrame(e)&&(m=e.coFrameData.parentCustomId),m){n=t.utils.getFramePathByParentId(m),e.frameId!=undefined&&0<=e.frameId&&n.push(e.frameId);var d=t.customIdHelper.getElementByCustomId(m);if(d&&t.elementHelper.isIframeElement(d))return{retCode:TRUE_CODE,responseData:{},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:!0,crtFrameId:e.frameId,targetFrameElement:d}),coFrameData:{parentCustomId:null,framePaths:n}}}var u=e.requestData.maxElems,i=t.matcherHelper.ofAttributeValueMap(e.requestData.attrMap),c=t.matcherHelper.getActiveValueString(i),I=t.selectorHelper.getHtmlCollectionByParentIdOrCssSelector(s,{parentId:m,cssSelector:c});if(null===I||I===undefined||0===I.length)return{retCode:TRUE_CODE,responseData:{customIdList:[]}};c&&delete i.css_selector;var f=t.selectorHelper.findElementCollectionUsingAttributes(I,i,u);return f.length?{retCode:TRUE_CODE,responseData:{customIdList:t.lodash.map(f,function(e){return t.customIdHelper.generateCustomIdForElement(e)}),frameId:e.frameId,framePaths:n}}:{retCode:TRUE_CODE,responseData:{customIdList:[]}}});
commonPluginSyncCall("getElementFromPoint.js",function(e,t){var o,n,r,a,m,s,i=null!==(n=null===(o=e.coFrameData)||void 0===o?void 0:o.framePaths)&&void 0!==n?n:[];if(e.frameId!=undefined&&0<=e.frameId&&i.push(e.frameId),e.requestData.isRootRequiredEvent){var l=t.jQuery("html").get(0);return{retCode:TRUE_CODE,responseData:{customId:t.customIdHelper.generateCustomIdForElement(l),framePaths:i},coFrameData:{cssPoint:{},framePaths:i},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:!1,targetFrameElement:null,crtFrameId:e.frameId})}}s=t.utils.isCroFrameAvaiable()&&null!==(r=null==e?void 0:e.coFrameData)&&void 0!==r&&r.cssPoint?t.pointUtil.ofPoint(e.coFrameData.cssPoint.x,e.coFrameData.cssPoint.y):(m=t.pointUtil.ofPoint(e.requestData.screenX,e.requestData.screenY),t.positionHelper.screenPointToCssPoint(m,e.requestData)),t.logger.trace("getElementFromPoint.js current cssPosX: "+s.x+", cssPosY: "+s.y);var d=document.elementFromPoint(s.x,s.y),u="";if(t.utils.isInSpecialIframe(e.coFrameInfo))try{var c=window.frames[e.coFrameInfo.sendToChildrenFrameIndex].window.document,u=e.coFrameInfo.sendToChildrenFrameIndex+">",d=c.elementFromPoint(s.x,s.y)}catch(E){d=document.elementFromPoint(s.x,s.y),u=""}if(null==d||d===undefined)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Page title: "+document.title+", url: "+document.URL+", "+d+" Element not found!!"};"option"==(null===(a=d.tagName)||void 0===a?void 0:a.toLowerCase())&&(d=t.jQuery(d).parents("select").get(0));var f,F,I=t.customIdHelper.generateCustomIdForElement(d,u),P=undefined,g=!1;return t.utils.isCroFrameAvaiable()&&t.elementHelper.isIframeElement(d)&&(g=!0,f=t.elementHelper.getElementPadding(d),F=t.uiRectUtil.uiRectOfElement(d),P={x:s.x-F.left-f.paddingLeft,y:s.y-F.top-f.paddingTop}),{retCode:TRUE_CODE,responseData:{customId:I,framePaths:i},coFrameData:{cssPoint:P,framePaths:i},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:g,targetFrameElement:d,crtFrameId:e.frameId})}});
commonPluginSyncCall("getElementRectangle.js",function(e,t){var o,r,i=t.uiRectUtil.ofUIRect(0,0,0,0),n=!1;if(null!==(o=e.coFrameData)&&void 0!==o&&o.cssRect&&0<=(null===(r=e.coFrameInfo)||void 0===r?void 0:r.srcFrameIndex)&&(n=!0),n){i=t.uiRectUtil.ofUIRect(e.coFrameData.cssRect.left,e.coFrameData.cssRect.top,e.coFrameData.cssRect.width,e.coFrameData.cssRect.height);var a=t.utils.getIFrameElementByCoFrameInfo(e.coFrameInfo);if(!a)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target iframe element not found!!"};var l,m,c=t.uiRectUtil.uiRectOfElement(a);t.elementHelper.isIframeElement(a)&&(l=t.elementHelper.getElementPadding(a),i=i.offset(l.paddingLeft,l.paddingTop),m=t.elementHelper.getBorderWidthInfo(a),i=i.offset(m.borderLeftWidth,m.borderTopWidth)),i=i.offset(c.left,c.top)}else{var s=e.requestData.customId;if(s){var f=t.customIdHelper.getElementByCustomId(s);if(!f)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!!"};if("html"==f.tagName.toLowerCase())i=t.uiRectUtil.ofUIRect(0,0,t.jQuery("html").innerWidth(),t.jQuery("html").innerHeight());else if(-1!=s.indexOf(">")){for(var u=null,d=document.getElementsByTagName("iframe"),R=0;R<=d.length;++R)if(f.ownerDocument===d[R].contentDocument){u=d[R];break}var g=t.uiRectUtil.uiRectOfElement(u),h=t.uiRectUtil.uiRectOfElement(f);i=t.uiRectUtil.ofUIRect(g.left+h.left,g.top+h.top,h.width,h.height)}else i=t.uiRectUtil.uiRectOfElement(f)}else i=t.uiRectUtil.ofUIRect(0,0,t.jQuery("html").innerWidth(),t.jQuery("html").innerHeight())}e.requestData.usingCSSView&&(e.requestData.windowLeft=window.screenLeft,e.requestData.windowTop=window.screenTop);var E=t.positionHelper.cssRectToScreenRect(i,e.requestData).mathRound(),p=t.utils.isCroFrameAvaiable()&&!t.utils.isMainFrame();return{retCode:TRUE_CODE,responseData:{left:E.left,right:E.right,top:E.top,bottom:E.bottom},coFrameData:{cssRect:i},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:p,sendToParent:p,crtFrameId:e.frameId})}});
commonPluginSyncCall("getElementValue.js",function(e,t){var r;if(!e.requestData.customId)return{retCode:TRUE_CODE,responseData:{value:t.utils.removeLineBreakCharacters(t.jQuery("body").text())}};var a=t.customIdHelper.getElementByCustomId(e.requestData.customId);if(!a)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target elemenmt is not found!"};var n,u,o=null===(r=a.tagName)||void 0===r?void 0:r.toLowerCase(),s="";return"input"===o||"textarea"===o?s=a.value:"select"===o?e.requestData.getFullText===TRUE_CODE?(n=t.jQuery(a).find("option").get(),t.lodash.forEach(n,function(e){s+=t.utils.trimAndRemoveLineBreakCharacters(t.jQuery(e).text()),s+="\n"})):(u=t.jQuery(a).find(":selected").get(),t.lodash.forEach(u,function(e){s+=t.utils.trimAndRemoveLineBreakCharacters(t.jQuery(e).text()),s+="\n"})):s=t.jQuery(a).text(),{retCode:TRUE_CODE,responseData:{value:s}}});
commonPluginSyncCall("getInterestingElementCustomId.js",function(e,t){var r,a,n=e.requestData.customId,o=null!==(a=null===(r=e.coFrameData)||void 0===r?void 0:r.framePaths)&&void 0!==a?a:[];e.frameId!=undefined&&0<=e.frameId&&o.push(e.frameId);var m=t.customIdHelper.getElementByCustomId(n);if(!m)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};var s=t.selectorHelper.getInterestingParentElement(m);if(s){var d=t.customIdHelper.generateCustomIdForElement(s);return t.utils.isMainFrame()?{retCode:TRUE_CODE,responseData:{customId:d,framePaths:o}}:{retCode:TRUE_CODE,responseData:{customId:d,framePaths:o},coFrameInfo:t.utils.getCoFrameInfo({sendToFrame:!0,crtFrameId:e.frameId,sendToParent:!0})}}return{retCode:TRUE_CODE,responseData:{customId:n}}});
commonPluginSyncCall("getSelectItems.js",function(t,r){var e,n=r.customIdHelper.getElementByCustomId(t.requestData.customId);if(!n)return{retCode:r.retCodeEnum.ELEMENT_NOT_FOUND,responseData:{hasSelectionSupport:FALSE_CODE},message:"Target elemenmt is not found!"};var o=null===(e=n.tagName)||void 0===e?void 0:e.toLowerCase();if("select"!==o)return{retCode:r.retCodeEnum.SELECT_NOT_SUPPORTED,responseData:{hasSelectionSupport:FALSE_CODE},message:"Target element is not select: "+o};var s=r.jQuery(n).find("option").get(),a=r.lodash(s).filter(function(e){return t.requestData.getAllItems===TRUE_CODE||e.selected}).map(function(e){return r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(e).text())}).value();return{retCode:TRUE_CODE,responseData:{selectItems:a,hasSelectionSupport:TRUE_CODE}}});
commonPluginSyncCall("injectAndRunJs.js",function(e,r){var n=r.customIdHelper.getElementByCustomId(e.requestData.customId),t="\n                      var _func = "+e.requestData.jsCode+";\n                      var res;\n                      try{\n                        res = _func();\n                        return {\n                          result: res,\n                          isError: false\n                        }\n                      }catch(e){\n                        return {\n                          result:e.message,\n                          isError: true\n                        }\n                      }";try{var s=new Function("_context$",t)({currentElement:n,jQuery:r.jQuery,lodash:r.lodash,tabId:e.tabId}),u=s.result;u!==undefined&&null!=u||(u=""),"string"!=typeof u&&(u=r.utils.JSONStringfy(u));var a=s.isError;return{retCode:a?FALSE_CODE:TRUE_CODE,message:a?u:undefined,responseData:{result:u,isScriptErr:a?TRUE_CODE:FALSE_CODE},isScriptErr:a?TRUE_CODE:FALSE_CODE}}catch(E){return{retCode:r.retCodeEnum.JS_RUNNING_TIME_ERROR,message:E.message}}});
commonPluginSyncCall("inputMoveToLast.js",function(e,t){var o,r,a=e.requestData.customId,n=t.customIdHelper.getElementByCustomId(a);if(!n)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};var s,l,u=n.tagName.toLowerCase();try{return"input"!==u&&"textarea"!==u||(s=null!==(r=null===(o=n.value)||void 0===o?void 0:o.length)&&void 0!==r?r:0,n.focus(),document.selection?((l=n.createTextRange()).moveStart("character",s),l.collapse(),l.select()):(n.selectionStart=s,n.selectionEnd=s)),{retCode:TRUE_CODE}}catch(c){return t.logger.error(c.message),{retCode:FALSE_CODE,message:c.message}}});
commonPluginSyncCall("isCustomIdValid.js",function(t,s){var e=t.requestData.customId,o=e?!1:!1,o=s.customIdHelper.testCustomIdInHtml(e);return{retCode:TRUE_CODE,responseData:{isValid:o}}});
commonPluginSyncCall("navigationCommand.js",function(e,o){var t=e.requestData.command;try{if("stop"===t)setTimeout(function(){window.stop()});else if("forward"===t)setTimeout(function(){window.history.forward()});else if("back"===t)setTimeout(function(){window.history.back()});else{if("reload"!==t)return{retCode:FALSE_CODE,message:"Unknown command: "+t};setTimeout(function(){window.location.reload()})}return{retCode:TRUE_CODE}}catch(n){return{retCode:FALSE_CODE,message:n.message+n.stack}}});
commonPluginSyncCall("pingTab.js",function(n,a){return{retCode:TRUE_CODE,responseData:{data:!0}}});
commonPluginSyncCall("scrapeData.js",function(e,t){var a=e.requestData,r=a.customId,n=a.inputXML,o=t.customIdHelper.getElementByCustomId(r);if(!o)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};var s=t.dataScraping.scrapeData(o,n);return{retCode:TRUE_CODE,responseData:{data:s}}});
commonPluginSyncCall("scrapeDataEnd.js",function(e,n){var o=e.requestData,d=o.customId,t=o.sessionId,s="clicknium_dataSessionObservers";return n.customIdHelper.getElementByCustomId(d)?(s in window&&(window[s][t]&&(n.lodash.forEach(window[s][t],function(e){e.disconnect()}),delete window[s][t]),n.lodash.size(window[s])&&delete window[s]),{retCode:TRUE_CODE}):{retCode:n.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"}});
commonPluginSyncCall("scroll.js",function(o,e){var l,t,r=o.requestData,s=r.customId,c=r.x,n=void 0===c?0:c,u=r.y,d=void 0===u?0:u,m=(null!==(l=o.requestData.mode)&&void 0!==l?l:"to").toLowerCase(),a=document.documentElement;return s&&(a=e.customIdHelper.getElementByCustomId(o.requestData.customId)),a?("by"===m?a.scrollBy?a.scrollBy(n,d):((t=a).scrollTop=t.scrollTop+d,t.scrollLeft=t.scrollLeft+n):a.scrollTo?a.scrollTo(n,d):((t=a).scrollTop=d,t.scrollLeft=n),{retCode:TRUE_CODE}):{retCode:e.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"}});
commonPluginSyncCall("scrollIntoView.js",function(e,t){var o=t.customIdHelper.getElementByCustomId(e.requestData.customId);if(!o)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found!"};if(o.scrollIntoViewIfNeeded)return o.scrollIntoViewIfNeeded(!0),{retCode:TRUE_CODE};if(t.elementHelper.isElementVisible(o))return t.logger.trace("Target element is visible."),{retCode:TRUE_CODE};o.scrollIntoView&&o.scrollIntoView();var n=o.getBoundingClientRect();return window.scrollBy(0,n.top+(n.bottom-n.top-document.documentElement.clientHeight)/2),{retCode:TRUE_CODE}});
commonPluginSyncCall("selectItemsForElement.js",function(t,r){var e,a=r.customIdHelper.getElementByCustomId(t.requestData.customId);if(!a)return{retCode:r.retCodeEnum.ELEMENT_NOT_FOUND,responseData:{hasSelectionSupport:FALSE_CODE},message:"Target elemenmt is not found!"};var s=null===(e=a.tagName)||void 0===e?void 0:e.toLowerCase();if("select"!==s)return{retCode:r.retCodeEnum.SELECT_NOT_SUPPORTED,responseData:{hasSelectionSupport:FALSE_CODE},message:"Target element is not select: "+s};if(!t.requestData.itemsToSelect||0===t.requestData.itemsToSelect.length){var n=r.jQuery(a).find("option").get(),o=r.lodash(n).filter(function(e){return t.requestData.getAllItems||e.selected}).map(function(e){return r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(e).text())}).value();return{retCode:TRUE_CODE,responseData:{selectedItems:o,hasSelectionSupport:TRUE_CODE}}}var l=t.requestData.itemsToSelect||[],i=r.jQuery(a).find("option").get(),u=!1;if(r.jQuery(a).attr("multiple"))"append"===t.requestData.mode?(r.logger.trace("Set multiple select value (append mode): "+l),r.lodash.each(i,function(t){r.lodash.some(l,function(e){return e===r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(t).text())})&&(t.selected=!0,u=!0)})):(r.logger.trace("Set multiple select value: "+l),r.lodash.each(i,function(t){t.selected=r.lodash.some(l,function(e){return e===r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(t).text())}),u=!0}));else{var c=r.utils.trimAndRemoveLineBreakCharacters(l[0]);r.logger.trace("Set single select value:"+c);for(var m=-1,d=0;d<i.length;++d)if(r.matcherHelper.stringWildcardMatch(c,r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(i[d]).text()))){m=d;break}if(-1!==m){u=!0;for(d=0;d<i.length;++d)i[d].selected=d===m}}return u?(r.eventHelper.raiseUiEventAsync(a,"change"),{retCode:TRUE_CODE,responseData:{hasSelectionSupport:TRUE_CODE}}):{retCode:r.retCodeEnum.SELECT_ITEMS_NOT_FOUND,message:"No select item matched！",responseData:{hasSelectionSupport:FALSE_CODE}}});
commonPluginSyncCall("setConfig.js",function(e,n){return n.setConfig(e.requestData),{retCode:TRUE_CODE,responseData:{}}});
commonPluginSyncCall("setElementAttribute.js",function(e,t){var r=e.requestData,a=r.customId,n=r.attrName,u=r.attrValue,o=t.customIdHelper.getElementByCustomId(a);if(!o)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element is not found!"};if(("input"===o.tagName.toLowerCase()||"inputarea"===o.tagName.toLowerCase())&&"value"===n)return t.jQuery(o).val(u),{retCode:TRUE_CODE,responseData:{}};switch(n){case"innerhtml":t.jQuery(o).html(u);break;case"innertext":t.jQuery(o).text(u);break;default:t.jQuery(o).attr(n,u)}return{retCode:TRUE_CODE,responseData:{}}});
commonPluginSyncCall("setFocusedForElement.js",function(e,t){if(t.lodash.isEmpty(e.requestData.customId))return{retCode:t.retCodeEnum.CUSTOMID_IS_REQUIRED,message:"CustomId is undefined!"};var o=t.customIdHelper.getElementByCustomId(e.requestData.customId);return o?(o.focus(),{retCode:TRUE_CODE}):{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element is not found!"}});
commonPluginSyncCall("setSelectItems.js",function(e,r){var t,a=r.customIdHelper.getElementByCustomId(e.requestData.customId);if(!a)return{retCode:r.retCodeEnum.ELEMENT_NOT_FOUND,responseData:{hasSelectionSupport:FALSE_CODE},message:"Target elemenmt is not found!"};var s=null===(t=a.tagName)||void 0===t?void 0:t.toLowerCase();if("select"!==s)return{retCode:r.retCodeEnum.SELECT_NOT_SUPPORTED,responseData:{hasSelectionSupport:FALSE_CODE},message:"Target element is not select: "+s};var o=e.requestData.itemsToSelect||[],n=r.jQuery(a).find("option").get(),l=!1;if(r.jQuery(a).attr("multiple"))"append"===e.requestData.mode?(r.logger.trace("Set multiple select value (append mode): "+o),r.lodash.each(n,function(t){r.lodash.some(o,function(e){return e===r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(t).text())})&&(t.selected=!0,l=!0)})):(r.logger.trace("Set multiple select value: "+o),r.lodash.each(n,function(t){t.selected=r.lodash.some(o,function(e){return e===r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(t).text())}),l=!0}));else{var i=r.utils.trimAndRemoveLineBreakCharacters(o[0]);r.logger.trace("Set single select value:"+i);for(var u=-1,c=0;c<n.length;++c)if(r.matcherHelper.stringWildcardMatch(i,r.utils.trimAndRemoveLineBreakCharacters(r.jQuery(n[c]).text()))){u=c;break}if(-1!==u){l=!0;for(c=0;c<n.length;++c)n[c].selected=c===u}}return l?(r.eventHelper.raiseUiEventAsync(a,"change"),{retCode:TRUE_CODE,responseData:{hasSelectionSupport:TRUE_CODE}}):{retCode:r.retCodeEnum.SELECT_ITEMS_NOT_FOUND,message:"No select item matched！",responseData:{hasSelectionSupport:FALSE_CODE}}});
commonPluginSyncCall("test.js",function(n){return{retCode:TRUE_CODE,responseData:"haha"}});
commonPluginSyncCall("writeTextForElement.js",function(e,t){var n,r=t.customIdHelper.getElementByCustomId(e.requestData.customId),a=e.requestData.text||"";if(!r)return{retCode:t.retCodeEnum.ELEMENT_NOT_FOUND,message:"Target element not found！"};var s=null===(n=r.tagName)||void 0===n?void 0:n.toLowerCase();return("input"===s||"textarea"===s)&&(t.eventHelper.raiseUiEventAsync(r,"focus",{}),e.requestData.append===TRUE_CODE&&(a=r.value+a),setTimeout(function(){r.value=a,t.eventHelper.raiseKeyEventAsync(r,"keydown",{}),t.eventHelper.raiseUiEventAsync(r,"input",{}),t.eventHelper.raiseKeyEventAsync(r,"keyup",{}),t.eventHelper.raiseUiEventAsync(r,"change",{})})),{retCode:TRUE_CODE}});
requirejs(['internetExplorer/entry'],function(entry){entry.doInit && entry.doInit()});
})();